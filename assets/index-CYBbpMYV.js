(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var su=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function be(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var VT={exports:{}},Gf={},GT={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ql=Symbol.for("react.element"),iR=Symbol.for("react.portal"),oR=Symbol.for("react.fragment"),aR=Symbol.for("react.strict_mode"),sR=Symbol.for("react.profiler"),lR=Symbol.for("react.provider"),uR=Symbol.for("react.context"),cR=Symbol.for("react.forward_ref"),fR=Symbol.for("react.suspense"),dR=Symbol.for("react.memo"),hR=Symbol.for("react.lazy"),D0=Symbol.iterator;function pR(e){return e===null||typeof e!="object"?null:(e=D0&&e[D0]||e["@@iterator"],typeof e=="function"?e:null)}var qT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WT=Object.assign,KT={};function ka(e,t,n){this.props=e,this.context=t,this.refs=KT,this.updater=n||qT}ka.prototype.isReactComponent={};ka.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ka.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function JT(){}JT.prototype=ka.prototype;function wy(e,t,n){this.props=e,this.context=t,this.refs=KT,this.updater=n||qT}var by=wy.prototype=new JT;by.constructor=wy;WT(by,ka.prototype);by.isPureReactComponent=!0;var L0=Array.isArray,YT=Object.prototype.hasOwnProperty,_y={current:null},XT={key:!0,ref:!0,__self:!0,__source:!0};function QT(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)YT.call(t,r)&&!XT.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:ql,type:e,key:o,ref:a,props:i,_owner:_y.current}}function mR(e,t){return{$$typeof:ql,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sy(e){return typeof e=="object"&&e!==null&&e.$$typeof===ql}function gR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var U0=/\/+/g;function ph(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gR(""+e.key):t.toString(36)}function Yu(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ql:case iR:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+ph(a,0):r,L0(i)?(n="",e!=null&&(n=e.replace(U0,"$&/")+"/"),Yu(i,t,n,"",function(u){return u})):i!=null&&(Sy(i)&&(i=mR(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(U0,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",L0(e))for(var s=0;s<e.length;s++){o=e[s];var l=r+ph(o,s);a+=Yu(o,t,n,l,i)}else if(l=pR(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=r+ph(o,s++),a+=Yu(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function lu(e,t,n){if(e==null)return e;var r=[],i=0;return Yu(e,r,"","",function(o){return t.call(n,o,i++)}),r}function yR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rt={current:null},Xu={transition:null},vR={ReactCurrentDispatcher:Rt,ReactCurrentBatchConfig:Xu,ReactCurrentOwner:_y};function ZT(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:lu,forEach:function(e,t,n){lu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return lu(e,function(){t++}),t},toArray:function(e){return lu(e,function(t){return t})||[]},only:function(e){if(!Sy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=ka;ce.Fragment=oR;ce.Profiler=sR;ce.PureComponent=wy;ce.StrictMode=aR;ce.Suspense=fR;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vR;ce.act=ZT;ce.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=WT({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=_y.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)YT.call(t,l)&&!XT.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:ql,type:e.type,key:i,ref:o,props:r,_owner:a}};ce.createContext=function(e){return e={$$typeof:uR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lR,_context:e},e.Consumer=e};ce.createElement=QT;ce.createFactory=function(e){var t=QT.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:cR,render:e}};ce.isValidElement=Sy;ce.lazy=function(e){return{$$typeof:hR,_payload:{_status:-1,_result:e},_init:yR}};ce.memo=function(e,t){return{$$typeof:dR,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=Xu.transition;Xu.transition={};try{e()}finally{Xu.transition=t}};ce.unstable_act=ZT;ce.useCallback=function(e,t){return Rt.current.useCallback(e,t)};ce.useContext=function(e){return Rt.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return Rt.current.useDeferredValue(e)};ce.useEffect=function(e,t){return Rt.current.useEffect(e,t)};ce.useId=function(){return Rt.current.useId()};ce.useImperativeHandle=function(e,t,n){return Rt.current.useImperativeHandle(e,t,n)};ce.useInsertionEffect=function(e,t){return Rt.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return Rt.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return Rt.current.useMemo(e,t)};ce.useReducer=function(e,t,n){return Rt.current.useReducer(e,t,n)};ce.useRef=function(e){return Rt.current.useRef(e)};ce.useState=function(e){return Rt.current.useState(e)};ce.useSyncExternalStore=function(e,t,n){return Rt.current.useSyncExternalStore(e,t,n)};ce.useTransition=function(){return Rt.current.useTransition()};ce.version="18.3.1";GT.exports=ce;var j=GT.exports;const k=be(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wR=j,bR=Symbol.for("react.element"),_R=Symbol.for("react.fragment"),SR=Object.prototype.hasOwnProperty,xR=wR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ER={key:!0,ref:!0,__self:!0,__source:!0};function eA(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)SR.call(t,r)&&!ER.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:bR,type:e,key:o,ref:a,props:i,_owner:xR.current}}Gf.Fragment=_R;Gf.jsx=eA;Gf.jsxs=eA;VT.exports=Gf;var A=VT.exports,Ap={},tA={exports:{}},en={},nA={exports:{}},rA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,F){var B=N.length;N.push(F);e:for(;0<B;){var H=B-1>>>1,q=N[H];if(0<i(q,F))N[H]=F,N[B]=q,B=H;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var F=N[0],B=N.pop();if(B!==F){N[0]=B;e:for(var H=0,q=N.length,Z=q>>>1;H<Z;){var de=2*(H+1)-1,Ne=N[de],He=de+1,nn=N[He];if(0>i(Ne,B))He<q&&0>i(nn,Ne)?(N[H]=nn,N[He]=B,H=He):(N[H]=Ne,N[de]=B,H=de);else if(He<q&&0>i(nn,B))N[H]=nn,N[He]=B,H=He;else break e}}return F}function i(N,F){var B=N.sortIndex-F.sortIndex;return B!==0?B:N.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,h=3,m=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(N){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=N)r(u),F.sortIndex=F.expirationTime,t(l,F);else break;F=n(u)}}function E(N){if(y=!1,_(N),!g)if(n(l)!==null)g=!0,L(S);else{var F=n(u);F!==null&&z(E,F.startTime-N)}}function S(N,F){g=!1,y&&(y=!1,v(C),C=-1),m=!0;var B=h;try{for(_(F),f=n(l);f!==null&&(!(f.expirationTime>F)||N&&!R());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var q=H(f.expirationTime<=F);F=e.unstable_now(),typeof q=="function"?f.callback=q:f===n(l)&&r(l),_(F)}else r(l);f=n(l)}if(f!==null)var Z=!0;else{var de=n(u);de!==null&&z(E,de.startTime-F),Z=!1}return Z}finally{f=null,h=B,m=!1}}var x=!1,T=null,C=-1,P=5,I=-1;function R(){return!(e.unstable_now()-I<P)}function O(){if(T!==null){var N=e.unstable_now();I=N;var F=!0;try{F=T(!0,N)}finally{F?D():(x=!1,T=null)}}else x=!1}var D;if(typeof w=="function")D=function(){w(O)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,M=$.port2;$.port1.onmessage=O,D=function(){M.postMessage(null)}}else D=function(){b(O,0)};function L(N){T=N,x||(x=!0,D())}function z(N,F){C=b(function(){N(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,L(S))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(N){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var B=h;h=F;try{return N()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,F){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var B=h;h=N;try{return F()}finally{h=B}},e.unstable_scheduleCallback=function(N,F,B){var H=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?H+B:H):B=H,N){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=B+q,N={id:c++,callback:F,priorityLevel:N,startTime:B,expirationTime:q,sortIndex:-1},B>H?(N.sortIndex=B,t(u,N),n(l)===null&&N===n(u)&&(y?(v(C),C=-1):y=!0,z(E,B-H))):(N.sortIndex=q,t(l,N),g||m||(g=!0,L(S))),N},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(N){var F=h;return function(){var B=h;h=F;try{return N.apply(this,arguments)}finally{h=B}}}})(rA);nA.exports=rA;var TR=nA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AR=j,Zt=TR;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iA=new Set,Bs={};function Xi(e,t){Qo(e,t),Qo(e+"Capture",t)}function Qo(e,t){for(Bs[e]=t,e=0;e<t.length;e++)iA.add(t[e])}var fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cp=Object.prototype.hasOwnProperty,CR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j0={},F0={};function PR(e){return Cp.call(F0,e)?!0:Cp.call(j0,e)?!1:CR.test(e)?F0[e]=!0:(j0[e]=!0,!1)}function kR(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function IR(e,t,n,r){if(t===null||typeof t>"u"||kR(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Nt(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){mt[e]=new Nt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];mt[t]=new Nt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){mt[e]=new Nt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){mt[e]=new Nt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){mt[e]=new Nt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){mt[e]=new Nt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){mt[e]=new Nt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){mt[e]=new Nt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){mt[e]=new Nt(e,5,!1,e.toLowerCase(),null,!1,!1)});var xy=/[\-:]([a-z])/g;function Ey(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xy,Ey);mt[t]=new Nt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xy,Ey);mt[t]=new Nt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xy,Ey);mt[t]=new Nt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){mt[e]=new Nt(e,1,!1,e.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){mt[e]=new Nt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ty(e,t,n,r){var i=mt.hasOwnProperty(t)?mt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(IR(t,n,i,r)&&(n=null),r||i===null?PR(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var br=AR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uu=Symbol.for("react.element"),bo=Symbol.for("react.portal"),_o=Symbol.for("react.fragment"),Ay=Symbol.for("react.strict_mode"),Pp=Symbol.for("react.profiler"),oA=Symbol.for("react.provider"),aA=Symbol.for("react.context"),Cy=Symbol.for("react.forward_ref"),kp=Symbol.for("react.suspense"),Ip=Symbol.for("react.suspense_list"),Py=Symbol.for("react.memo"),Ir=Symbol.for("react.lazy"),sA=Symbol.for("react.offscreen"),B0=Symbol.iterator;function Ja(e){return e===null||typeof e!="object"?null:(e=B0&&e[B0]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Object.assign,mh;function ys(e){if(mh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);mh=t&&t[1]||""}return`
`+mh+e}var gh=!1;function yh(e,t){if(!e||gh)return"";gh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{gh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ys(e):""}function OR(e){switch(e.tag){case 5:return ys(e.type);case 16:return ys("Lazy");case 13:return ys("Suspense");case 19:return ys("SuspenseList");case 0:case 2:case 15:return e=yh(e.type,!1),e;case 11:return e=yh(e.type.render,!1),e;case 1:return e=yh(e.type,!0),e;default:return""}}function Op(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _o:return"Fragment";case bo:return"Portal";case Pp:return"Profiler";case Ay:return"StrictMode";case kp:return"Suspense";case Ip:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case aA:return(e.displayName||"Context")+".Consumer";case oA:return(e._context.displayName||"Context")+".Provider";case Cy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Py:return t=e.displayName||null,t!==null?t:Op(e.type)||"Memo";case Ir:t=e._payload,e=e._init;try{return Op(e(t))}catch{}}return null}function RR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Op(t);case 8:return t===Ay?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ei(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function NR(e){var t=lA(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cu(e){e._valueTracker||(e._valueTracker=NR(e))}function uA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=lA(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function fc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Rp(e,t){var n=t.checked;return Ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function z0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ei(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cA(e,t){t=t.checked,t!=null&&Ty(e,"checked",t,!1)}function Np(e,t){cA(e,t);var n=ei(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mp(e,t.type,n):t.hasOwnProperty("defaultValue")&&Mp(e,t.type,ei(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function H0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Mp(e,t,n){(t!=="number"||fc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vs=Array.isArray;function Fo(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ei(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function $p(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return Ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function V0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(G(92));if(vs(n)){if(1<n.length)throw Error(G(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ei(n)}}function fA(e,t){var n=ei(t.value),r=ei(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function G0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dA(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fu,hA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fu=fu||document.createElement("div"),fu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MR=["Webkit","ms","Moz","O"];Object.keys(Es).forEach(function(e){MR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Es[t]=Es[e]})});function pA(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Es.hasOwnProperty(e)&&Es[e]?(""+t).trim():t+"px"}function mA(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=pA(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var $R=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lp(e,t){if(t){if($R[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function Up(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jp=null;function ky(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fp=null,Bo=null,zo=null;function q0(e){if(e=Jl(e)){if(typeof Fp!="function")throw Error(G(280));var t=e.stateNode;t&&(t=Yf(t),Fp(e.stateNode,e.type,t))}}function gA(e){Bo?zo?zo.push(e):zo=[e]:Bo=e}function yA(){if(Bo){var e=Bo,t=zo;if(zo=Bo=null,q0(e),t)for(e=0;e<t.length;e++)q0(t[e])}}function vA(e,t){return e(t)}function wA(){}var vh=!1;function bA(e,t,n){if(vh)return e(t,n);vh=!0;try{return vA(e,t,n)}finally{vh=!1,(Bo!==null||zo!==null)&&(wA(),yA())}}function Hs(e,t){var n=e.stateNode;if(n===null)return null;var r=Yf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(G(231,t,typeof n));return n}var Bp=!1;if(fr)try{var Ya={};Object.defineProperty(Ya,"passive",{get:function(){Bp=!0}}),window.addEventListener("test",Ya,Ya),window.removeEventListener("test",Ya,Ya)}catch{Bp=!1}function DR(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ts=!1,dc=null,hc=!1,zp=null,LR={onError:function(e){Ts=!0,dc=e}};function UR(e,t,n,r,i,o,a,s,l){Ts=!1,dc=null,DR.apply(LR,arguments)}function jR(e,t,n,r,i,o,a,s,l){if(UR.apply(this,arguments),Ts){if(Ts){var u=dc;Ts=!1,dc=null}else throw Error(G(198));hc||(hc=!0,zp=u)}}function Qi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function _A(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function W0(e){if(Qi(e)!==e)throw Error(G(188))}function FR(e){var t=e.alternate;if(!t){if(t=Qi(e),t===null)throw Error(G(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return W0(i),e;if(o===r)return W0(i),t;o=o.sibling}throw Error(G(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?e:t}function SA(e){return e=FR(e),e!==null?xA(e):null}function xA(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xA(e);if(t!==null)return t;e=e.sibling}return null}var EA=Zt.unstable_scheduleCallback,K0=Zt.unstable_cancelCallback,BR=Zt.unstable_shouldYield,zR=Zt.unstable_requestPaint,Ve=Zt.unstable_now,HR=Zt.unstable_getCurrentPriorityLevel,Iy=Zt.unstable_ImmediatePriority,TA=Zt.unstable_UserBlockingPriority,pc=Zt.unstable_NormalPriority,VR=Zt.unstable_LowPriority,AA=Zt.unstable_IdlePriority,qf=null,Vn=null;function GR(e){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(qf,e,void 0,(e.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:KR,qR=Math.log,WR=Math.LN2;function KR(e){return e>>>=0,e===0?32:31-(qR(e)/WR|0)|0}var du=64,hu=4194304;function ws(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=ws(s):(o&=a,o!==0&&(r=ws(o)))}else a=n&~i,a!==0?r=ws(a):o!==0&&(r=ws(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Rn(t),i=1<<n,r|=e[n],t&=~i;return r}function JR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YR(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Rn(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=JR(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function Hp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function CA(){var e=du;return du<<=1,!(du&4194240)&&(du=64),e}function wh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rn(t),e[t]=n}function XR(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Rn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Oy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Rn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var we=0;function PA(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kA,Ry,IA,OA,RA,Vp=!1,pu=[],zr=null,Hr=null,Vr=null,Vs=new Map,Gs=new Map,$r=[],QR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function J0(e,t){switch(e){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":Vs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gs.delete(t.pointerId)}}function Xa(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Jl(t),t!==null&&Ry(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ZR(e,t,n,r,i){switch(t){case"focusin":return zr=Xa(zr,e,t,n,r,i),!0;case"dragenter":return Hr=Xa(Hr,e,t,n,r,i),!0;case"mouseover":return Vr=Xa(Vr,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Vs.set(o,Xa(Vs.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Gs.set(o,Xa(Gs.get(o)||null,e,t,n,r,i)),!0}return!1}function NA(e){var t=Pi(e.target);if(t!==null){var n=Qi(t);if(n!==null){if(t=n.tag,t===13){if(t=_A(n),t!==null){e.blockedOn=t,RA(e.priority,function(){IA(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);jp=r,n.target.dispatchEvent(r),jp=null}else return t=Jl(n),t!==null&&Ry(t),e.blockedOn=n,!1;t.shift()}return!0}function Y0(e,t,n){Qu(e)&&n.delete(t)}function eN(){Vp=!1,zr!==null&&Qu(zr)&&(zr=null),Hr!==null&&Qu(Hr)&&(Hr=null),Vr!==null&&Qu(Vr)&&(Vr=null),Vs.forEach(Y0),Gs.forEach(Y0)}function Qa(e,t){e.blockedOn===t&&(e.blockedOn=null,Vp||(Vp=!0,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,eN)))}function qs(e){function t(i){return Qa(i,e)}if(0<pu.length){Qa(pu[0],e);for(var n=1;n<pu.length;n++){var r=pu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(zr!==null&&Qa(zr,e),Hr!==null&&Qa(Hr,e),Vr!==null&&Qa(Vr,e),Vs.forEach(t),Gs.forEach(t),n=0;n<$r.length;n++)r=$r[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<$r.length&&(n=$r[0],n.blockedOn===null);)NA(n),n.blockedOn===null&&$r.shift()}var Ho=br.ReactCurrentBatchConfig,gc=!0;function tN(e,t,n,r){var i=we,o=Ho.transition;Ho.transition=null;try{we=1,Ny(e,t,n,r)}finally{we=i,Ho.transition=o}}function nN(e,t,n,r){var i=we,o=Ho.transition;Ho.transition=null;try{we=4,Ny(e,t,n,r)}finally{we=i,Ho.transition=o}}function Ny(e,t,n,r){if(gc){var i=Gp(e,t,n,r);if(i===null)kh(e,t,r,yc,n),J0(e,r);else if(ZR(i,e,t,n,r))r.stopPropagation();else if(J0(e,r),t&4&&-1<QR.indexOf(e)){for(;i!==null;){var o=Jl(i);if(o!==null&&kA(o),o=Gp(e,t,n,r),o===null&&kh(e,t,r,yc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else kh(e,t,r,null,n)}}var yc=null;function Gp(e,t,n,r){if(yc=null,e=ky(r),e=Pi(e),e!==null)if(t=Qi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=_A(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yc=e,null}function MA(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HR()){case Iy:return 1;case TA:return 4;case pc:case VR:return 16;case AA:return 536870912;default:return 16}default:return 16}}var jr=null,My=null,Zu=null;function $A(){if(Zu)return Zu;var e,t=My,n=t.length,r,i="value"in jr?jr.value:jr.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return Zu=i.slice(e,1<r?1-r:void 0)}function ec(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mu(){return!0}function X0(){return!1}function tn(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?mu:X0,this.isPropagationStopped=X0,this}return Ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mu)},persist:function(){},isPersistent:mu}),t}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$y=tn(Ia),Kl=Ue({},Ia,{view:0,detail:0}),rN=tn(Kl),bh,_h,Za,Wf=Ue({},Kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dy,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Za&&(Za&&e.type==="mousemove"?(bh=e.screenX-Za.screenX,_h=e.screenY-Za.screenY):_h=bh=0,Za=e),bh)},movementY:function(e){return"movementY"in e?e.movementY:_h}}),Q0=tn(Wf),iN=Ue({},Wf,{dataTransfer:0}),oN=tn(iN),aN=Ue({},Kl,{relatedTarget:0}),Sh=tn(aN),sN=Ue({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),lN=tn(sN),uN=Ue({},Ia,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cN=tn(uN),fN=Ue({},Ia,{data:0}),Z0=tn(fN),dN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pN[e])?!!t[e]:!1}function Dy(){return mN}var gN=Ue({},Kl,{key:function(e){if(e.key){var t=dN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ec(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dy,charCode:function(e){return e.type==="keypress"?ec(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ec(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yN=tn(gN),vN=Ue({},Wf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ew=tn(vN),wN=Ue({},Kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dy}),bN=tn(wN),_N=Ue({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),SN=tn(_N),xN=Ue({},Wf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),EN=tn(xN),TN=[9,13,27,32],Ly=fr&&"CompositionEvent"in window,As=null;fr&&"documentMode"in document&&(As=document.documentMode);var AN=fr&&"TextEvent"in window&&!As,DA=fr&&(!Ly||As&&8<As&&11>=As),tw=" ",nw=!1;function LA(e,t){switch(e){case"keyup":return TN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UA(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var So=!1;function CN(e,t){switch(e){case"compositionend":return UA(t);case"keypress":return t.which!==32?null:(nw=!0,tw);case"textInput":return e=t.data,e===tw&&nw?null:e;default:return null}}function PN(e,t){if(So)return e==="compositionend"||!Ly&&LA(e,t)?(e=$A(),Zu=My=jr=null,So=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return DA&&t.locale!=="ko"?null:t.data;default:return null}}var kN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kN[e.type]:t==="textarea"}function jA(e,t,n,r){gA(r),t=vc(t,"onChange"),0<t.length&&(n=new $y("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Cs=null,Ws=null;function IN(e){YA(e,0)}function Kf(e){var t=To(e);if(uA(t))return e}function ON(e,t){if(e==="change")return t}var FA=!1;if(fr){var xh;if(fr){var Eh="oninput"in document;if(!Eh){var iw=document.createElement("div");iw.setAttribute("oninput","return;"),Eh=typeof iw.oninput=="function"}xh=Eh}else xh=!1;FA=xh&&(!document.documentMode||9<document.documentMode)}function ow(){Cs&&(Cs.detachEvent("onpropertychange",BA),Ws=Cs=null)}function BA(e){if(e.propertyName==="value"&&Kf(Ws)){var t=[];jA(t,Ws,e,ky(e)),bA(IN,t)}}function RN(e,t,n){e==="focusin"?(ow(),Cs=t,Ws=n,Cs.attachEvent("onpropertychange",BA)):e==="focusout"&&ow()}function NN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Kf(Ws)}function MN(e,t){if(e==="click")return Kf(t)}function $N(e,t){if(e==="input"||e==="change")return Kf(t)}function DN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ln=typeof Object.is=="function"?Object.is:DN;function Ks(e,t){if(Ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Cp.call(t,i)||!Ln(e[i],t[i]))return!1}return!0}function aw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sw(e,t){var n=aw(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=aw(n)}}function zA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function HA(){for(var e=window,t=fc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=fc(e.document)}return t}function Uy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function LN(e){var t=HA(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&zA(n.ownerDocument.documentElement,n)){if(r!==null&&Uy(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=sw(n,o);var a=sw(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var UN=fr&&"documentMode"in document&&11>=document.documentMode,xo=null,qp=null,Ps=null,Wp=!1;function lw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wp||xo==null||xo!==fc(r)||(r=xo,"selectionStart"in r&&Uy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ps&&Ks(Ps,r)||(Ps=r,r=vc(qp,"onSelect"),0<r.length&&(t=new $y("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xo)))}function gu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Eo={animationend:gu("Animation","AnimationEnd"),animationiteration:gu("Animation","AnimationIteration"),animationstart:gu("Animation","AnimationStart"),transitionend:gu("Transition","TransitionEnd")},Th={},VA={};fr&&(VA=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function Jf(e){if(Th[e])return Th[e];if(!Eo[e])return e;var t=Eo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in VA)return Th[e]=t[n];return e}var GA=Jf("animationend"),qA=Jf("animationiteration"),WA=Jf("animationstart"),KA=Jf("transitionend"),JA=new Map,uw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(e,t){JA.set(e,t),Xi(t,[e])}for(var Ah=0;Ah<uw.length;Ah++){var Ch=uw[Ah],jN=Ch.toLowerCase(),FN=Ch[0].toUpperCase()+Ch.slice(1);ri(jN,"on"+FN)}ri(GA,"onAnimationEnd");ri(qA,"onAnimationIteration");ri(WA,"onAnimationStart");ri("dblclick","onDoubleClick");ri("focusin","onFocus");ri("focusout","onBlur");ri(KA,"onTransitionEnd");Qo("onMouseEnter",["mouseout","mouseover"]);Qo("onMouseLeave",["mouseout","mouseover"]);Qo("onPointerEnter",["pointerout","pointerover"]);Qo("onPointerLeave",["pointerout","pointerover"]);Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BN=new Set("cancel close invalid load scroll toggle".split(" ").concat(bs));function cw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,jR(r,t,void 0,e),e.currentTarget=null}function YA(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;cw(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;cw(i,s,u),o=l}}}if(hc)throw e=zp,hc=!1,zp=null,e}function ke(e,t){var n=t[Qp];n===void 0&&(n=t[Qp]=new Set);var r=e+"__bubble";n.has(r)||(XA(t,e,2,!1),n.add(r))}function Ph(e,t,n){var r=0;t&&(r|=4),XA(n,e,r,t)}var yu="_reactListening"+Math.random().toString(36).slice(2);function Js(e){if(!e[yu]){e[yu]=!0,iA.forEach(function(n){n!=="selectionchange"&&(BN.has(n)||Ph(n,!1,e),Ph(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yu]||(t[yu]=!0,Ph("selectionchange",!1,t))}}function XA(e,t,n,r){switch(MA(t)){case 1:var i=tN;break;case 4:i=nN;break;default:i=Ny}n=i.bind(null,t,n,e),i=void 0,!Bp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function kh(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Pi(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}bA(function(){var u=o,c=ky(n),f=[];e:{var h=JA.get(e);if(h!==void 0){var m=$y,g=e;switch(e){case"keypress":if(ec(n)===0)break e;case"keydown":case"keyup":m=yN;break;case"focusin":g="focus",m=Sh;break;case"focusout":g="blur",m=Sh;break;case"beforeblur":case"afterblur":m=Sh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Q0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=oN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=bN;break;case GA:case qA:case WA:m=lN;break;case KA:m=SN;break;case"scroll":m=rN;break;case"wheel":m=EN;break;case"copy":case"cut":case"paste":m=cN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ew}var y=(t&4)!==0,b=!y&&e==="scroll",v=y?h!==null?h+"Capture":null:h;y=[];for(var w=u,_;w!==null;){_=w;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,v!==null&&(E=Hs(w,v),E!=null&&y.push(Ys(w,E,_)))),b)break;w=w.return}0<y.length&&(h=new m(h,g,null,n,c),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==jp&&(g=n.relatedTarget||n.fromElement)&&(Pi(g)||g[dr]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?Pi(g):null,g!==null&&(b=Qi(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(y=Q0,E="onMouseLeave",v="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(y=ew,E="onPointerLeave",v="onPointerEnter",w="pointer"),b=m==null?h:To(m),_=g==null?h:To(g),h=new y(E,w+"leave",m,n,c),h.target=b,h.relatedTarget=_,E=null,Pi(c)===u&&(y=new y(v,w+"enter",g,n,c),y.target=_,y.relatedTarget=b,E=y),b=E,m&&g)t:{for(y=m,v=g,w=0,_=y;_;_=oo(_))w++;for(_=0,E=v;E;E=oo(E))_++;for(;0<w-_;)y=oo(y),w--;for(;0<_-w;)v=oo(v),_--;for(;w--;){if(y===v||v!==null&&y===v.alternate)break t;y=oo(y),v=oo(v)}y=null}else y=null;m!==null&&fw(f,h,m,y,!1),g!==null&&b!==null&&fw(f,b,g,y,!0)}}e:{if(h=u?To(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=ON;else if(rw(h))if(FA)S=$N;else{S=NN;var x=RN}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=MN);if(S&&(S=S(e,u))){jA(f,S,n,c);break e}x&&x(e,h,u),e==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&Mp(h,"number",h.value)}switch(x=u?To(u):window,e){case"focusin":(rw(x)||x.contentEditable==="true")&&(xo=x,qp=u,Ps=null);break;case"focusout":Ps=qp=xo=null;break;case"mousedown":Wp=!0;break;case"contextmenu":case"mouseup":case"dragend":Wp=!1,lw(f,n,c);break;case"selectionchange":if(UN)break;case"keydown":case"keyup":lw(f,n,c)}var T;if(Ly)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else So?LA(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(DA&&n.locale!=="ko"&&(So||C!=="onCompositionStart"?C==="onCompositionEnd"&&So&&(T=$A()):(jr=c,My="value"in jr?jr.value:jr.textContent,So=!0)),x=vc(u,C),0<x.length&&(C=new Z0(C,e,null,n,c),f.push({event:C,listeners:x}),T?C.data=T:(T=UA(n),T!==null&&(C.data=T)))),(T=AN?CN(e,n):PN(e,n))&&(u=vc(u,"onBeforeInput"),0<u.length&&(c=new Z0("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=T))}YA(f,t)})}function Ys(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vc(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Hs(e,n),o!=null&&r.unshift(Ys(e,o,i)),o=Hs(e,t),o!=null&&r.push(Ys(e,o,i))),e=e.return}return r}function oo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fw(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Hs(n,o),l!=null&&a.unshift(Ys(n,l,s))):i||(l=Hs(n,o),l!=null&&a.push(Ys(n,l,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var zN=/\r\n?/g,HN=/\u0000|\uFFFD/g;function dw(e){return(typeof e=="string"?e:""+e).replace(zN,`
`).replace(HN,"")}function vu(e,t,n){if(t=dw(t),dw(e)!==t&&n)throw Error(G(425))}function wc(){}var Kp=null,Jp=null;function Yp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xp=typeof setTimeout=="function"?setTimeout:void 0,VN=typeof clearTimeout=="function"?clearTimeout:void 0,hw=typeof Promise=="function"?Promise:void 0,GN=typeof queueMicrotask=="function"?queueMicrotask:typeof hw<"u"?function(e){return hw.resolve(null).then(e).catch(qN)}:Xp;function qN(e){setTimeout(function(){throw e})}function Ih(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),qs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);qs(t)}function Gr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Oa=Math.random().toString(36).slice(2),zn="__reactFiber$"+Oa,Xs="__reactProps$"+Oa,dr="__reactContainer$"+Oa,Qp="__reactEvents$"+Oa,WN="__reactListeners$"+Oa,KN="__reactHandles$"+Oa;function Pi(e){var t=e[zn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[dr]||n[zn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=pw(e);e!==null;){if(n=e[zn])return n;e=pw(e)}return t}e=n,n=e.parentNode}return null}function Jl(e){return e=e[zn]||e[dr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function To(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function Yf(e){return e[Xs]||null}var Zp=[],Ao=-1;function ii(e){return{current:e}}function Re(e){0>Ao||(e.current=Zp[Ao],Zp[Ao]=null,Ao--)}function Ce(e,t){Ao++,Zp[Ao]=e.current,e.current=t}var ti={},xt=ii(ti),Ft=ii(!1),Fi=ti;function Zo(e,t){var n=e.type.contextTypes;if(!n)return ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Bt(e){return e=e.childContextTypes,e!=null}function bc(){Re(Ft),Re(xt)}function mw(e,t,n){if(xt.current!==ti)throw Error(G(168));Ce(xt,t),Ce(Ft,n)}function QA(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(G(108,RR(e)||"Unknown",i));return Ue({},n,r)}function _c(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ti,Fi=xt.current,Ce(xt,e),Ce(Ft,Ft.current),!0}function gw(e,t,n){var r=e.stateNode;if(!r)throw Error(G(169));n?(e=QA(e,t,Fi),r.__reactInternalMemoizedMergedChildContext=e,Re(Ft),Re(xt),Ce(xt,e)):Re(Ft),Ce(Ft,n)}var nr=null,Xf=!1,Oh=!1;function ZA(e){nr===null?nr=[e]:nr.push(e)}function JN(e){Xf=!0,ZA(e)}function oi(){if(!Oh&&nr!==null){Oh=!0;var e=0,t=we;try{var n=nr;for(we=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}nr=null,Xf=!1}catch(i){throw nr!==null&&(nr=nr.slice(e+1)),EA(Iy,oi),i}finally{we=t,Oh=!1}}return null}var Co=[],Po=0,Sc=null,xc=0,sn=[],ln=0,Bi=null,rr=1,ir="";function vi(e,t){Co[Po++]=xc,Co[Po++]=Sc,Sc=e,xc=t}function e1(e,t,n){sn[ln++]=rr,sn[ln++]=ir,sn[ln++]=Bi,Bi=e;var r=rr;e=ir;var i=32-Rn(r)-1;r&=~(1<<i),n+=1;var o=32-Rn(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,rr=1<<32-Rn(t)+i|n<<i|r,ir=o+e}else rr=1<<o|n<<i|r,ir=e}function jy(e){e.return!==null&&(vi(e,1),e1(e,1,0))}function Fy(e){for(;e===Sc;)Sc=Co[--Po],Co[Po]=null,xc=Co[--Po],Co[Po]=null;for(;e===Bi;)Bi=sn[--ln],sn[ln]=null,ir=sn[--ln],sn[ln]=null,rr=sn[--ln],sn[ln]=null}var Xt=null,Yt=null,Me=!1,In=null;function t1(e,t){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function yw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xt=e,Yt=Gr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xt=e,Yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Bi!==null?{id:rr,overflow:ir}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xt=e,Yt=null,!0):!1;default:return!1}}function em(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tm(e){if(Me){var t=Yt;if(t){var n=t;if(!yw(e,t)){if(em(e))throw Error(G(418));t=Gr(n.nextSibling);var r=Xt;t&&yw(e,t)?t1(r,n):(e.flags=e.flags&-4097|2,Me=!1,Xt=e)}}else{if(em(e))throw Error(G(418));e.flags=e.flags&-4097|2,Me=!1,Xt=e}}}function vw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xt=e}function wu(e){if(e!==Xt)return!1;if(!Me)return vw(e),Me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yp(e.type,e.memoizedProps)),t&&(t=Yt)){if(em(e))throw n1(),Error(G(418));for(;t;)t1(e,t),t=Gr(t.nextSibling)}if(vw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Yt=Gr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Yt=null}}else Yt=Xt?Gr(e.stateNode.nextSibling):null;return!0}function n1(){for(var e=Yt;e;)e=Gr(e.nextSibling)}function ea(){Yt=Xt=null,Me=!1}function By(e){In===null?In=[e]:In.push(e)}var YN=br.ReactCurrentBatchConfig;function es(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,e))}return e}function bu(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ww(e){var t=e._init;return t(e._payload)}function r1(e){function t(v,w){if(e){var _=v.deletions;_===null?(v.deletions=[w],v.flags|=16):_.push(w)}}function n(v,w){if(!e)return null;for(;w!==null;)t(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=Jr(v,w),v.index=0,v.sibling=null,v}function o(v,w,_){return v.index=_,e?(_=v.alternate,_!==null?(_=_.index,_<w?(v.flags|=2,w):_):(v.flags|=2,w)):(v.flags|=1048576,w)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function s(v,w,_,E){return w===null||w.tag!==6?(w=Uh(_,v.mode,E),w.return=v,w):(w=i(w,_),w.return=v,w)}function l(v,w,_,E){var S=_.type;return S===_o?c(v,w,_.props.children,E,_.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ir&&ww(S)===w.type)?(E=i(w,_.props),E.ref=es(v,w,_),E.return=v,E):(E=sc(_.type,_.key,_.props,null,v.mode,E),E.ref=es(v,w,_),E.return=v,E)}function u(v,w,_,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=jh(_,v.mode,E),w.return=v,w):(w=i(w,_.children||[]),w.return=v,w)}function c(v,w,_,E,S){return w===null||w.tag!==7?(w=Li(_,v.mode,E,S),w.return=v,w):(w=i(w,_),w.return=v,w)}function f(v,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Uh(""+w,v.mode,_),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case uu:return _=sc(w.type,w.key,w.props,null,v.mode,_),_.ref=es(v,null,w),_.return=v,_;case bo:return w=jh(w,v.mode,_),w.return=v,w;case Ir:var E=w._init;return f(v,E(w._payload),_)}if(vs(w)||Ja(w))return w=Li(w,v.mode,_,null),w.return=v,w;bu(v,w)}return null}function h(v,w,_,E){var S=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:s(v,w,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case uu:return _.key===S?l(v,w,_,E):null;case bo:return _.key===S?u(v,w,_,E):null;case Ir:return S=_._init,h(v,w,S(_._payload),E)}if(vs(_)||Ja(_))return S!==null?null:c(v,w,_,E,null);bu(v,_)}return null}function m(v,w,_,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return v=v.get(_)||null,s(w,v,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case uu:return v=v.get(E.key===null?_:E.key)||null,l(w,v,E,S);case bo:return v=v.get(E.key===null?_:E.key)||null,u(w,v,E,S);case Ir:var x=E._init;return m(v,w,_,x(E._payload),S)}if(vs(E)||Ja(E))return v=v.get(_)||null,c(w,v,E,S,null);bu(w,E)}return null}function g(v,w,_,E){for(var S=null,x=null,T=w,C=w=0,P=null;T!==null&&C<_.length;C++){T.index>C?(P=T,T=null):P=T.sibling;var I=h(v,T,_[C],E);if(I===null){T===null&&(T=P);break}e&&T&&I.alternate===null&&t(v,T),w=o(I,w,C),x===null?S=I:x.sibling=I,x=I,T=P}if(C===_.length)return n(v,T),Me&&vi(v,C),S;if(T===null){for(;C<_.length;C++)T=f(v,_[C],E),T!==null&&(w=o(T,w,C),x===null?S=T:x.sibling=T,x=T);return Me&&vi(v,C),S}for(T=r(v,T);C<_.length;C++)P=m(T,v,C,_[C],E),P!==null&&(e&&P.alternate!==null&&T.delete(P.key===null?C:P.key),w=o(P,w,C),x===null?S=P:x.sibling=P,x=P);return e&&T.forEach(function(R){return t(v,R)}),Me&&vi(v,C),S}function y(v,w,_,E){var S=Ja(_);if(typeof S!="function")throw Error(G(150));if(_=S.call(_),_==null)throw Error(G(151));for(var x=S=null,T=w,C=w=0,P=null,I=_.next();T!==null&&!I.done;C++,I=_.next()){T.index>C?(P=T,T=null):P=T.sibling;var R=h(v,T,I.value,E);if(R===null){T===null&&(T=P);break}e&&T&&R.alternate===null&&t(v,T),w=o(R,w,C),x===null?S=R:x.sibling=R,x=R,T=P}if(I.done)return n(v,T),Me&&vi(v,C),S;if(T===null){for(;!I.done;C++,I=_.next())I=f(v,I.value,E),I!==null&&(w=o(I,w,C),x===null?S=I:x.sibling=I,x=I);return Me&&vi(v,C),S}for(T=r(v,T);!I.done;C++,I=_.next())I=m(T,v,C,I.value,E),I!==null&&(e&&I.alternate!==null&&T.delete(I.key===null?C:I.key),w=o(I,w,C),x===null?S=I:x.sibling=I,x=I);return e&&T.forEach(function(O){return t(v,O)}),Me&&vi(v,C),S}function b(v,w,_,E){if(typeof _=="object"&&_!==null&&_.type===_o&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case uu:e:{for(var S=_.key,x=w;x!==null;){if(x.key===S){if(S=_.type,S===_o){if(x.tag===7){n(v,x.sibling),w=i(x,_.props.children),w.return=v,v=w;break e}}else if(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ir&&ww(S)===x.type){n(v,x.sibling),w=i(x,_.props),w.ref=es(v,x,_),w.return=v,v=w;break e}n(v,x);break}else t(v,x);x=x.sibling}_.type===_o?(w=Li(_.props.children,v.mode,E,_.key),w.return=v,v=w):(E=sc(_.type,_.key,_.props,null,v.mode,E),E.ref=es(v,w,_),E.return=v,v=E)}return a(v);case bo:e:{for(x=_.key;w!==null;){if(w.key===x)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(v,w.sibling),w=i(w,_.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else t(v,w);w=w.sibling}w=jh(_,v.mode,E),w.return=v,v=w}return a(v);case Ir:return x=_._init,b(v,w,x(_._payload),E)}if(vs(_))return g(v,w,_,E);if(Ja(_))return y(v,w,_,E);bu(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(v,w.sibling),w=i(w,_),w.return=v,v=w):(n(v,w),w=Uh(_,v.mode,E),w.return=v,v=w),a(v)):n(v,w)}return b}var ta=r1(!0),i1=r1(!1),Ec=ii(null),Tc=null,ko=null,zy=null;function Hy(){zy=ko=Tc=null}function Vy(e){var t=Ec.current;Re(Ec),e._currentValue=t}function nm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vo(e,t){Tc=e,zy=ko=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ut=!0),e.firstContext=null)}function mn(e){var t=e._currentValue;if(zy!==e)if(e={context:e,memoizedValue:t,next:null},ko===null){if(Tc===null)throw Error(G(308));ko=e,Tc.dependencies={lanes:0,firstContext:e}}else ko=ko.next=e;return t}var ki=null;function Gy(e){ki===null?ki=[e]:ki.push(e)}function o1(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Gy(t)):(n.next=i.next,i.next=n),t.interleaved=n,hr(e,r)}function hr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Or=!1;function qy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function a1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,pe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,hr(e,n)}return i=r.interleaved,i===null?(t.next=t,Gy(r)):(t.next=i.next,i.next=t),r.interleaved=t,hr(e,n)}function tc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Oy(e,n)}}function bw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ac(e,t,n,r){var i=e.updateQueue;Or=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,m=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,y=s;switch(h=t,m=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=Ue({},f,h);break e;case 2:Or=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Hi|=a,e.lanes=a,e.memoizedState=f}}function _w(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(G(191,i));i.call(r)}}}var Yl={},Gn=ii(Yl),Qs=ii(Yl),Zs=ii(Yl);function Ii(e){if(e===Yl)throw Error(G(174));return e}function Wy(e,t){switch(Ce(Zs,t),Ce(Qs,e),Ce(Gn,Yl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Dp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Dp(t,e)}Re(Gn),Ce(Gn,t)}function na(){Re(Gn),Re(Qs),Re(Zs)}function s1(e){Ii(Zs.current);var t=Ii(Gn.current),n=Dp(t,e.type);t!==n&&(Ce(Qs,e),Ce(Gn,n))}function Ky(e){Qs.current===e&&(Re(Gn),Re(Qs))}var De=ii(0);function Cc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rh=[];function Jy(){for(var e=0;e<Rh.length;e++)Rh[e]._workInProgressVersionPrimary=null;Rh.length=0}var nc=br.ReactCurrentDispatcher,Nh=br.ReactCurrentBatchConfig,zi=0,Le=null,et=null,ot=null,Pc=!1,ks=!1,el=0,XN=0;function gt(){throw Error(G(321))}function Yy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ln(e[n],t[n]))return!1;return!0}function Xy(e,t,n,r,i,o){if(zi=o,Le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nc.current=e===null||e.memoizedState===null?tM:nM,e=n(r,i),ks){o=0;do{if(ks=!1,el=0,25<=o)throw Error(G(301));o+=1,ot=et=null,t.updateQueue=null,nc.current=rM,e=n(r,i)}while(ks)}if(nc.current=kc,t=et!==null&&et.next!==null,zi=0,ot=et=Le=null,Pc=!1,t)throw Error(G(300));return e}function Qy(){var e=el!==0;return el=0,e}function Bn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Le.memoizedState=ot=e:ot=ot.next=e,ot}function gn(){if(et===null){var e=Le.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var t=ot===null?Le.memoizedState:ot.next;if(t!==null)ot=t,et=e;else{if(e===null)throw Error(G(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},ot===null?Le.memoizedState=ot=e:ot=ot.next=e}return ot}function tl(e,t){return typeof t=="function"?t(e):t}function Mh(e){var t=gn(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=et,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((zi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,Le.lanes|=c,Hi|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,Ln(r,t.memoizedState)||(Ut=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Le.lanes|=o,Hi|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $h(e){var t=gn(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Ln(o,t.memoizedState)||(Ut=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function l1(){}function u1(e,t){var n=Le,r=gn(),i=t(),o=!Ln(r.memoizedState,i);if(o&&(r.memoizedState=i,Ut=!0),r=r.queue,Zy(d1.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,nl(9,f1.bind(null,n,r,i,t),void 0,null),st===null)throw Error(G(349));zi&30||c1(n,t,i)}return i}function c1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function f1(e,t,n,r){t.value=n,t.getSnapshot=r,h1(t)&&p1(e)}function d1(e,t,n){return n(function(){h1(t)&&p1(e)})}function h1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ln(e,n)}catch{return!0}}function p1(e){var t=hr(e,1);t!==null&&Nn(t,e,1,-1)}function Sw(e){var t=Bn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:e},t.queue=e,e=e.dispatch=eM.bind(null,Le,e),[t.memoizedState,e]}function nl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Le.updateQueue,t===null?(t={lastEffect:null,stores:null},Le.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function m1(){return gn().memoizedState}function rc(e,t,n,r){var i=Bn();Le.flags|=e,i.memoizedState=nl(1|t,n,void 0,r===void 0?null:r)}function Qf(e,t,n,r){var i=gn();r=r===void 0?null:r;var o=void 0;if(et!==null){var a=et.memoizedState;if(o=a.destroy,r!==null&&Yy(r,a.deps)){i.memoizedState=nl(t,n,o,r);return}}Le.flags|=e,i.memoizedState=nl(1|t,n,o,r)}function xw(e,t){return rc(8390656,8,e,t)}function Zy(e,t){return Qf(2048,8,e,t)}function g1(e,t){return Qf(4,2,e,t)}function y1(e,t){return Qf(4,4,e,t)}function v1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function w1(e,t,n){return n=n!=null?n.concat([e]):null,Qf(4,4,v1.bind(null,t,e),n)}function ev(){}function b1(e,t){var n=gn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yy(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _1(e,t){var n=gn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Yy(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function S1(e,t,n){return zi&21?(Ln(n,t)||(n=CA(),Le.lanes|=n,Hi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ut=!0),e.memoizedState=n)}function QN(e,t){var n=we;we=n!==0&&4>n?n:4,e(!0);var r=Nh.transition;Nh.transition={};try{e(!1),t()}finally{we=n,Nh.transition=r}}function x1(){return gn().memoizedState}function ZN(e,t,n){var r=Kr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},E1(e))T1(t,n);else if(n=o1(e,t,n,r),n!==null){var i=It();Nn(n,e,r,i),A1(n,t,r)}}function eM(e,t,n){var r=Kr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(E1(e))T1(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Ln(s,a)){var l=t.interleaved;l===null?(i.next=i,Gy(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=o1(e,t,i,r),n!==null&&(i=It(),Nn(n,e,r,i),A1(n,t,r))}}function E1(e){var t=e.alternate;return e===Le||t!==null&&t===Le}function T1(e,t){ks=Pc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function A1(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Oy(e,n)}}var kc={readContext:mn,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},tM={readContext:mn,useCallback:function(e,t){return Bn().memoizedState=[e,t===void 0?null:t],e},useContext:mn,useEffect:xw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,rc(4194308,4,v1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return rc(4194308,4,e,t)},useInsertionEffect:function(e,t){return rc(4,2,e,t)},useMemo:function(e,t){var n=Bn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Bn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ZN.bind(null,Le,e),[r.memoizedState,e]},useRef:function(e){var t=Bn();return e={current:e},t.memoizedState=e},useState:Sw,useDebugValue:ev,useDeferredValue:function(e){return Bn().memoizedState=e},useTransition:function(){var e=Sw(!1),t=e[0];return e=QN.bind(null,e[1]),Bn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Le,i=Bn();if(Me){if(n===void 0)throw Error(G(407));n=n()}else{if(n=t(),st===null)throw Error(G(349));zi&30||c1(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,xw(d1.bind(null,r,o,e),[e]),r.flags|=2048,nl(9,f1.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Bn(),t=st.identifierPrefix;if(Me){var n=ir,r=rr;n=(r&~(1<<32-Rn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=el++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=XN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nM={readContext:mn,useCallback:b1,useContext:mn,useEffect:Zy,useImperativeHandle:w1,useInsertionEffect:g1,useLayoutEffect:y1,useMemo:_1,useReducer:Mh,useRef:m1,useState:function(){return Mh(tl)},useDebugValue:ev,useDeferredValue:function(e){var t=gn();return S1(t,et.memoizedState,e)},useTransition:function(){var e=Mh(tl)[0],t=gn().memoizedState;return[e,t]},useMutableSource:l1,useSyncExternalStore:u1,useId:x1,unstable_isNewReconciler:!1},rM={readContext:mn,useCallback:b1,useContext:mn,useEffect:Zy,useImperativeHandle:w1,useInsertionEffect:g1,useLayoutEffect:y1,useMemo:_1,useReducer:$h,useRef:m1,useState:function(){return $h(tl)},useDebugValue:ev,useDeferredValue:function(e){var t=gn();return et===null?t.memoizedState=e:S1(t,et.memoizedState,e)},useTransition:function(){var e=$h(tl)[0],t=gn().memoizedState;return[e,t]},useMutableSource:l1,useSyncExternalStore:u1,useId:x1,unstable_isNewReconciler:!1};function En(e,t){if(e&&e.defaultProps){t=Ue({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function rm(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ue({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Zf={isMounted:function(e){return(e=e._reactInternals)?Qi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=It(),i=Kr(e),o=lr(r,i);o.payload=t,n!=null&&(o.callback=n),t=qr(e,o,i),t!==null&&(Nn(t,e,i,r),tc(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=It(),i=Kr(e),o=lr(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=qr(e,o,i),t!==null&&(Nn(t,e,i,r),tc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=It(),r=Kr(e),i=lr(n,r);i.tag=2,t!=null&&(i.callback=t),t=qr(e,i,r),t!==null&&(Nn(t,e,r,n),tc(t,e,r))}};function Ew(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Ks(n,r)||!Ks(i,o):!0}function C1(e,t,n){var r=!1,i=ti,o=t.contextType;return typeof o=="object"&&o!==null?o=mn(o):(i=Bt(t)?Fi:xt.current,r=t.contextTypes,o=(r=r!=null)?Zo(e,i):ti),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Zf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Tw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Zf.enqueueReplaceState(t,t.state,null)}function im(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},qy(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=mn(o):(o=Bt(t)?Fi:xt.current,i.context=Zo(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(rm(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Zf.enqueueReplaceState(i,i.state,null),Ac(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ra(e,t){try{var n="",r=t;do n+=OR(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Dh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function om(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var iM=typeof WeakMap=="function"?WeakMap:Map;function P1(e,t,n){n=lr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Oc||(Oc=!0,mm=r),om(e,t)},n}function k1(e,t,n){n=lr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){om(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){om(e,t),typeof r!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Aw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new iM;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=vM.bind(null,e,t,n),t.then(e,e))}function Cw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pw(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=lr(-1,1),t.tag=2,qr(n,t,1))),n.lanes|=1),e)}var oM=br.ReactCurrentOwner,Ut=!1;function Tt(e,t,n,r){t.child=e===null?i1(t,null,n,r):ta(t,e.child,n,r)}function kw(e,t,n,r,i){n=n.render;var o=t.ref;return Vo(t,i),r=Xy(e,t,n,r,o,i),n=Qy(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,pr(e,t,i)):(Me&&n&&jy(t),t.flags|=1,Tt(e,t,r,i),t.child)}function Iw(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!lv(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,I1(e,t,o,r,i)):(e=sc(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ks,n(a,r)&&e.ref===t.ref)return pr(e,t,i)}return t.flags|=1,e=Jr(o,r),e.ref=t.ref,e.return=t,t.child=e}function I1(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Ks(o,r)&&e.ref===t.ref)if(Ut=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Ut=!0);else return t.lanes=e.lanes,pr(e,t,i)}return am(e,t,n,r,i)}function O1(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(Oo,qt),qt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(Oo,qt),qt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ce(Oo,qt),qt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ce(Oo,qt),qt|=r;return Tt(e,t,i,n),t.child}function R1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function am(e,t,n,r,i){var o=Bt(n)?Fi:xt.current;return o=Zo(t,o),Vo(t,i),n=Xy(e,t,n,r,o,i),r=Qy(),e!==null&&!Ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,pr(e,t,i)):(Me&&r&&jy(t),t.flags|=1,Tt(e,t,n,i),t.child)}function Ow(e,t,n,r,i){if(Bt(n)){var o=!0;_c(t)}else o=!1;if(Vo(t,i),t.stateNode===null)ic(e,t),C1(t,n,r),im(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=mn(u):(u=Bt(n)?Fi:xt.current,u=Zo(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&Tw(t,a,r,u),Or=!1;var h=t.memoizedState;a.state=h,Ac(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ft.current||Or?(typeof c=="function"&&(rm(t,n,c,r),l=t.memoizedState),(s=Or||Ew(t,n,s,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,a1(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:En(t.type,s),a.props=u,f=t.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=mn(l):(l=Bt(n)?Fi:xt.current,l=Zo(t,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&Tw(t,a,r,l),Or=!1,h=t.memoizedState,a.state=h,Ac(t,r,a,i);var g=t.memoizedState;s!==f||h!==g||Ft.current||Or?(typeof m=="function"&&(rm(t,n,m,r),g=t.memoizedState),(u=Or||Ew(t,n,u,r,h,g,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return sm(e,t,n,r,o,i)}function sm(e,t,n,r,i,o){R1(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&gw(t,n,!1),pr(e,t,o);r=t.stateNode,oM.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=ta(t,e.child,null,o),t.child=ta(t,null,s,o)):Tt(e,t,s,o),t.memoizedState=r.state,i&&gw(t,n,!0),t.child}function N1(e){var t=e.stateNode;t.pendingContext?mw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mw(e,t.context,!1),Wy(e,t.containerInfo)}function Rw(e,t,n,r,i){return ea(),By(i),t.flags|=256,Tt(e,t,n,r),t.child}var lm={dehydrated:null,treeContext:null,retryLane:0};function um(e){return{baseLanes:e,cachePool:null,transitions:null}}function M1(e,t,n){var r=t.pendingProps,i=De.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ce(De,i&1),e===null)return tm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=nd(a,r,0,null),e=Li(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=um(n),t.memoizedState=lm,e):tv(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return aM(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Jr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Jr(s,o):(o=Li(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?um(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=lm,r}return o=e.child,e=o.sibling,r=Jr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function tv(e,t){return t=nd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _u(e,t,n,r){return r!==null&&By(r),ta(t,e.child,null,n),e=tv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function aM(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=Dh(Error(G(422))),_u(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=nd({mode:"visible",children:r.children},i,0,null),o=Li(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ta(t,e.child,null,a),t.child.memoizedState=um(a),t.memoizedState=lm,o);if(!(t.mode&1))return _u(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(G(419)),r=Dh(o,r,void 0),_u(e,t,a,r)}if(s=(a&e.childLanes)!==0,Ut||s){if(r=st,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,hr(e,i),Nn(r,e,i,-1))}return sv(),r=Dh(Error(G(421))),_u(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=wM.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Yt=Gr(i.nextSibling),Xt=t,Me=!0,In=null,e!==null&&(sn[ln++]=rr,sn[ln++]=ir,sn[ln++]=Bi,rr=e.id,ir=e.overflow,Bi=t),t=tv(t,r.children),t.flags|=4096,t)}function Nw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),nm(e.return,t,n)}function Lh(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function $1(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Tt(e,t,r.children,n),r=De.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nw(e,n,t);else if(e.tag===19)Nw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ce(De,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Cc(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Lh(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Cc(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Lh(t,!0,n,null,o);break;case"together":Lh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ic(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Hi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,n=Jr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function sM(e,t,n){switch(t.tag){case 3:N1(t),ea();break;case 5:s1(t);break;case 1:Bt(t.type)&&_c(t);break;case 4:Wy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ce(Ec,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ce(De,De.current&1),t.flags|=128,null):n&t.child.childLanes?M1(e,t,n):(Ce(De,De.current&1),e=pr(e,t,n),e!==null?e.sibling:null);Ce(De,De.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return $1(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce(De,De.current),r)break;return null;case 22:case 23:return t.lanes=0,O1(e,t,n)}return pr(e,t,n)}var D1,cm,L1,U1;D1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cm=function(){};L1=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ii(Gn.current);var o=null;switch(n){case"input":i=Rp(e,i),r=Rp(e,r),o=[];break;case"select":i=Ue({},i,{value:void 0}),r=Ue({},r,{value:void 0}),o=[];break;case"textarea":i=$p(e,i),r=$p(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=wc)}Lp(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bs.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ke("scroll",e),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};U1=function(e,t,n,r){n!==r&&(t.flags|=4)};function ts(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function lM(e,t,n){var r=t.pendingProps;switch(Fy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(t),null;case 1:return Bt(t.type)&&bc(),yt(t),null;case 3:return r=t.stateNode,na(),Re(Ft),Re(xt),Jy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,In!==null&&(vm(In),In=null))),cm(e,t),yt(t),null;case 5:Ky(t);var i=Ii(Zs.current);if(n=t.type,e!==null&&t.stateNode!=null)L1(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(G(166));return yt(t),null}if(e=Ii(Gn.current),wu(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[zn]=t,r[Xs]=o,e=(t.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(i=0;i<bs.length;i++)ke(bs[i],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":z0(r,o),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ke("invalid",r);break;case"textarea":V0(r,o),ke("invalid",r)}Lp(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&vu(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&vu(r.textContent,s,e),i=["children",""+s]):Bs.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&ke("scroll",r)}switch(n){case"input":cu(r),H0(r,o,!0);break;case"textarea":cu(r),G0(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=wc)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dA(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[zn]=t,e[Xs]=r,D1(e,t,!1,!1),t.stateNode=e;e:{switch(a=Up(n,r),n){case"dialog":ke("cancel",e),ke("close",e),i=r;break;case"iframe":case"object":case"embed":ke("load",e),i=r;break;case"video":case"audio":for(i=0;i<bs.length;i++)ke(bs[i],e);i=r;break;case"source":ke("error",e),i=r;break;case"img":case"image":case"link":ke("error",e),ke("load",e),i=r;break;case"details":ke("toggle",e),i=r;break;case"input":z0(e,r),i=Rp(e,r),ke("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ue({},r,{value:void 0}),ke("invalid",e);break;case"textarea":V0(e,r),i=$p(e,r),ke("invalid",e);break;default:i=r}Lp(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?mA(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hA(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&zs(e,l):typeof l=="number"&&zs(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Bs.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ke("scroll",e):l!=null&&Ty(e,o,l,a))}switch(n){case"input":cu(e),H0(e,r,!1);break;case"textarea":cu(e),G0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ei(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Fo(e,!!r.multiple,o,!1):r.defaultValue!=null&&Fo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=wc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yt(t),null;case 6:if(e&&t.stateNode!=null)U1(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(G(166));if(n=Ii(Zs.current),Ii(Gn.current),wu(t)){if(r=t.stateNode,n=t.memoizedProps,r[zn]=t,(o=r.nodeValue!==n)&&(e=Xt,e!==null))switch(e.tag){case 3:vu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vu(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zn]=t,t.stateNode=r}return yt(t),null;case 13:if(Re(De),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Me&&Yt!==null&&t.mode&1&&!(t.flags&128))n1(),ea(),t.flags|=98560,o=!1;else if(o=wu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(G(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(G(317));o[zn]=t}else ea(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;yt(t),o=!1}else In!==null&&(vm(In),In=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||De.current&1?tt===0&&(tt=3):sv())),t.updateQueue!==null&&(t.flags|=4),yt(t),null);case 4:return na(),cm(e,t),e===null&&Js(t.stateNode.containerInfo),yt(t),null;case 10:return Vy(t.type._context),yt(t),null;case 17:return Bt(t.type)&&bc(),yt(t),null;case 19:if(Re(De),o=t.memoizedState,o===null)return yt(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)ts(o,!1);else{if(tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Cc(e),a!==null){for(t.flags|=128,ts(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ce(De,De.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ve()>ia&&(t.flags|=128,r=!0,ts(o,!1),t.lanes=4194304)}else{if(!r)if(e=Cc(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ts(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Me)return yt(t),null}else 2*Ve()-o.renderingStartTime>ia&&n!==1073741824&&(t.flags|=128,r=!0,ts(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ve(),t.sibling=null,n=De.current,Ce(De,r?n&1|2:n&1),t):(yt(t),null);case 22:case 23:return av(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?qt&1073741824&&(yt(t),t.subtreeFlags&6&&(t.flags|=8192)):yt(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function uM(e,t){switch(Fy(t),t.tag){case 1:return Bt(t.type)&&bc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return na(),Re(Ft),Re(xt),Jy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ky(t),null;case 13:if(Re(De),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));ea()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Re(De),null;case 4:return na(),null;case 10:return Vy(t.type._context),null;case 22:case 23:return av(),null;case 24:return null;default:return null}}var Su=!1,wt=!1,cM=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Io(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(e,t,r)}else n.current=null}function fm(e,t,n){try{n()}catch(r){Be(e,t,r)}}var Mw=!1;function fM(e,t){if(Kp=gc,e=HA(),Uy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jp={focusedElem:e,selectionRange:n},gc=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:En(t.type,y),b);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(E){Be(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return g=Mw,Mw=!1,g}function Is(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&fm(t,n,o)}i=i.next}while(i!==r)}}function ed(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function dm(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function j1(e){var t=e.alternate;t!==null&&(e.alternate=null,j1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zn],delete t[Xs],delete t[Qp],delete t[WN],delete t[KN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function F1(e){return e.tag===5||e.tag===3||e.tag===4}function $w(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||F1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wc));else if(r!==4&&(e=e.child,e!==null))for(hm(e,t,n),e=e.sibling;e!==null;)hm(e,t,n),e=e.sibling}function pm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(pm(e,t,n),e=e.sibling;e!==null;)pm(e,t,n),e=e.sibling}var ht=null,An=!1;function kr(e,t,n){for(n=n.child;n!==null;)B1(e,t,n),n=n.sibling}function B1(e,t,n){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(qf,n)}catch{}switch(n.tag){case 5:wt||Io(n,t);case 6:var r=ht,i=An;ht=null,kr(e,t,n),ht=r,An=i,ht!==null&&(An?(e=ht,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(An?(e=ht,n=n.stateNode,e.nodeType===8?Ih(e.parentNode,n):e.nodeType===1&&Ih(e,n),qs(e)):Ih(ht,n.stateNode));break;case 4:r=ht,i=An,ht=n.stateNode.containerInfo,An=!0,kr(e,t,n),ht=r,An=i;break;case 0:case 11:case 14:case 15:if(!wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&fm(n,t,a),i=i.next}while(i!==r)}kr(e,t,n);break;case 1:if(!wt&&(Io(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Be(n,t,s)}kr(e,t,n);break;case 21:kr(e,t,n);break;case 22:n.mode&1?(wt=(r=wt)||n.memoizedState!==null,kr(e,t,n),wt=r):kr(e,t,n);break;default:kr(e,t,n)}}function Dw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new cM),t.forEach(function(r){var i=bM.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _n(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:ht=s.stateNode,An=!1;break e;case 3:ht=s.stateNode.containerInfo,An=!0;break e;case 4:ht=s.stateNode.containerInfo,An=!0;break e}s=s.return}if(ht===null)throw Error(G(160));B1(o,a,i),ht=null,An=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Be(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)z1(t,e),t=t.sibling}function z1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_n(t,e),Fn(e),r&4){try{Is(3,e,e.return),ed(3,e)}catch(y){Be(e,e.return,y)}try{Is(5,e,e.return)}catch(y){Be(e,e.return,y)}}break;case 1:_n(t,e),Fn(e),r&512&&n!==null&&Io(n,n.return);break;case 5:if(_n(t,e),Fn(e),r&512&&n!==null&&Io(n,n.return),e.flags&32){var i=e.stateNode;try{zs(i,"")}catch(y){Be(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&cA(i,o),Up(s,a);var u=Up(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?mA(i,f):c==="dangerouslySetInnerHTML"?hA(i,f):c==="children"?zs(i,f):Ty(i,c,f,u)}switch(s){case"input":Np(i,o);break;case"textarea":fA(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Fo(i,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?Fo(i,!!o.multiple,o.defaultValue,!0):Fo(i,!!o.multiple,o.multiple?[]:"",!1))}i[Xs]=o}catch(y){Be(e,e.return,y)}}break;case 6:if(_n(t,e),Fn(e),r&4){if(e.stateNode===null)throw Error(G(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Be(e,e.return,y)}}break;case 3:if(_n(t,e),Fn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qs(t.containerInfo)}catch(y){Be(e,e.return,y)}break;case 4:_n(t,e),Fn(e);break;case 13:_n(t,e),Fn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(iv=Ve())),r&4&&Dw(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(wt=(u=wt)||c,_n(t,e),wt=u):_n(t,e),Fn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Y=e,c=e.child;c!==null;){for(f=Y=c;Y!==null;){switch(h=Y,m=h.child,h.tag){case 0:case 11:case 14:case 15:Is(4,h,h.return);break;case 1:Io(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){Be(r,n,y)}}break;case 5:Io(h,h.return);break;case 22:if(h.memoizedState!==null){Uw(f);continue}}m!==null?(m.return=h,Y=m):Uw(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=pA("display",a))}catch(y){Be(e,e.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Be(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:_n(t,e),Fn(e),r&4&&Dw(e);break;case 21:break;default:_n(t,e),Fn(e)}}function Fn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(F1(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(zs(i,""),r.flags&=-33);var o=$w(e);pm(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=$w(e);hm(e,s,a);break;default:throw Error(G(161))}}catch(l){Be(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dM(e,t,n){Y=e,H1(e)}function H1(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var i=Y,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Su;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||wt;s=Su;var u=wt;if(Su=a,(wt=l)&&!u)for(Y=i;Y!==null;)a=Y,l=a.child,a.tag===22&&a.memoizedState!==null?jw(i):l!==null?(l.return=a,Y=l):jw(i);for(;o!==null;)Y=o,H1(o),o=o.sibling;Y=i,Su=s,wt=u}Lw(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Y=o):Lw(e)}}function Lw(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:wt||ed(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!wt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:En(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&_w(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_w(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&qs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}wt||t.flags&512&&dm(t)}catch(h){Be(t,t.return,h)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function Uw(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function jw(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ed(4,t)}catch(l){Be(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Be(t,i,l)}}var o=t.return;try{dm(t)}catch(l){Be(t,o,l)}break;case 5:var a=t.return;try{dm(t)}catch(l){Be(t,a,l)}}}catch(l){Be(t,t.return,l)}if(t===e){Y=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Y=s;break}Y=t.return}}var hM=Math.ceil,Ic=br.ReactCurrentDispatcher,nv=br.ReactCurrentOwner,dn=br.ReactCurrentBatchConfig,pe=0,st=null,We=null,pt=0,qt=0,Oo=ii(0),tt=0,rl=null,Hi=0,td=0,rv=0,Os=null,Lt=null,iv=0,ia=1/0,Zn=null,Oc=!1,mm=null,Wr=null,xu=!1,Fr=null,Rc=0,Rs=0,gm=null,oc=-1,ac=0;function It(){return pe&6?Ve():oc!==-1?oc:oc=Ve()}function Kr(e){return e.mode&1?pe&2&&pt!==0?pt&-pt:YN.transition!==null?(ac===0&&(ac=CA()),ac):(e=we,e!==0||(e=window.event,e=e===void 0?16:MA(e.type)),e):1}function Nn(e,t,n,r){if(50<Rs)throw Rs=0,gm=null,Error(G(185));Wl(e,n,r),(!(pe&2)||e!==st)&&(e===st&&(!(pe&2)&&(td|=n),tt===4&&Dr(e,pt)),zt(e,r),n===1&&pe===0&&!(t.mode&1)&&(ia=Ve()+500,Xf&&oi()))}function zt(e,t){var n=e.callbackNode;YR(e,t);var r=mc(e,e===st?pt:0);if(r===0)n!==null&&K0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&K0(n),t===1)e.tag===0?JN(Fw.bind(null,e)):ZA(Fw.bind(null,e)),GN(function(){!(pe&6)&&oi()}),n=null;else{switch(PA(r)){case 1:n=Iy;break;case 4:n=TA;break;case 16:n=pc;break;case 536870912:n=AA;break;default:n=pc}n=X1(n,V1.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function V1(e,t){if(oc=-1,ac=0,pe&6)throw Error(G(327));var n=e.callbackNode;if(Go()&&e.callbackNode!==n)return null;var r=mc(e,e===st?pt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Nc(e,r);else{t=r;var i=pe;pe|=2;var o=q1();(st!==e||pt!==t)&&(Zn=null,ia=Ve()+500,Di(e,t));do try{gM();break}catch(s){G1(e,s)}while(!0);Hy(),Ic.current=o,pe=i,We!==null?t=0:(st=null,pt=0,t=tt)}if(t!==0){if(t===2&&(i=Hp(e),i!==0&&(r=i,t=ym(e,i))),t===1)throw n=rl,Di(e,0),Dr(e,r),zt(e,Ve()),n;if(t===6)Dr(e,r);else{if(i=e.current.alternate,!(r&30)&&!pM(i)&&(t=Nc(e,r),t===2&&(o=Hp(e),o!==0&&(r=o,t=ym(e,o))),t===1))throw n=rl,Di(e,0),Dr(e,r),zt(e,Ve()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(G(345));case 2:wi(e,Lt,Zn);break;case 3:if(Dr(e,r),(r&130023424)===r&&(t=iv+500-Ve(),10<t)){if(mc(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){It(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Xp(wi.bind(null,e,Lt,Zn),t);break}wi(e,Lt,Zn);break;case 4:if(Dr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Rn(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=Ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hM(r/1960))-r,10<r){e.timeoutHandle=Xp(wi.bind(null,e,Lt,Zn),r);break}wi(e,Lt,Zn);break;case 5:wi(e,Lt,Zn);break;default:throw Error(G(329))}}}return zt(e,Ve()),e.callbackNode===n?V1.bind(null,e):null}function ym(e,t){var n=Os;return e.current.memoizedState.isDehydrated&&(Di(e,t).flags|=256),e=Nc(e,t),e!==2&&(t=Lt,Lt=n,t!==null&&vm(t)),e}function vm(e){Lt===null?Lt=e:Lt.push.apply(Lt,e)}function pM(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ln(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dr(e,t){for(t&=~rv,t&=~td,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Rn(t),r=1<<n;e[n]=-1,t&=~r}}function Fw(e){if(pe&6)throw Error(G(327));Go();var t=mc(e,0);if(!(t&1))return zt(e,Ve()),null;var n=Nc(e,t);if(e.tag!==0&&n===2){var r=Hp(e);r!==0&&(t=r,n=ym(e,r))}if(n===1)throw n=rl,Di(e,0),Dr(e,t),zt(e,Ve()),n;if(n===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wi(e,Lt,Zn),zt(e,Ve()),null}function ov(e,t){var n=pe;pe|=1;try{return e(t)}finally{pe=n,pe===0&&(ia=Ve()+500,Xf&&oi())}}function Vi(e){Fr!==null&&Fr.tag===0&&!(pe&6)&&Go();var t=pe;pe|=1;var n=dn.transition,r=we;try{if(dn.transition=null,we=1,e)return e()}finally{we=r,dn.transition=n,pe=t,!(pe&6)&&oi()}}function av(){qt=Oo.current,Re(Oo)}function Di(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,VN(n)),We!==null)for(n=We.return;n!==null;){var r=n;switch(Fy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bc();break;case 3:na(),Re(Ft),Re(xt),Jy();break;case 5:Ky(r);break;case 4:na();break;case 13:Re(De);break;case 19:Re(De);break;case 10:Vy(r.type._context);break;case 22:case 23:av()}n=n.return}if(st=e,We=e=Jr(e.current,null),pt=qt=t,tt=0,rl=null,rv=td=Hi=0,Lt=Os=null,ki!==null){for(t=0;t<ki.length;t++)if(n=ki[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}ki=null}return e}function G1(e,t){do{var n=We;try{if(Hy(),nc.current=kc,Pc){for(var r=Le.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Pc=!1}if(zi=0,ot=et=Le=null,ks=!1,el=0,nv.current=null,n===null||n.return===null){tt=1,rl=t,We=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=pt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Cw(a);if(m!==null){m.flags&=-257,Pw(m,a,s,o,t),m.mode&1&&Aw(o,u,t),t=m,l=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(l),t.updateQueue=y}else g.add(l);break e}else{if(!(t&1)){Aw(o,u,t),sv();break e}l=Error(G(426))}}else if(Me&&s.mode&1){var b=Cw(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Pw(b,a,s,o,t),By(ra(l,s));break e}}o=l=ra(l,s),tt!==4&&(tt=2),Os===null?Os=[o]:Os.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=P1(o,l,t);bw(o,v);break e;case 1:s=l;var w=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Wr===null||!Wr.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t;var E=k1(o,s,t);bw(o,E);break e}}o=o.return}while(o!==null)}K1(n)}catch(S){t=S,We===n&&n!==null&&(We=n=n.return);continue}break}while(!0)}function q1(){var e=Ic.current;return Ic.current=kc,e===null?kc:e}function sv(){(tt===0||tt===3||tt===2)&&(tt=4),st===null||!(Hi&268435455)&&!(td&268435455)||Dr(st,pt)}function Nc(e,t){var n=pe;pe|=2;var r=q1();(st!==e||pt!==t)&&(Zn=null,Di(e,t));do try{mM();break}catch(i){G1(e,i)}while(!0);if(Hy(),pe=n,Ic.current=r,We!==null)throw Error(G(261));return st=null,pt=0,tt}function mM(){for(;We!==null;)W1(We)}function gM(){for(;We!==null&&!BR();)W1(We)}function W1(e){var t=Y1(e.alternate,e,qt);e.memoizedProps=e.pendingProps,t===null?K1(e):We=t,nv.current=null}function K1(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=uM(n,t),n!==null){n.flags&=32767,We=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{tt=6,We=null;return}}else if(n=lM(n,t,qt),n!==null){We=n;return}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);tt===0&&(tt=5)}function wi(e,t,n){var r=we,i=dn.transition;try{dn.transition=null,we=1,yM(e,t,n,r)}finally{dn.transition=i,we=r}return null}function yM(e,t,n,r){do Go();while(Fr!==null);if(pe&6)throw Error(G(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(XR(e,o),e===st&&(We=st=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xu||(xu=!0,X1(pc,function(){return Go(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=dn.transition,dn.transition=null;var a=we;we=1;var s=pe;pe|=4,nv.current=null,fM(e,n),z1(n,e),LN(Jp),gc=!!Kp,Jp=Kp=null,e.current=n,dM(n),zR(),pe=s,we=a,dn.transition=o}else e.current=n;if(xu&&(xu=!1,Fr=e,Rc=i),o=e.pendingLanes,o===0&&(Wr=null),GR(n.stateNode),zt(e,Ve()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Oc)throw Oc=!1,e=mm,mm=null,e;return Rc&1&&e.tag!==0&&Go(),o=e.pendingLanes,o&1?e===gm?Rs++:(Rs=0,gm=e):Rs=0,oi(),null}function Go(){if(Fr!==null){var e=PA(Rc),t=dn.transition,n=we;try{if(dn.transition=null,we=16>e?16:e,Fr===null)var r=!1;else{if(e=Fr,Fr=null,Rc=0,pe&6)throw Error(G(331));var i=pe;for(pe|=4,Y=e.current;Y!==null;){var o=Y,a=o.child;if(Y.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Y=u;Y!==null;){var c=Y;switch(c.tag){case 0:case 11:case 15:Is(8,c,o)}var f=c.child;if(f!==null)f.return=c,Y=f;else for(;Y!==null;){c=Y;var h=c.sibling,m=c.return;if(j1(c),c===u){Y=null;break}if(h!==null){h.return=m,Y=h;break}Y=m}}}var g=o.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}Y=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Y=a;else e:for(;Y!==null;){if(o=Y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Is(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,Y=v;break e}Y=o.return}}var w=e.current;for(Y=w;Y!==null;){a=Y;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,Y=_;else e:for(a=w;Y!==null;){if(s=Y,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:ed(9,s)}}catch(S){Be(s,s.return,S)}if(s===a){Y=null;break e}var E=s.sibling;if(E!==null){E.return=s.return,Y=E;break e}Y=s.return}}if(pe=i,oi(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(qf,e)}catch{}r=!0}return r}finally{we=n,dn.transition=t}}return!1}function Bw(e,t,n){t=ra(n,t),t=P1(e,t,1),e=qr(e,t,1),t=It(),e!==null&&(Wl(e,1,t),zt(e,t))}function Be(e,t,n){if(e.tag===3)Bw(e,e,n);else for(;t!==null;){if(t.tag===3){Bw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wr===null||!Wr.has(r))){e=ra(n,e),e=k1(t,e,1),t=qr(t,e,1),e=It(),t!==null&&(Wl(t,1,e),zt(t,e));break}}t=t.return}}function vM(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=It(),e.pingedLanes|=e.suspendedLanes&n,st===e&&(pt&n)===n&&(tt===4||tt===3&&(pt&130023424)===pt&&500>Ve()-iv?Di(e,0):rv|=n),zt(e,t)}function J1(e,t){t===0&&(e.mode&1?(t=hu,hu<<=1,!(hu&130023424)&&(hu=4194304)):t=1);var n=It();e=hr(e,t),e!==null&&(Wl(e,t,n),zt(e,n))}function wM(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),J1(e,n)}function bM(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(t),J1(e,n)}var Y1;Y1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ft.current)Ut=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ut=!1,sM(e,t,n);Ut=!!(e.flags&131072)}else Ut=!1,Me&&t.flags&1048576&&e1(t,xc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ic(e,t),e=t.pendingProps;var i=Zo(t,xt.current);Vo(t,n),i=Xy(null,t,r,e,i,n);var o=Qy();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bt(r)?(o=!0,_c(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qy(t),i.updater=Zf,t.stateNode=i,i._reactInternals=t,im(t,r,e,n),t=sm(null,t,r,!0,o,n)):(t.tag=0,Me&&o&&jy(t),Tt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ic(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=SM(r),e=En(r,e),i){case 0:t=am(null,t,r,e,n);break e;case 1:t=Ow(null,t,r,e,n);break e;case 11:t=kw(null,t,r,e,n);break e;case 14:t=Iw(null,t,r,En(r.type,e),n);break e}throw Error(G(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:En(r,i),am(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:En(r,i),Ow(e,t,r,i,n);case 3:e:{if(N1(t),e===null)throw Error(G(387));r=t.pendingProps,o=t.memoizedState,i=o.element,a1(e,t),Ac(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=ra(Error(G(423)),t),t=Rw(e,t,r,n,i);break e}else if(r!==i){i=ra(Error(G(424)),t),t=Rw(e,t,r,n,i);break e}else for(Yt=Gr(t.stateNode.containerInfo.firstChild),Xt=t,Me=!0,In=null,n=i1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ea(),r===i){t=pr(e,t,n);break e}Tt(e,t,r,n)}t=t.child}return t;case 5:return s1(t),e===null&&tm(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Yp(r,i)?a=null:o!==null&&Yp(r,o)&&(t.flags|=32),R1(e,t),Tt(e,t,a,n),t.child;case 6:return e===null&&tm(t),null;case 13:return M1(e,t,n);case 4:return Wy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ta(t,null,r,n):Tt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:En(r,i),kw(e,t,r,i,n);case 7:return Tt(e,t,t.pendingProps,n),t.child;case 8:return Tt(e,t,t.pendingProps.children,n),t.child;case 12:return Tt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ce(Ec,r._currentValue),r._currentValue=a,o!==null)if(Ln(o.value,a)){if(o.children===i.children&&!Ft.current){t=pr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=lr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),nm(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(G(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),nm(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Tt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Vo(t,n),i=mn(i),r=r(i),t.flags|=1,Tt(e,t,r,n),t.child;case 14:return r=t.type,i=En(r,t.pendingProps),i=En(r.type,i),Iw(e,t,r,i,n);case 15:return I1(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:En(r,i),ic(e,t),t.tag=1,Bt(r)?(e=!0,_c(t)):e=!1,Vo(t,n),C1(t,r,i),im(t,r,i,n),sm(null,t,r,!0,e,n);case 19:return $1(e,t,n);case 22:return O1(e,t,n)}throw Error(G(156,t.tag))};function X1(e,t){return EA(e,t)}function _M(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,t,n,r){return new _M(e,t,n,r)}function lv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function SM(e){if(typeof e=="function")return lv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cy)return 11;if(e===Py)return 14}return 2}function Jr(e,t){var n=e.alternate;return n===null?(n=cn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function sc(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")lv(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case _o:return Li(n.children,i,o,t);case Ay:a=8,i|=8;break;case Pp:return e=cn(12,n,t,i|2),e.elementType=Pp,e.lanes=o,e;case kp:return e=cn(13,n,t,i),e.elementType=kp,e.lanes=o,e;case Ip:return e=cn(19,n,t,i),e.elementType=Ip,e.lanes=o,e;case sA:return nd(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case oA:a=10;break e;case aA:a=9;break e;case Cy:a=11;break e;case Py:a=14;break e;case Ir:a=16,r=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=cn(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Li(e,t,n,r){return e=cn(7,e,r,t),e.lanes=n,e}function nd(e,t,n,r){return e=cn(22,e,r,t),e.elementType=sA,e.lanes=n,e.stateNode={isHidden:!1},e}function Uh(e,t,n){return e=cn(6,e,null,t),e.lanes=n,e}function jh(e,t,n){return t=cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xM(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wh(0),this.expirationTimes=wh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function uv(e,t,n,r,i,o,a,s,l){return e=new xM(e,t,n,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=cn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qy(o),e}function EM(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Q1(e){if(!e)return ti;e=e._reactInternals;e:{if(Qi(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var n=e.type;if(Bt(n))return QA(e,n,t)}return t}function Z1(e,t,n,r,i,o,a,s,l){return e=uv(n,r,!0,e,i,o,a,s,l),e.context=Q1(null),n=e.current,r=It(),i=Kr(n),o=lr(r,i),o.callback=t??null,qr(n,o,i),e.current.lanes=i,Wl(e,i,r),zt(e,r),e}function rd(e,t,n,r){var i=t.current,o=It(),a=Kr(i);return n=Q1(n),t.context===null?t.context=n:t.pendingContext=n,t=lr(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=qr(i,t,a),e!==null&&(Nn(e,i,a,o),tc(e,i,a)),a}function Mc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cv(e,t){zw(e,t),(e=e.alternate)&&zw(e,t)}function TM(){return null}var eC=typeof reportError=="function"?reportError:function(e){console.error(e)};function fv(e){this._internalRoot=e}id.prototype.render=fv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));rd(e,t,null,null)};id.prototype.unmount=fv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vi(function(){rd(null,e,null,null)}),t[dr]=null}};function id(e){this._internalRoot=e}id.prototype.unstable_scheduleHydration=function(e){if(e){var t=OA();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$r.length&&t!==0&&t<$r[n].priority;n++);$r.splice(n,0,e),n===0&&NA(e)}};function dv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function od(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hw(){}function AM(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Mc(a);o.call(u)}}var a=Z1(t,r,e,0,null,!1,!1,"",Hw);return e._reactRootContainer=a,e[dr]=a.current,Js(e.nodeType===8?e.parentNode:e),Vi(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Mc(l);s.call(u)}}var l=uv(e,0,!1,null,null,!1,!1,"",Hw);return e._reactRootContainer=l,e[dr]=l.current,Js(e.nodeType===8?e.parentNode:e),Vi(function(){rd(t,l,n,r)}),l}function ad(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Mc(a);s.call(l)}}rd(t,a,e,i)}else a=AM(n,t,e,i,r);return Mc(a)}kA=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ws(t.pendingLanes);n!==0&&(Oy(t,n|1),zt(t,Ve()),!(pe&6)&&(ia=Ve()+500,oi()))}break;case 13:Vi(function(){var r=hr(e,1);if(r!==null){var i=It();Nn(r,e,1,i)}}),cv(e,1)}};Ry=function(e){if(e.tag===13){var t=hr(e,134217728);if(t!==null){var n=It();Nn(t,e,134217728,n)}cv(e,134217728)}};IA=function(e){if(e.tag===13){var t=Kr(e),n=hr(e,t);if(n!==null){var r=It();Nn(n,e,t,r)}cv(e,t)}};OA=function(){return we};RA=function(e,t){var n=we;try{return we=e,t()}finally{we=n}};Fp=function(e,t,n){switch(t){case"input":if(Np(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Yf(r);if(!i)throw Error(G(90));uA(r),Np(r,i)}}}break;case"textarea":fA(e,n);break;case"select":t=n.value,t!=null&&Fo(e,!!n.multiple,t,!1)}};vA=ov;wA=Vi;var CM={usingClientEntryPoint:!1,Events:[Jl,To,Yf,gA,yA,ov]},ns={findFiberByHostInstance:Pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PM={bundleType:ns.bundleType,version:ns.version,rendererPackageName:ns.rendererPackageName,rendererConfig:ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:br.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=SA(e),e===null?null:e.stateNode},findFiberByHostInstance:ns.findFiberByHostInstance||TM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eu.isDisabled&&Eu.supportsFiber)try{qf=Eu.inject(PM),Vn=Eu}catch{}}en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CM;en.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dv(t))throw Error(G(200));return EM(e,t,null,n)};en.createRoot=function(e,t){if(!dv(e))throw Error(G(299));var n=!1,r="",i=eC;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=uv(e,1,!1,null,null,n,!1,r,i),e[dr]=t.current,Js(e.nodeType===8?e.parentNode:e),new fv(t)};en.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=SA(t),e=e===null?null:e.stateNode,e};en.flushSync=function(e){return Vi(e)};en.hydrate=function(e,t,n){if(!od(t))throw Error(G(200));return ad(null,e,t,!0,n)};en.hydrateRoot=function(e,t,n){if(!dv(e))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=eC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Z1(t,null,e,1,n??null,i,!1,o,a),e[dr]=t.current,Js(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new id(t)};en.render=function(e,t,n){if(!od(t))throw Error(G(200));return ad(null,e,t,!1,n)};en.unmountComponentAtNode=function(e){if(!od(e))throw Error(G(40));return e._reactRootContainer?(Vi(function(){ad(null,null,e,!1,function(){e._reactRootContainer=null,e[dr]=null})}),!0):!1};en.unstable_batchedUpdates=ov;en.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!od(n))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return ad(e,t,n,!1,r)};en.version="18.3.1-next-f1338f8080-20240426";function tC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tC)}catch(e){console.error(e)}}tC(),tA.exports=en;var kM=tA.exports,Vw=kM;Ap.createRoot=Vw.createRoot,Ap.hydrateRoot=Vw.hydrateRoot;const Fh=e=>{const t=N=>({receivers:0,pickers:0,packers:0,total:0,buffer:0,needed:0,effectiveWorkHours:0,error:N}),n=Number((e==null?void 0:e.deliveries)||0);Number((e==null?void 0:e.itemsPerDelivery)||0);const r=Number((e==null?void 0:e.deliveriesPerHour)||0),i=Number((e==null?void 0:e.orders)||0),o=Number((e==null?void 0:e.itemsPerOrder)||0),a=Number((e==null?void 0:e.itemsPickedPerHour)||0),s=Number((e==null?void 0:e.ordersPackedPerHour)||0),l=Number((e==null?void 0:e.workHours)||0),u=Number((e==null?void 0:e.currentEmployees)||0),c=Number((e==null?void 0:e.breakTime)!==void 0?e.breakTime:30),f=Number((e==null?void 0:e.processEfficiency)!==void 0?e.processEfficiency:85);if(n<0||i<0||u<0)return t("Wartoci wolumenu lub liczby pracownikw nie mog by ujemne.");if(r<0||a<0||s<0)return t("Normy wydajnociowe nie mog by ujemne.");if(isNaN(l)||l<=0)return t("Czas zmiany musi by liczb wiksz od zera.");if(l>24)return t("Czas zmiany nie moe przekracza 24 godzin.");const h=(c||0)/60;if(h>=l)return t(`Czas przerw (${c} min) jest duszy lub rwny dugoci zmiany (${l} h). Pracownicy nie mieliby czasu na prac.`);if(f<0||f>100)return t("Wydajno procesu musi mieci si w przedziale 0-100%.");const m=Math.max(0,l-h),y=Math.max(0,f||85)/100;if(y<=.01)return t("Przy wydajnoci bliskiej 0% zapotrzebowanie na pracownikw dy do nieskoczonoci. Zwiksz wydajno.");const b=m*y,v=n>0&&r>0?n/r:0,w=i*o,_=w>0&&a>0?w/a:0,E=i>0&&s>0?i/s:0,S=v/b,x=_/b,T=E/b,C=Math.ceil(S),P=Math.ceil(x),I=Math.ceil(T),R=C+P+I,O=v/l,D=_/l,$=E/l,M=Math.ceil(O+D+$),L=Math.max(0,R-M),z=Math.max(0,R-u);return{receivers:C,pickers:P,packers:I,total:R,buffer:L,needed:z,effectiveWorkHours:Number(b.toFixed(2))}};var IM={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let OM,RM;function NM(){return{geminiUrl:OM,vertexUrl:RM}}function MM(e,t,n,r){var i,o;if(!(e!=null&&e.baseUrl)){const a=NM();return t?(i=a.vertexUrl)!==null&&i!==void 0?i:n:(o=a.geminiUrl)!==null&&o!==void 0?o:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _r{}function K(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function p(e,t,n){for(let o=0;o<t.length-1;o++){const a=t[o];if(a.endsWith("[]")){const s=a.slice(0,-2);if(!(s in e))if(Array.isArray(n))e[s]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(e[s])){const l=e[s];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];p(c,t.slice(o+1),n[u])}else for(const u of l)p(u,t.slice(o+1),n)}return}else if(a.endsWith("[0]")){const s=a.slice(0,-3);s in e||(e[s]=[{}]);const l=e[s];p(l[0],t.slice(o+1),n);return}(!e[a]||typeof e[a]!="object")&&(e[a]={}),e=e[a]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function d(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in e){const a=e[o];return Array.isArray(a)?a.map(s=>d(s,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function $M(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),o=r.split("."),a=new Set;let s=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){s=l;break}if(s!==-1&&o.length>s)for(let l=s;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&a.add(u)}wm(e,i,o,0,a)}}function wm(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const o=t[r];if(o.endsWith("[]")){const a=o.slice(0,-2),s=e;if(a in s&&Array.isArray(s[a]))for(const l of s[a])wm(l,t,n,r+1,i)}else if(o==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const a=e,s=Object.keys(a).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of s)l[u]=a[u];for(const[u,c]of Object.entries(l)){const f=[];for(const h of n.slice(r))h==="*"?f.push(u):f.push(h);p(a,f,c)}for(const u of s)delete a[u]}}else{const a=e;o in a&&wm(a[o],t,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hv(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DM(e){const t={},n=d(e,["operationName"]);n!=null&&p(t,["operationName"],n);const r=d(e,["resourceName"]);return r!=null&&p(t,["_url","resourceName"],r),t}function LM(e){const t={},n=d(e,["name"]);n!=null&&p(t,["name"],n);const r=d(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=d(e,["done"]);i!=null&&p(t,["done"],i);const o=d(e,["error"]);o!=null&&p(t,["error"],o);const a=d(e,["response","generateVideoResponse"]);return a!=null&&p(t,["response"],jM(a)),t}function UM(e){const t={},n=d(e,["name"]);n!=null&&p(t,["name"],n);const r=d(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=d(e,["done"]);i!=null&&p(t,["done"],i);const o=d(e,["error"]);o!=null&&p(t,["error"],o);const a=d(e,["response"]);return a!=null&&p(t,["response"],FM(a)),t}function jM(e){const t={},n=d(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>BM(a))),p(t,["generatedVideos"],o)}const r=d(e,["raiMediaFilteredCount"]);r!=null&&p(t,["raiMediaFilteredCount"],r);const i=d(e,["raiMediaFilteredReasons"]);return i!=null&&p(t,["raiMediaFilteredReasons"],i),t}function FM(e){const t={},n=d(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>zM(a))),p(t,["generatedVideos"],o)}const r=d(e,["raiMediaFilteredCount"]);r!=null&&p(t,["raiMediaFilteredCount"],r);const i=d(e,["raiMediaFilteredReasons"]);return i!=null&&p(t,["raiMediaFilteredReasons"],i),t}function BM(e){const t={},n=d(e,["video"]);return n!=null&&p(t,["video"],KM(n)),t}function zM(e){const t={},n=d(e,["_self"]);return n!=null&&p(t,["video"],JM(n)),t}function HM(e){const t={},n=d(e,["operationName"]);return n!=null&&p(t,["_url","operationName"],n),t}function VM(e){const t={},n=d(e,["operationName"]);return n!=null&&p(t,["_url","operationName"],n),t}function GM(e){const t={},n=d(e,["name"]);n!=null&&p(t,["name"],n);const r=d(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=d(e,["done"]);i!=null&&p(t,["done"],i);const o=d(e,["error"]);o!=null&&p(t,["error"],o);const a=d(e,["response"]);return a!=null&&p(t,["response"],qM(a)),t}function qM(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["parent"]);r!=null&&p(t,["parent"],r);const i=d(e,["documentName"]);return i!=null&&p(t,["documentName"],i),t}function nC(e){const t={},n=d(e,["name"]);n!=null&&p(t,["name"],n);const r=d(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=d(e,["done"]);i!=null&&p(t,["done"],i);const o=d(e,["error"]);o!=null&&p(t,["error"],o);const a=d(e,["response"]);return a!=null&&p(t,["response"],WM(a)),t}function WM(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["parent"]);r!=null&&p(t,["parent"],r);const i=d(e,["documentName"]);return i!=null&&p(t,["documentName"],i),t}function KM(e){const t={},n=d(e,["uri"]);n!=null&&p(t,["uri"],n);const r=d(e,["encodedVideo"]);r!=null&&p(t,["videoBytes"],hv(r));const i=d(e,["encoding"]);return i!=null&&p(t,["mimeType"],i),t}function JM(e){const t={},n=d(e,["gcsUri"]);n!=null&&p(t,["uri"],n);const r=d(e,["bytesBase64Encoded"]);r!=null&&p(t,["videoBytes"],hv(r));const i=d(e,["mimeType"]);return i!=null&&p(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Gw;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Gw||(Gw={}));var qw;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(qw||(qw={}));var Ww;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(Ww||(Ww={}));var At;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(At||(At={}));var Kw;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Kw||(Kw={}));var Jw;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(Jw||(Jw={}));var Yw;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Yw||(Yw={}));var Xw;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Xw||(Xw={}));var Qw;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Qw||(Qw={}));var Zw;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Zw||(Zw={}));var eb;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(eb||(eb={}));var tb;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(tb||(tb={}));var nb;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(nb||(nb={}));var rb;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(rb||(rb={}));var ib;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(ib||(ib={}));var ob;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(ob||(ob={}));var ab;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(ab||(ab={}));var sb;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(sb||(sb={}));var lb;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(lb||(lb={}));var ub;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(ub||(ub={}));var cb;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(cb||(cb={}));var $c;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})($c||($c={}));var fb;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(fb||(fb={}));var db;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(db||(db={}));var hb;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(hb||(hb={}));var bm;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(bm||(bm={}));var pb;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(pb||(pb={}));var mb;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(mb||(mb={}));var _m;(function(e){e.COLLECTION="COLLECTION"})(_m||(_m={}));var gb;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(gb||(gb={}));var yb;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(yb||(yb={}));var vb;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(vb||(vb={}));var wb;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(wb||(wb={}));var bb;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(bb||(bb={}));var _b;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(_b||(_b={}));var Sb;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Sb||(Sb={}));var xb;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(xb||(xb={}));var Eb;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Eb||(Eb={}));var Tb;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(Tb||(Tb={}));var Ab;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(Ab||(Ab={}));var Cb;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(Cb||(Cb={}));var Pb;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Pb||(Pb={}));var kb;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING",e.DISTILLATION="DISTILLATION"})(kb||(kb={}));var Ib;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(Ib||(Ib={}));var Ob;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Ob||(Ob={}));var Rb;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(Rb||(Rb={}));var Nb;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Nb||(Nb={}));var Mb;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Mb||(Mb={}));var $b;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})($b||($b={}));var Db;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(Db||(Db={}));var Lb;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Lb||(Lb={}));var Ub;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Ub||(Ub={}));var jb;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(jb||(jb={}));var Fb;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Fb||(Fb={}));var Bb;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Bb||(Bb={}));var zb;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(zb||(zb={}));var Ro;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Ro||(Ro={}));class Sm{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class rs{get text(){var t,n,r,i,o,a,s,l;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const h of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[m,g]of Object.entries(h))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(g!==null||g!==void 0)&&f.push(m);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var t,n,r,i,o,a,s,l;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const f of(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)!==null&&l!==void 0?l:[]){for(const[h,m]of Object.entries(f))h!=="inlineData"&&(m!==null||m!==void 0)&&c.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var t,n,r,i,o,a,s,l;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var t,n,r,i,o,a,s,l,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var t,n,r,i,o,a,s,l,u;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(s=(a=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class Hb{}class Vb{}class YM{}class XM{}class QM{}class ZM{}class Gb{}class qb{}class Wb{}class e${}class Dc{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Dc;let i;const o=t;return n?i=UM(o):i=LM(o),Object.assign(r,i),r}}class Kb{}class Jb{}class Yb{}class Xb{}class t${}class n${}class r${}class pv{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new pv,o=GM(t);return Object.assign(r,o),r}}class i${}class o${}class a${}class s${}class Qb{}class l${get text(){var t,n,r;let i="",o=!1;const a=[];for(const s of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(s))l!=="text"&&l!=="thought"&&u!==null&&a.push(l);if(typeof s.text=="string"){if(typeof s.thought=="boolean"&&s.thought)continue;o=!0,i+=s.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var t,n,r;let i="";const o=[];for(const a of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[s,l]of Object.entries(a))s!=="inlineData"&&l!==null&&o.push(s);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class u${get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class mv{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new mv,o=nC(t);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function me(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function rC(e,t){const n=me(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function iC(e){return Array.isArray(e)?e.map(t=>Lc(t)):[Lc(e)]}function Lc(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function oC(e){const t=Lc(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function aC(e){const t=Lc(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Zb(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function sC(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>Zb(t)):[Zb(e)]}function xm(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function e_(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function t_(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function St(e){if(e==null)throw new Error("ContentUnion is required");return xm(e)?e:{role:"user",parts:sC(e)}}function gv(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=St(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=St(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>St(n)):[St(t)]}function hn(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(e_(e)||t_(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[St(e)]}const t=[],n=[],r=xm(e[0]);for(const i of e){const o=xm(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)t.push(i);else{if(e_(i)||t_(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:sC(n)}),t}function c$(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(At).includes(n[0].toUpperCase())?n[0].toUpperCase():At.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(At).includes(r.toUpperCase())?r.toUpperCase():At.TYPE_UNSPECIFIED})}}function qo(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=e.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(t.nullable=!0,e=o[1]):o[1].type==="null"&&(t.nullable=!0,e=o[0])),e.type instanceof Array&&c$(e.type,t);for(const[a,s]of Object.entries(e))if(s!=null)if(a=="type"){if(s==="null")throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;t.type=Object.values(At).includes(s.toUpperCase())?s.toUpperCase():At.TYPE_UNSPECIFIED}else if(n.includes(a))t[a]=qo(s);else if(r.includes(a)){const l=[];for(const u of s){if(u.type=="null"){t.nullable=!0;continue}l.push(qo(u))}t[a]=l}else if(i.includes(a)){const l={};for(const[u,c]of Object.entries(s))l[u]=qo(c);t[a]=l}else{if(a==="additionalProperties")continue;t[a]=s}return t}function yv(e){return qo(e)}function vv(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function wv(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Ra(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=qo(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=qo(t.response));return e}function Na(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function f$(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function Sr(e,t){if(typeof t!="string")throw new Error("name must be a string");return f$(e,t,"cachedContents")}function lC(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function ai(e){return hv(e)}function d$(e){return e!=null&&typeof e=="object"&&"name"in e}function h$(e){return e!=null&&typeof e=="object"&&"video"in e}function p$(e){return e!=null&&typeof e=="object"&&"uri"in e}function uC(e){var t;let n;if(d$(e)&&(n=e.name),!(p$(e)&&(n=e.uri,n===void 0))&&!(h$(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function cC(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function fC(e){for(const t of["models","tunedModels","publisherModels"])if(m$(e,t))return e[t];return[]}function m$(e,t){return e!==null&&typeof e=="object"&&t in e}function g$(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function y$(e,t={}){const n=[],r=new Set;for(const i of e){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const a=g$(i,t);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function dC(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function v$(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function hC(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let o=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const l=a.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Ma(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function pC(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w$(e){const t={},n=d(e,["responsesFile"]);n!=null&&p(t,["fileName"],n);const r=d(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>Z$(a))),p(t,["inlinedResponses"],o)}const i=d(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["inlinedEmbedContentResponses"],o)}return t}function b$(e){const t={},n=d(e,["predictionsFormat"]);n!=null&&p(t,["format"],n);const r=d(e,["gcsDestination","outputUriPrefix"]);r!=null&&p(t,["gcsUri"],r);const i=d(e,["bigqueryDestination","outputUri"]);return i!=null&&p(t,["bigqueryUri"],i),t}function _$(e){const t={},n=d(e,["format"]);n!=null&&p(t,["predictionsFormat"],n);const r=d(e,["gcsUri"]);r!=null&&p(t,["gcsDestination","outputUriPrefix"],r);const i=d(e,["bigqueryUri"]);if(i!=null&&p(t,["bigqueryDestination","outputUri"],i),d(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function lc(e){const t={},n=d(e,["name"]);n!=null&&p(t,["name"],n);const r=d(e,["metadata","displayName"]);r!=null&&p(t,["displayName"],r);const i=d(e,["metadata","state"]);i!=null&&p(t,["state"],pC(i));const o=d(e,["metadata","createTime"]);o!=null&&p(t,["createTime"],o);const a=d(e,["metadata","endTime"]);a!=null&&p(t,["endTime"],a);const s=d(e,["metadata","updateTime"]);s!=null&&p(t,["updateTime"],s);const l=d(e,["metadata","model"]);l!=null&&p(t,["model"],l);const u=d(e,["metadata","output"]);return u!=null&&p(t,["dest"],w$(hC(u))),t}function Em(e){const t={},n=d(e,["name"]);n!=null&&p(t,["name"],n);const r=d(e,["displayName"]);r!=null&&p(t,["displayName"],r);const i=d(e,["state"]);i!=null&&p(t,["state"],pC(i));const o=d(e,["error"]);o!=null&&p(t,["error"],o);const a=d(e,["createTime"]);a!=null&&p(t,["createTime"],a);const s=d(e,["startTime"]);s!=null&&p(t,["startTime"],s);const l=d(e,["endTime"]);l!=null&&p(t,["endTime"],l);const u=d(e,["updateTime"]);u!=null&&p(t,["updateTime"],u);const c=d(e,["model"]);c!=null&&p(t,["model"],c);const f=d(e,["inputConfig"]);f!=null&&p(t,["src"],S$(f));const h=d(e,["outputConfig"]);h!=null&&p(t,["dest"],b$(hC(h)));const m=d(e,["completionStats"]);return m!=null&&p(t,["completionStats"],m),t}function S$(e){const t={},n=d(e,["instancesFormat"]);n!=null&&p(t,["format"],n);const r=d(e,["gcsSource","uris"]);r!=null&&p(t,["gcsUri"],r);const i=d(e,["bigquerySource","inputUri"]);return i!=null&&p(t,["bigqueryUri"],i),t}function x$(e,t){const n={};if(d(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(t,["fileName"]);r!=null&&p(n,["fileName"],r);const i=d(t,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Q$(e,a))),p(n,["requests","requests"],o)}return n}function E$(e){const t={},n=d(e,["format"]);n!=null&&p(t,["instancesFormat"],n);const r=d(e,["gcsUri"]);r!=null&&p(t,["gcsSource","uris"],r);const i=d(e,["bigqueryUri"]);if(i!=null&&p(t,["bigquerySource","inputUri"],i),d(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function T$(e){const t={},n=d(e,["data"]);if(n!=null&&p(t,["data"],n),d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function A$(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],Ma(e,r)),n}function C$(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],Ma(e,r)),n}function P$(e){const t={},n=d(e,["content"]);n!=null&&p(t,["content"],n);const r=d(e,["citationMetadata"]);r!=null&&p(t,["citationMetadata"],k$(r));const i=d(e,["tokenCount"]);i!=null&&p(t,["tokenCount"],i);const o=d(e,["finishReason"]);o!=null&&p(t,["finishReason"],o);const a=d(e,["avgLogprobs"]);a!=null&&p(t,["avgLogprobs"],a);const s=d(e,["groundingMetadata"]);s!=null&&p(t,["groundingMetadata"],s);const l=d(e,["index"]);l!=null&&p(t,["index"],l);const u=d(e,["logprobsResult"]);u!=null&&p(t,["logprobsResult"],u);const c=d(e,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>m)),p(t,["safetyRatings"],h)}const f=d(e,["urlContextMetadata"]);return f!=null&&p(t,["urlContextMetadata"],f),t}function k$(e){const t={},n=d(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(t,["citations"],r)}return t}function mC(e){const t={},n=d(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>aD(o))),p(t,["parts"],i)}const r=d(e,["role"]);return r!=null&&p(t,["role"],r),t}function I$(e,t){const n={},r=d(e,["displayName"]);if(t!==void 0&&r!=null&&p(t,["batch","displayName"],r),d(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function O$(e,t){const n={},r=d(e,["displayName"]);t!==void 0&&r!=null&&p(t,["displayName"],r);const i=d(e,["dest"]);return t!==void 0&&i!=null&&p(t,["outputConfig"],_$(v$(i))),n}function n_(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["_url","model"],me(e,r));const i=d(t,["src"]);i!=null&&p(n,["batch","inputConfig"],x$(e,dC(e,i)));const o=d(t,["config"]);return o!=null&&I$(o,n),n}function R$(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["model"],me(e,r));const i=d(t,["src"]);i!=null&&p(n,["inputConfig"],E$(dC(e,i)));const o=d(t,["config"]);return o!=null&&O$(o,n),n}function N$(e,t){const n={},r=d(e,["displayName"]);return t!==void 0&&r!=null&&p(t,["batch","displayName"],r),n}function M$(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["_url","model"],me(e,r));const i=d(t,["src"]);i!=null&&p(n,["batch","inputConfig"],B$(e,i));const o=d(t,["config"]);return o!=null&&N$(o,n),n}function $$(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],Ma(e,r)),n}function D$(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],Ma(e,r)),n}function L$(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["name"]);r!=null&&p(t,["name"],r);const i=d(e,["done"]);i!=null&&p(t,["done"],i);const o=d(e,["error"]);return o!=null&&p(t,["error"],o),t}function U$(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["name"]);r!=null&&p(t,["name"],r);const i=d(e,["done"]);i!=null&&p(t,["done"],i);const o=d(e,["error"]);return o!=null&&p(t,["error"],o),t}function j$(e,t){const n={},r=d(t,["contents"]);if(r!=null){let o=gv(e,r);Array.isArray(o)&&(o=o.map(a=>a)),p(n,["requests[]","request","content"],o)}const i=d(t,["config"]);return i!=null&&(p(n,["_self"],F$(i,n)),$M(n,{"requests[].*":"requests[].request.*"})),n}function F$(e,t){const n={},r=d(e,["taskType"]);t!==void 0&&r!=null&&p(t,["requests[]","taskType"],r);const i=d(e,["title"]);t!==void 0&&i!=null&&p(t,["requests[]","title"],i);const o=d(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&p(t,["requests[]","outputDimensionality"],o),d(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function B$(e,t){const n={},r=d(t,["fileName"]);r!=null&&p(n,["file_name"],r);const i=d(t,["inlinedRequests"]);return i!=null&&p(n,["requests"],j$(e,i)),n}function z$(e){const t={};if(d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(e,["fileUri"]);n!=null&&p(t,["fileUri"],n);const r=d(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function H$(e){const t={},n=d(e,["id"]);n!=null&&p(t,["id"],n);const r=d(e,["args"]);r!=null&&p(t,["args"],r);const i=d(e,["name"]);if(i!=null&&p(t,["name"],i),d(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function V$(e){const t={},n=d(e,["allowedFunctionNames"]);n!=null&&p(t,["allowedFunctionNames"],n);const r=d(e,["mode"]);if(r!=null&&p(t,["mode"],r),d(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function G$(e,t,n){const r={},i=d(t,["systemInstruction"]);n!==void 0&&i!=null&&p(n,["systemInstruction"],mC(St(i)));const o=d(t,["temperature"]);o!=null&&p(r,["temperature"],o);const a=d(t,["topP"]);a!=null&&p(r,["topP"],a);const s=d(t,["topK"]);s!=null&&p(r,["topK"],s);const l=d(t,["candidateCount"]);l!=null&&p(r,["candidateCount"],l);const u=d(t,["maxOutputTokens"]);u!=null&&p(r,["maxOutputTokens"],u);const c=d(t,["stopSequences"]);c!=null&&p(r,["stopSequences"],c);const f=d(t,["responseLogprobs"]);f!=null&&p(r,["responseLogprobs"],f);const h=d(t,["logprobs"]);h!=null&&p(r,["logprobs"],h);const m=d(t,["presencePenalty"]);m!=null&&p(r,["presencePenalty"],m);const g=d(t,["frequencyPenalty"]);g!=null&&p(r,["frequencyPenalty"],g);const y=d(t,["seed"]);y!=null&&p(r,["seed"],y);const b=d(t,["responseMimeType"]);b!=null&&p(r,["responseMimeType"],b);const v=d(t,["responseSchema"]);v!=null&&p(r,["responseSchema"],yv(v));const w=d(t,["responseJsonSchema"]);if(w!=null&&p(r,["responseJsonSchema"],w),d(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=d(t,["safetySettings"]);if(n!==void 0&&_!=null){let D=_;Array.isArray(D)&&(D=D.map($=>sD($))),p(n,["safetySettings"],D)}const E=d(t,["tools"]);if(n!==void 0&&E!=null){let D=Na(E);Array.isArray(D)&&(D=D.map($=>uD(Ra($)))),p(n,["tools"],D)}const S=d(t,["toolConfig"]);if(n!==void 0&&S!=null&&p(n,["toolConfig"],lD(S)),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=d(t,["cachedContent"]);n!==void 0&&x!=null&&p(n,["cachedContent"],Sr(e,x));const T=d(t,["responseModalities"]);T!=null&&p(r,["responseModalities"],T);const C=d(t,["mediaResolution"]);C!=null&&p(r,["mediaResolution"],C);const P=d(t,["speechConfig"]);if(P!=null&&p(r,["speechConfig"],vv(P)),d(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=d(t,["thinkingConfig"]);I!=null&&p(r,["thinkingConfig"],I);const R=d(t,["imageConfig"]);R!=null&&p(r,["imageConfig"],X$(R));const O=d(t,["enableEnhancedCivicAnswers"]);if(O!=null&&p(r,["enableEnhancedCivicAnswers"],O),d(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function q$(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>P$(u))),p(t,["candidates"],l)}const i=d(e,["modelVersion"]);i!=null&&p(t,["modelVersion"],i);const o=d(e,["promptFeedback"]);o!=null&&p(t,["promptFeedback"],o);const a=d(e,["responseId"]);a!=null&&p(t,["responseId"],a);const s=d(e,["usageMetadata"]);return s!=null&&p(t,["usageMetadata"],s),t}function W$(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],Ma(e,r)),n}function K$(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],Ma(e,r)),n}function J$(e){const t={};if(d(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(e,["enableWidget"]);return n!=null&&p(t,["enableWidget"],n),t}function Y$(e){const t={};if(d(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(e,["timeRangeFilter"]);return n!=null&&p(t,["timeRangeFilter"],n),t}function X$(e){const t={},n=d(e,["aspectRatio"]);n!=null&&p(t,["aspectRatio"],n);const r=d(e,["imageSize"]);if(r!=null&&p(t,["imageSize"],r),d(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Q$(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["request","model"],me(e,r));const i=d(t,["contents"]);if(i!=null){let s=hn(i);Array.isArray(s)&&(s=s.map(l=>mC(l))),p(n,["request","contents"],s)}const o=d(t,["metadata"]);o!=null&&p(n,["metadata"],o);const a=d(t,["config"]);return a!=null&&p(n,["request","generationConfig"],G$(e,a,d(n,["request"],{}))),n}function Z$(e){const t={},n=d(e,["response"]);n!=null&&p(t,["response"],q$(n));const r=d(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=d(e,["error"]);return i!=null&&p(t,["error"],i),t}function eD(e,t){const n={},r=d(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=d(e,["pageToken"]);if(t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),d(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function tD(e,t){const n={},r=d(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=d(e,["pageToken"]);t!==void 0&&i!=null&&p(t,["_query","pageToken"],i);const o=d(e,["filter"]);return t!==void 0&&o!=null&&p(t,["_query","filter"],o),n}function nD(e){const t={},n=d(e,["config"]);return n!=null&&eD(n,t),t}function rD(e){const t={},n=d(e,["config"]);return n!=null&&tD(n,t),t}function iD(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=d(e,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>lc(a))),p(t,["batchJobs"],o)}return t}function oD(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=d(e,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>Em(a))),p(t,["batchJobs"],o)}return t}function aD(e){const t={},n=d(e,["mediaResolution"]);n!=null&&p(t,["mediaResolution"],n);const r=d(e,["codeExecutionResult"]);r!=null&&p(t,["codeExecutionResult"],r);const i=d(e,["executableCode"]);i!=null&&p(t,["executableCode"],i);const o=d(e,["fileData"]);o!=null&&p(t,["fileData"],z$(o));const a=d(e,["functionCall"]);a!=null&&p(t,["functionCall"],H$(a));const s=d(e,["functionResponse"]);s!=null&&p(t,["functionResponse"],s);const l=d(e,["inlineData"]);l!=null&&p(t,["inlineData"],T$(l));const u=d(e,["text"]);u!=null&&p(t,["text"],u);const c=d(e,["thought"]);c!=null&&p(t,["thought"],c);const f=d(e,["thoughtSignature"]);f!=null&&p(t,["thoughtSignature"],f);const h=d(e,["videoMetadata"]);return h!=null&&p(t,["videoMetadata"],h),t}function sD(e){const t={},n=d(e,["category"]);if(n!=null&&p(t,["category"],n),d(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(e,["threshold"]);return r!=null&&p(t,["threshold"],r),t}function lD(e){const t={},n=d(e,["retrievalConfig"]);n!=null&&p(t,["retrievalConfig"],n);const r=d(e,["functionCallingConfig"]);return r!=null&&p(t,["functionCallingConfig"],V$(r)),t}function uD(e){const t={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(e,["computerUse"]);n!=null&&p(t,["computerUse"],n);const r=d(e,["fileSearch"]);r!=null&&p(t,["fileSearch"],r);const i=d(e,["codeExecution"]);if(i!=null&&p(t,["codeExecution"],i),d(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),p(t,["functionDeclarations"],c)}const a=d(e,["googleMaps"]);a!=null&&p(t,["googleMaps"],J$(a));const s=d(e,["googleSearch"]);s!=null&&p(t,["googleSearch"],Y$(s));const l=d(e,["googleSearchRetrieval"]);l!=null&&p(t,["googleSearchRetrieval"],l);const u=d(e,["urlContext"]);return u!=null&&p(t,["urlContext"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var mr;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(mr||(mr={}));class Zi{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,o;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!r||Object.keys(r).length===0?a={config:{}}:typeof r=="object"?a=Object.assign({},r):a=r,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(o=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cD extends _r{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Zi(mr.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=n_(this.apiClient,t),r=n._url,i=K("{model}:batchGenerateContent",r),s=n.batch.inputConfig.requests,l=s.requests,u=[];for(const c of l){const f=Object.assign({},c);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const m=f.request;m.systemInstruction=h,f.request=m}u.push(f)}return s.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(t),a=this.getBigqueryUri(t);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(a)r.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=R$(this.apiClient,t);return s=K("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Em(c))}else{const u=n_(this.apiClient,t);return s=K("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>lc(c))}}async createEmbeddingsInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=M$(this.apiClient,t);return o=K("{model}:asyncBatchEmbedContent",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>lc(l))}}async get(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=K$(this.apiClient,t);return s=K("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Em(c))}else{const u=W$(this.apiClient,t);return s=K("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>lc(c))}}async cancel(t){var n,r,i,o;let a="",s={};if(this.apiClient.isVertexAI()){const l=C$(this.apiClient,t);a=K("batchPredictionJobs/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=A$(this.apiClient,t);a=K("batches/{name}:cancel",l._url),s=l._query,delete l._url,delete l._query,await this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=rD(t);return s=K("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=oD(c),h=new Qb;return Object.assign(h,f),h})}else{const u=nD(t);return s=K("batches",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=iD(c),h=new Qb;return Object.assign(h,f),h})}}async delete(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=D$(this.apiClient,t);return s=K("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>U$(c))}else{const u=$$(this.apiClient,t);return s=K("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>L$(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fD(e){const t={},n=d(e,["data"]);if(n!=null&&p(t,["data"],n),d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function r_(e){const t={},n=d(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>MD(o))),p(t,["parts"],i)}const r=d(e,["role"]);return r!=null&&p(t,["role"],r),t}function dD(e,t){const n={},r=d(e,["ttl"]);t!==void 0&&r!=null&&p(t,["ttl"],r);const i=d(e,["expireTime"]);t!==void 0&&i!=null&&p(t,["expireTime"],i);const o=d(e,["displayName"]);t!==void 0&&o!=null&&p(t,["displayName"],o);const a=d(e,["contents"]);if(t!==void 0&&a!=null){let c=hn(a);Array.isArray(c)&&(c=c.map(f=>r_(f))),p(t,["contents"],c)}const s=d(e,["systemInstruction"]);t!==void 0&&s!=null&&p(t,["systemInstruction"],r_(St(s)));const l=d(e,["tools"]);if(t!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>DD(f))),p(t,["tools"],c)}const u=d(e,["toolConfig"]);if(t!==void 0&&u!=null&&p(t,["toolConfig"],$D(u)),d(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function hD(e,t){const n={},r=d(e,["ttl"]);t!==void 0&&r!=null&&p(t,["ttl"],r);const i=d(e,["expireTime"]);t!==void 0&&i!=null&&p(t,["expireTime"],i);const o=d(e,["displayName"]);t!==void 0&&o!=null&&p(t,["displayName"],o);const a=d(e,["contents"]);if(t!==void 0&&a!=null){let f=hn(a);Array.isArray(f)&&(f=f.map(h=>h)),p(t,["contents"],f)}const s=d(e,["systemInstruction"]);t!==void 0&&s!=null&&p(t,["systemInstruction"],St(s));const l=d(e,["tools"]);if(t!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>LD(h))),p(t,["tools"],f)}const u=d(e,["toolConfig"]);t!==void 0&&u!=null&&p(t,["toolConfig"],u);const c=d(e,["kmsKeyName"]);return t!==void 0&&c!=null&&p(t,["encryption_spec","kmsKeyName"],c),n}function pD(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["model"],rC(e,r));const i=d(t,["config"]);return i!=null&&dD(i,n),n}function mD(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["model"],rC(e,r));const i=d(t,["config"]);return i!=null&&hD(i,n),n}function gD(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],Sr(e,r)),n}function yD(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],Sr(e,r)),n}function vD(e){const t={},n=d(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}function wD(e){const t={},n=d(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}function bD(e){const t={};if(d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(e,["fileUri"]);n!=null&&p(t,["fileUri"],n);const r=d(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function _D(e){const t={},n=d(e,["id"]);n!=null&&p(t,["id"],n);const r=d(e,["args"]);r!=null&&p(t,["args"],r);const i=d(e,["name"]);if(i!=null&&p(t,["name"],i),d(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function SD(e){const t={},n=d(e,["allowedFunctionNames"]);n!=null&&p(t,["allowedFunctionNames"],n);const r=d(e,["mode"]);if(r!=null&&p(t,["mode"],r),d(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function xD(e){const t={},n=d(e,["description"]);n!=null&&p(t,["description"],n);const r=d(e,["name"]);r!=null&&p(t,["name"],r);const i=d(e,["parameters"]);i!=null&&p(t,["parameters"],i);const o=d(e,["parametersJsonSchema"]);o!=null&&p(t,["parametersJsonSchema"],o);const a=d(e,["response"]);a!=null&&p(t,["response"],a);const s=d(e,["responseJsonSchema"]);if(s!=null&&p(t,["responseJsonSchema"],s),d(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function ED(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],Sr(e,r)),n}function TD(e,t){const n={},r=d(t,["name"]);return r!=null&&p(n,["_url","name"],Sr(e,r)),n}function AD(e){const t={};if(d(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(e,["enableWidget"]);return n!=null&&p(t,["enableWidget"],n),t}function CD(e){const t={};if(d(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(e,["timeRangeFilter"]);return n!=null&&p(t,["timeRangeFilter"],n),t}function PD(e,t){const n={},r=d(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=d(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function kD(e,t){const n={},r=d(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=d(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function ID(e){const t={},n=d(e,["config"]);return n!=null&&PD(n,t),t}function OD(e){const t={},n=d(e,["config"]);return n!=null&&kD(n,t),t}function RD(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=d(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["cachedContents"],o)}return t}function ND(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=d(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["cachedContents"],o)}return t}function MD(e){const t={},n=d(e,["mediaResolution"]);n!=null&&p(t,["mediaResolution"],n);const r=d(e,["codeExecutionResult"]);r!=null&&p(t,["codeExecutionResult"],r);const i=d(e,["executableCode"]);i!=null&&p(t,["executableCode"],i);const o=d(e,["fileData"]);o!=null&&p(t,["fileData"],bD(o));const a=d(e,["functionCall"]);a!=null&&p(t,["functionCall"],_D(a));const s=d(e,["functionResponse"]);s!=null&&p(t,["functionResponse"],s);const l=d(e,["inlineData"]);l!=null&&p(t,["inlineData"],fD(l));const u=d(e,["text"]);u!=null&&p(t,["text"],u);const c=d(e,["thought"]);c!=null&&p(t,["thought"],c);const f=d(e,["thoughtSignature"]);f!=null&&p(t,["thoughtSignature"],f);const h=d(e,["videoMetadata"]);return h!=null&&p(t,["videoMetadata"],h),t}function $D(e){const t={},n=d(e,["retrievalConfig"]);n!=null&&p(t,["retrievalConfig"],n);const r=d(e,["functionCallingConfig"]);return r!=null&&p(t,["functionCallingConfig"],SD(r)),t}function DD(e){const t={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(e,["computerUse"]);n!=null&&p(t,["computerUse"],n);const r=d(e,["fileSearch"]);r!=null&&p(t,["fileSearch"],r);const i=d(e,["codeExecution"]);if(i!=null&&p(t,["codeExecution"],i),d(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),p(t,["functionDeclarations"],c)}const a=d(e,["googleMaps"]);a!=null&&p(t,["googleMaps"],AD(a));const s=d(e,["googleSearch"]);s!=null&&p(t,["googleSearch"],CD(s));const l=d(e,["googleSearchRetrieval"]);l!=null&&p(t,["googleSearchRetrieval"],l);const u=d(e,["urlContext"]);return u!=null&&p(t,["urlContext"],u),t}function LD(e){const t={},n=d(e,["retrieval"]);n!=null&&p(t,["retrieval"],n);const r=d(e,["computerUse"]);if(r!=null&&p(t,["computerUse"],r),d(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=d(e,["codeExecution"]);i!=null&&p(t,["codeExecution"],i);const o=d(e,["enterpriseWebSearch"]);o!=null&&p(t,["enterpriseWebSearch"],o);const a=d(e,["functionDeclarations"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>xD(h))),p(t,["functionDeclarations"],f)}const s=d(e,["googleMaps"]);s!=null&&p(t,["googleMaps"],s);const l=d(e,["googleSearch"]);l!=null&&p(t,["googleSearch"],l);const u=d(e,["googleSearchRetrieval"]);u!=null&&p(t,["googleSearchRetrieval"],u);const c=d(e,["urlContext"]);return c!=null&&p(t,["urlContext"],c),t}function UD(e,t){const n={},r=d(e,["ttl"]);t!==void 0&&r!=null&&p(t,["ttl"],r);const i=d(e,["expireTime"]);return t!==void 0&&i!=null&&p(t,["expireTime"],i),n}function jD(e,t){const n={},r=d(e,["ttl"]);t!==void 0&&r!=null&&p(t,["ttl"],r);const i=d(e,["expireTime"]);return t!==void 0&&i!=null&&p(t,["expireTime"],i),n}function FD(e,t){const n={},r=d(t,["name"]);r!=null&&p(n,["_url","name"],Sr(e,r));const i=d(t,["config"]);return i!=null&&UD(i,n),n}function BD(e,t){const n={},r=d(t,["name"]);r!=null&&p(n,["_url","name"],Sr(e,r));const i=d(t,["config"]);return i!=null&&jD(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zD extends _r{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Zi(mr.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=mD(this.apiClient,t);return s=K("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=pD(this.apiClient,t);return s=K("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async get(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=TD(this.apiClient,t);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=ED(this.apiClient,t);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async delete(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=yD(this.apiClient,t);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=wD(c),h=new Yb;return Object.assign(h,f),h})}else{const u=gD(this.apiClient,t);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=vD(c),h=new Yb;return Object.assign(h,f),h})}}async update(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=BD(this.apiClient,t);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>c)}else{const u=FD(this.apiClient,t);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>c)}}async listInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=OD(t);return s=K("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=ND(c),h=new Xb;return Object.assign(h,f),h})}else{const u=ID(t);return s=K("cachedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=RD(c),h=new Xb;return Object.assign(h,f),h})}}}function Uc(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function i_(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function oe(e){return this instanceof oe?(this.v=e,this):new oe(e)}function Mn(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(m){return function(g){return Promise.resolve(g).then(m,f)}}function s(m,g){r[m]&&(i[m]=function(y){return new Promise(function(b,v){o.push([m,y,b,v])>1||l(m,y)})},g&&(i[m]=g(i[m])))}function l(m,g){try{u(r[m](g))}catch(y){h(o[0][3],y)}}function u(m){m.value instanceof oe?Promise.resolve(m.value.v).then(c,f):h(o[0][2],m)}function c(m){l("next",m)}function f(m){l("throw",m)}function h(m,g){m(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}function $n(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof i_=="function"?i_(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(a){return new Promise(function(s,l){a=e[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(u){o({value:u,done:s})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HD(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:gC(n)}function gC(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function VD(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function o_(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let o=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),o&&!gC(e[r])&&(o=!1),r++;o?t.push(...i):t.pop()}return t}class GD{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new qD(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class qD{constructor(t,n,r,i={},o=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),VD(o)}async sendMessage(t){var n;await this.sendPromise;const r=St(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,a,s;const l=await i,u=(a=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||a===void 0?void 0:a.content,c=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];c!=null&&(h=(s=c.slice(f))!==null&&s!==void 0?s:[]);const m=u?[u]:[];this.recordHistory(r,m,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=St(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(t=!1){const n=t?o_(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return Mn(this,arguments,function*(){var i,o,a,s,l,u;const c=[];try{for(var f=!0,h=$n(t),m;m=yield oe(h.next()),i=m.done,!i;f=!0){s=m.value,f=!1;const g=s;if(HD(g)){const y=(u=(l=g.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;y!==void 0&&c.push(y)}yield yield oe(g)}}catch(g){o={error:g}}finally{try{!f&&!i&&(a=h.return)&&(yield oe(a.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...o_(r)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class il extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,il.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WD(e){const t={},n=d(e,["file"]);return n!=null&&p(t,["file"],n),t}function KD(e){const t={},n=d(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}function JD(e){const t={},n=d(e,["name"]);return n!=null&&p(t,["_url","file"],uC(n)),t}function YD(e){const t={},n=d(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}function XD(e){const t={},n=d(e,["name"]);return n!=null&&p(t,["_url","file"],uC(n)),t}function QD(e){const t={},n=d(e,["uris"]);return n!=null&&p(t,["uris"],n),t}function ZD(e,t){const n={},r=d(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=d(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function e2(e){const t={},n=d(e,["config"]);return n!=null&&ZD(n,t),t}function t2(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=d(e,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["files"],o)}return t}function n2(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(t,["files"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class r2 extends _r{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Zi(mr.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=e2(t);return o=K("files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=t2(l),c=new i$;return Object.assign(c,u),c})}}async createInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=WD(t);return o=K("upload/v1beta/files",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=KD(l),c=new o$;return Object.assign(c,u),c})}}async get(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=XD(t);return o=K("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=JD(t);return o=K("files/{file}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=YD(l),c=new a$;return Object.assign(c,u),c})}}async registerFilesInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=QD(t);return o=K("files:register",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=n2(l),c=new s$;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uc(e){const t={},n=d(e,["data"]);if(n!=null&&p(t,["data"],n),d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function i2(e){const t={},n=d(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>b2(o))),p(t,["parts"],i)}const r=d(e,["role"]);return r!=null&&p(t,["role"],r),t}function o2(e){const t={};if(d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(e,["fileUri"]);n!=null&&p(t,["fileUri"],n);const r=d(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function a2(e){const t={},n=d(e,["id"]);n!=null&&p(t,["id"],n);const r=d(e,["args"]);r!=null&&p(t,["args"],r);const i=d(e,["name"]);if(i!=null&&p(t,["name"],i),d(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function s2(e){const t={},n=d(e,["description"]);n!=null&&p(t,["description"],n);const r=d(e,["name"]);r!=null&&p(t,["name"],r);const i=d(e,["parameters"]);i!=null&&p(t,["parameters"],i);const o=d(e,["parametersJsonSchema"]);o!=null&&p(t,["parametersJsonSchema"],o);const a=d(e,["response"]);a!=null&&p(t,["response"],a);const s=d(e,["responseJsonSchema"]);if(s!=null&&p(t,["responseJsonSchema"],s),d(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function l2(e){const t={},n=d(e,["modelSelectionConfig"]);n!=null&&p(t,["modelConfig"],n);const r=d(e,["responseJsonSchema"]);r!=null&&p(t,["responseJsonSchema"],r);const i=d(e,["audioTimestamp"]);i!=null&&p(t,["audioTimestamp"],i);const o=d(e,["candidateCount"]);o!=null&&p(t,["candidateCount"],o);const a=d(e,["enableAffectiveDialog"]);a!=null&&p(t,["enableAffectiveDialog"],a);const s=d(e,["frequencyPenalty"]);s!=null&&p(t,["frequencyPenalty"],s);const l=d(e,["logprobs"]);l!=null&&p(t,["logprobs"],l);const u=d(e,["maxOutputTokens"]);u!=null&&p(t,["maxOutputTokens"],u);const c=d(e,["mediaResolution"]);c!=null&&p(t,["mediaResolution"],c);const f=d(e,["presencePenalty"]);f!=null&&p(t,["presencePenalty"],f);const h=d(e,["responseLogprobs"]);h!=null&&p(t,["responseLogprobs"],h);const m=d(e,["responseMimeType"]);m!=null&&p(t,["responseMimeType"],m);const g=d(e,["responseModalities"]);g!=null&&p(t,["responseModalities"],g);const y=d(e,["responseSchema"]);y!=null&&p(t,["responseSchema"],y);const b=d(e,["routingConfig"]);b!=null&&p(t,["routingConfig"],b);const v=d(e,["seed"]);v!=null&&p(t,["seed"],v);const w=d(e,["speechConfig"]);w!=null&&p(t,["speechConfig"],w);const _=d(e,["stopSequences"]);_!=null&&p(t,["stopSequences"],_);const E=d(e,["temperature"]);E!=null&&p(t,["temperature"],E);const S=d(e,["thinkingConfig"]);S!=null&&p(t,["thinkingConfig"],S);const x=d(e,["topK"]);x!=null&&p(t,["topK"],x);const T=d(e,["topP"]);if(T!=null&&p(t,["topP"],T),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function u2(e){const t={};if(d(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(e,["enableWidget"]);return n!=null&&p(t,["enableWidget"],n),t}function c2(e){const t={};if(d(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(e,["timeRangeFilter"]);return n!=null&&p(t,["timeRangeFilter"],n),t}function f2(e,t){const n={},r=d(e,["generationConfig"]);t!==void 0&&r!=null&&p(t,["setup","generationConfig"],r);const i=d(e,["responseModalities"]);t!==void 0&&i!=null&&p(t,["setup","generationConfig","responseModalities"],i);const o=d(e,["temperature"]);t!==void 0&&o!=null&&p(t,["setup","generationConfig","temperature"],o);const a=d(e,["topP"]);t!==void 0&&a!=null&&p(t,["setup","generationConfig","topP"],a);const s=d(e,["topK"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig","topK"],s);const l=d(e,["maxOutputTokens"]);t!==void 0&&l!=null&&p(t,["setup","generationConfig","maxOutputTokens"],l);const u=d(e,["mediaResolution"]);t!==void 0&&u!=null&&p(t,["setup","generationConfig","mediaResolution"],u);const c=d(e,["seed"]);t!==void 0&&c!=null&&p(t,["setup","generationConfig","seed"],c);const f=d(e,["speechConfig"]);t!==void 0&&f!=null&&p(t,["setup","generationConfig","speechConfig"],wv(f));const h=d(e,["thinkingConfig"]);t!==void 0&&h!=null&&p(t,["setup","generationConfig","thinkingConfig"],h);const m=d(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],m);const g=d(e,["systemInstruction"]);t!==void 0&&g!=null&&p(t,["setup","systemInstruction"],i2(St(g)));const y=d(e,["tools"]);if(t!==void 0&&y!=null){let x=Na(y);Array.isArray(x)&&(x=x.map(T=>S2(Ra(T)))),p(t,["setup","tools"],x)}const b=d(e,["sessionResumption"]);t!==void 0&&b!=null&&p(t,["setup","sessionResumption"],_2(b));const v=d(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&p(t,["setup","inputAudioTranscription"],v);const w=d(e,["outputAudioTranscription"]);t!==void 0&&w!=null&&p(t,["setup","outputAudioTranscription"],w);const _=d(e,["realtimeInputConfig"]);t!==void 0&&_!=null&&p(t,["setup","realtimeInputConfig"],_);const E=d(e,["contextWindowCompression"]);t!==void 0&&E!=null&&p(t,["setup","contextWindowCompression"],E);const S=d(e,["proactivity"]);if(t!==void 0&&S!=null&&p(t,["setup","proactivity"],S),d(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function d2(e,t){const n={},r=d(e,["generationConfig"]);t!==void 0&&r!=null&&p(t,["setup","generationConfig"],l2(r));const i=d(e,["responseModalities"]);t!==void 0&&i!=null&&p(t,["setup","generationConfig","responseModalities"],i);const o=d(e,["temperature"]);t!==void 0&&o!=null&&p(t,["setup","generationConfig","temperature"],o);const a=d(e,["topP"]);t!==void 0&&a!=null&&p(t,["setup","generationConfig","topP"],a);const s=d(e,["topK"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig","topK"],s);const l=d(e,["maxOutputTokens"]);t!==void 0&&l!=null&&p(t,["setup","generationConfig","maxOutputTokens"],l);const u=d(e,["mediaResolution"]);t!==void 0&&u!=null&&p(t,["setup","generationConfig","mediaResolution"],u);const c=d(e,["seed"]);t!==void 0&&c!=null&&p(t,["setup","generationConfig","seed"],c);const f=d(e,["speechConfig"]);t!==void 0&&f!=null&&p(t,["setup","generationConfig","speechConfig"],wv(f));const h=d(e,["thinkingConfig"]);t!==void 0&&h!=null&&p(t,["setup","generationConfig","thinkingConfig"],h);const m=d(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],m);const g=d(e,["systemInstruction"]);t!==void 0&&g!=null&&p(t,["setup","systemInstruction"],St(g));const y=d(e,["tools"]);if(t!==void 0&&y!=null){let T=Na(y);Array.isArray(T)&&(T=T.map(C=>x2(Ra(C)))),p(t,["setup","tools"],T)}const b=d(e,["sessionResumption"]);t!==void 0&&b!=null&&p(t,["setup","sessionResumption"],b);const v=d(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&p(t,["setup","inputAudioTranscription"],v);const w=d(e,["outputAudioTranscription"]);t!==void 0&&w!=null&&p(t,["setup","outputAudioTranscription"],w);const _=d(e,["realtimeInputConfig"]);t!==void 0&&_!=null&&p(t,["setup","realtimeInputConfig"],_);const E=d(e,["contextWindowCompression"]);t!==void 0&&E!=null&&p(t,["setup","contextWindowCompression"],E);const S=d(e,["proactivity"]);t!==void 0&&S!=null&&p(t,["setup","proactivity"],S);const x=d(e,["explicitVadSignal"]);return t!==void 0&&x!=null&&p(t,["setup","explicitVadSignal"],x),n}function h2(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["setup","model"],me(e,r));const i=d(t,["config"]);return i!=null&&p(n,["config"],f2(i,n)),n}function p2(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["setup","model"],me(e,r));const i=d(t,["config"]);return i!=null&&p(n,["config"],d2(i,n)),n}function m2(e){const t={},n=d(e,["musicGenerationConfig"]);return n!=null&&p(t,["musicGenerationConfig"],n),t}function g2(e){const t={},n=d(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),p(t,["weightedPrompts"],r)}return t}function y2(e){const t={},n=d(e,["media"]);if(n!=null){let u=iC(n);Array.isArray(u)&&(u=u.map(c=>uc(c))),p(t,["mediaChunks"],u)}const r=d(e,["audio"]);r!=null&&p(t,["audio"],uc(aC(r)));const i=d(e,["audioStreamEnd"]);i!=null&&p(t,["audioStreamEnd"],i);const o=d(e,["video"]);o!=null&&p(t,["video"],uc(oC(o)));const a=d(e,["text"]);a!=null&&p(t,["text"],a);const s=d(e,["activityStart"]);s!=null&&p(t,["activityStart"],s);const l=d(e,["activityEnd"]);return l!=null&&p(t,["activityEnd"],l),t}function v2(e){const t={},n=d(e,["media"]);if(n!=null){let u=iC(n);Array.isArray(u)&&(u=u.map(c=>c)),p(t,["mediaChunks"],u)}const r=d(e,["audio"]);r!=null&&p(t,["audio"],aC(r));const i=d(e,["audioStreamEnd"]);i!=null&&p(t,["audioStreamEnd"],i);const o=d(e,["video"]);o!=null&&p(t,["video"],oC(o));const a=d(e,["text"]);a!=null&&p(t,["text"],a);const s=d(e,["activityStart"]);s!=null&&p(t,["activityStart"],s);const l=d(e,["activityEnd"]);return l!=null&&p(t,["activityEnd"],l),t}function w2(e){const t={},n=d(e,["setupComplete"]);n!=null&&p(t,["setupComplete"],n);const r=d(e,["serverContent"]);r!=null&&p(t,["serverContent"],r);const i=d(e,["toolCall"]);i!=null&&p(t,["toolCall"],i);const o=d(e,["toolCallCancellation"]);o!=null&&p(t,["toolCallCancellation"],o);const a=d(e,["usageMetadata"]);a!=null&&p(t,["usageMetadata"],E2(a));const s=d(e,["goAway"]);s!=null&&p(t,["goAway"],s);const l=d(e,["sessionResumptionUpdate"]);l!=null&&p(t,["sessionResumptionUpdate"],l);const u=d(e,["voiceActivityDetectionSignal"]);u!=null&&p(t,["voiceActivityDetectionSignal"],u);const c=d(e,["voiceActivity"]);return c!=null&&p(t,["voiceActivity"],T2(c)),t}function b2(e){const t={},n=d(e,["mediaResolution"]);n!=null&&p(t,["mediaResolution"],n);const r=d(e,["codeExecutionResult"]);r!=null&&p(t,["codeExecutionResult"],r);const i=d(e,["executableCode"]);i!=null&&p(t,["executableCode"],i);const o=d(e,["fileData"]);o!=null&&p(t,["fileData"],o2(o));const a=d(e,["functionCall"]);a!=null&&p(t,["functionCall"],a2(a));const s=d(e,["functionResponse"]);s!=null&&p(t,["functionResponse"],s);const l=d(e,["inlineData"]);l!=null&&p(t,["inlineData"],uc(l));const u=d(e,["text"]);u!=null&&p(t,["text"],u);const c=d(e,["thought"]);c!=null&&p(t,["thought"],c);const f=d(e,["thoughtSignature"]);f!=null&&p(t,["thoughtSignature"],f);const h=d(e,["videoMetadata"]);return h!=null&&p(t,["videoMetadata"],h),t}function _2(e){const t={},n=d(e,["handle"]);if(n!=null&&p(t,["handle"],n),d(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function S2(e){const t={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(e,["computerUse"]);n!=null&&p(t,["computerUse"],n);const r=d(e,["fileSearch"]);r!=null&&p(t,["fileSearch"],r);const i=d(e,["codeExecution"]);if(i!=null&&p(t,["codeExecution"],i),d(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),p(t,["functionDeclarations"],c)}const a=d(e,["googleMaps"]);a!=null&&p(t,["googleMaps"],u2(a));const s=d(e,["googleSearch"]);s!=null&&p(t,["googleSearch"],c2(s));const l=d(e,["googleSearchRetrieval"]);l!=null&&p(t,["googleSearchRetrieval"],l);const u=d(e,["urlContext"]);return u!=null&&p(t,["urlContext"],u),t}function x2(e){const t={},n=d(e,["retrieval"]);n!=null&&p(t,["retrieval"],n);const r=d(e,["computerUse"]);if(r!=null&&p(t,["computerUse"],r),d(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=d(e,["codeExecution"]);i!=null&&p(t,["codeExecution"],i);const o=d(e,["enterpriseWebSearch"]);o!=null&&p(t,["enterpriseWebSearch"],o);const a=d(e,["functionDeclarations"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>s2(h))),p(t,["functionDeclarations"],f)}const s=d(e,["googleMaps"]);s!=null&&p(t,["googleMaps"],s);const l=d(e,["googleSearch"]);l!=null&&p(t,["googleSearch"],l);const u=d(e,["googleSearchRetrieval"]);u!=null&&p(t,["googleSearchRetrieval"],u);const c=d(e,["urlContext"]);return c!=null&&p(t,["urlContext"],c),t}function E2(e){const t={},n=d(e,["promptTokenCount"]);n!=null&&p(t,["promptTokenCount"],n);const r=d(e,["cachedContentTokenCount"]);r!=null&&p(t,["cachedContentTokenCount"],r);const i=d(e,["candidatesTokenCount"]);i!=null&&p(t,["responseTokenCount"],i);const o=d(e,["toolUsePromptTokenCount"]);o!=null&&p(t,["toolUsePromptTokenCount"],o);const a=d(e,["thoughtsTokenCount"]);a!=null&&p(t,["thoughtsTokenCount"],a);const s=d(e,["totalTokenCount"]);s!=null&&p(t,["totalTokenCount"],s);const l=d(e,["promptTokensDetails"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(g=>g)),p(t,["promptTokensDetails"],m)}const u=d(e,["cacheTokensDetails"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(g=>g)),p(t,["cacheTokensDetails"],m)}const c=d(e,["candidatesTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>g)),p(t,["responseTokensDetails"],m)}const f=d(e,["toolUsePromptTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>g)),p(t,["toolUsePromptTokensDetails"],m)}const h=d(e,["trafficType"]);return h!=null&&p(t,["trafficType"],h),t}function T2(e){const t={},n=d(e,["type"]);return n!=null&&p(t,["voiceActivityType"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function A2(e,t){const n={},r=d(e,["data"]);if(r!=null&&p(n,["data"],r),d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(e,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function C2(e,t){const n={},r=d(e,["content"]);r!=null&&p(n,["content"],r);const i=d(e,["citationMetadata"]);i!=null&&p(n,["citationMetadata"],P2(i));const o=d(e,["tokenCount"]);o!=null&&p(n,["tokenCount"],o);const a=d(e,["finishReason"]);a!=null&&p(n,["finishReason"],a);const s=d(e,["avgLogprobs"]);s!=null&&p(n,["avgLogprobs"],s);const l=d(e,["groundingMetadata"]);l!=null&&p(n,["groundingMetadata"],l);const u=d(e,["index"]);u!=null&&p(n,["index"],u);const c=d(e,["logprobsResult"]);c!=null&&p(n,["logprobsResult"],c);const f=d(e,["safetyRatings"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>g)),p(n,["safetyRatings"],m)}const h=d(e,["urlContextMetadata"]);return h!=null&&p(n,["urlContextMetadata"],h),n}function P2(e,t){const n={},r=d(e,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(n,["citations"],i)}return n}function k2(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],me(e,i));const o=d(t,["contents"]);if(o!=null){let a=hn(o);Array.isArray(a)&&(a=a.map(s=>s)),p(r,["contents"],a)}return r}function I2(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(n,["tokensInfo"],o)}return n}function O2(e,t){const n={},r=d(e,["values"]);r!=null&&p(n,["values"],r);const i=d(e,["statistics"]);return i!=null&&p(n,["statistics"],R2(i)),n}function R2(e,t){const n={},r=d(e,["truncated"]);r!=null&&p(n,["truncated"],r);const i=d(e,["token_count"]);return i!=null&&p(n,["tokenCount"],i),n}function sd(e,t){const n={},r=d(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>BL(a))),p(n,["parts"],o)}const i=d(e,["role"]);return i!=null&&p(n,["role"],i),n}function N2(e,t){const n={},r=d(e,["controlType"]);r!=null&&p(n,["controlType"],r);const i=d(e,["enableControlImageComputation"]);return i!=null&&p(n,["computeControl"],i),n}function M2(e,t){const n={};if(d(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function $2(e,t,n){const r={},i=d(e,["systemInstruction"]);t!==void 0&&i!=null&&p(t,["systemInstruction"],St(i));const o=d(e,["tools"]);if(t!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>bC(l))),p(t,["tools"],s)}const a=d(e,["generationConfig"]);return t!==void 0&&a!=null&&p(t,["generationConfig"],AL(a)),r}function D2(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],me(e,i));const o=d(t,["contents"]);if(o!=null){let s=hn(o);Array.isArray(s)&&(s=s.map(l=>sd(l))),p(r,["contents"],s)}const a=d(t,["config"]);return a!=null&&M2(a),r}function L2(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],me(e,i));const o=d(t,["contents"]);if(o!=null){let s=hn(o);Array.isArray(s)&&(s=s.map(l=>l)),p(r,["contents"],s)}const a=d(t,["config"]);return a!=null&&$2(a,r),r}function U2(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["totalTokens"]);i!=null&&p(n,["totalTokens"],i);const o=d(e,["cachedContentTokenCount"]);return o!=null&&p(n,["cachedContentTokenCount"],o),n}function j2(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["totalTokens"]);return i!=null&&p(n,["totalTokens"],i),n}function F2(e,t,n){const r={},i=d(t,["model"]);return i!=null&&p(r,["_url","name"],me(e,i)),r}function B2(e,t,n){const r={},i=d(t,["model"]);return i!=null&&p(r,["_url","name"],me(e,i)),r}function z2(e,t){const n={},r=d(e,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function H2(e,t){const n={},r=d(e,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function V2(e,t,n){const r={},i=d(e,["outputGcsUri"]);t!==void 0&&i!=null&&p(t,["parameters","storageUri"],i);const o=d(e,["negativePrompt"]);t!==void 0&&o!=null&&p(t,["parameters","negativePrompt"],o);const a=d(e,["numberOfImages"]);t!==void 0&&a!=null&&p(t,["parameters","sampleCount"],a);const s=d(e,["aspectRatio"]);t!==void 0&&s!=null&&p(t,["parameters","aspectRatio"],s);const l=d(e,["guidanceScale"]);t!==void 0&&l!=null&&p(t,["parameters","guidanceScale"],l);const u=d(e,["seed"]);t!==void 0&&u!=null&&p(t,["parameters","seed"],u);const c=d(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&p(t,["parameters","safetySetting"],c);const f=d(e,["personGeneration"]);t!==void 0&&f!=null&&p(t,["parameters","personGeneration"],f);const h=d(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&p(t,["parameters","includeSafetyAttributes"],h);const m=d(e,["includeRaiReason"]);t!==void 0&&m!=null&&p(t,["parameters","includeRaiReason"],m);const g=d(e,["language"]);t!==void 0&&g!=null&&p(t,["parameters","language"],g);const y=d(e,["outputMimeType"]);t!==void 0&&y!=null&&p(t,["parameters","outputOptions","mimeType"],y);const b=d(e,["outputCompressionQuality"]);t!==void 0&&b!=null&&p(t,["parameters","outputOptions","compressionQuality"],b);const v=d(e,["addWatermark"]);t!==void 0&&v!=null&&p(t,["parameters","addWatermark"],v);const w=d(e,["labels"]);t!==void 0&&w!=null&&p(t,["labels"],w);const _=d(e,["editMode"]);t!==void 0&&_!=null&&p(t,["parameters","editMode"],_);const E=d(e,["baseSteps"]);return t!==void 0&&E!=null&&p(t,["parameters","editConfig","baseSteps"],E),r}function G2(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],me(e,i));const o=d(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=d(t,["referenceImages"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>WL(u))),p(r,["instances[0]","referenceImages"],l)}const s=d(t,["config"]);return s!=null&&V2(s,r),r}function q2(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>ld(a))),p(n,["generatedImages"],o)}return n}function W2(e,t,n){const r={},i=d(e,["taskType"]);t!==void 0&&i!=null&&p(t,["requests[]","taskType"],i);const o=d(e,["title"]);t!==void 0&&o!=null&&p(t,["requests[]","title"],o);const a=d(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&p(t,["requests[]","outputDimensionality"],a),d(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function K2(e,t,n){const r={},i=d(e,["taskType"]);t!==void 0&&i!=null&&p(t,["instances[]","task_type"],i);const o=d(e,["title"]);t!==void 0&&o!=null&&p(t,["instances[]","title"],o);const a=d(e,["outputDimensionality"]);t!==void 0&&a!=null&&p(t,["parameters","outputDimensionality"],a);const s=d(e,["mimeType"]);t!==void 0&&s!=null&&p(t,["instances[]","mimeType"],s);const l=d(e,["autoTruncate"]);return t!==void 0&&l!=null&&p(t,["parameters","autoTruncate"],l),r}function J2(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],me(e,i));const o=d(t,["contents"]);if(o!=null){let l=gv(e,o);Array.isArray(l)&&(l=l.map(u=>u)),p(r,["requests[]","content"],l)}const a=d(t,["config"]);a!=null&&W2(a,r);const s=d(t,["model"]);return s!==void 0&&p(r,["requests[]","model"],me(e,s)),r}function Y2(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],me(e,i));const o=d(t,["contents"]);if(o!=null){let s=gv(e,o);Array.isArray(s)&&(s=s.map(l=>l)),p(r,["instances[]","content"],s)}const a=d(t,["config"]);return a!=null&&K2(a,r),r}function X2(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),p(n,["embeddings"],a)}const o=d(e,["metadata"]);return o!=null&&p(n,["metadata"],o),n}function Q2(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>O2(s))),p(n,["embeddings"],a)}const o=d(e,["metadata"]);return o!=null&&p(n,["metadata"],o),n}function Z2(e,t){const n={},r=d(e,["endpoint"]);r!=null&&p(n,["name"],r);const i=d(e,["deployedModelId"]);return i!=null&&p(n,["deployedModelId"],i),n}function eL(e,t){const n={};if(d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(e,["fileUri"]);r!=null&&p(n,["fileUri"],r);const i=d(e,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function tL(e,t){const n={},r=d(e,["id"]);r!=null&&p(n,["id"],r);const i=d(e,["args"]);i!=null&&p(n,["args"],i);const o=d(e,["name"]);if(o!=null&&p(n,["name"],o),d(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function nL(e,t){const n={},r=d(e,["allowedFunctionNames"]);r!=null&&p(n,["allowedFunctionNames"],r);const i=d(e,["mode"]);if(i!=null&&p(n,["mode"],i),d(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function rL(e,t){const n={},r=d(e,["description"]);r!=null&&p(n,["description"],r);const i=d(e,["name"]);i!=null&&p(n,["name"],i);const o=d(e,["parameters"]);o!=null&&p(n,["parameters"],o);const a=d(e,["parametersJsonSchema"]);a!=null&&p(n,["parametersJsonSchema"],a);const s=d(e,["response"]);s!=null&&p(n,["response"],s);const l=d(e,["responseJsonSchema"]);if(l!=null&&p(n,["responseJsonSchema"],l),d(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function iL(e,t,n,r){const i={},o=d(t,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],sd(St(o)));const a=d(t,["temperature"]);a!=null&&p(i,["temperature"],a);const s=d(t,["topP"]);s!=null&&p(i,["topP"],s);const l=d(t,["topK"]);l!=null&&p(i,["topK"],l);const u=d(t,["candidateCount"]);u!=null&&p(i,["candidateCount"],u);const c=d(t,["maxOutputTokens"]);c!=null&&p(i,["maxOutputTokens"],c);const f=d(t,["stopSequences"]);f!=null&&p(i,["stopSequences"],f);const h=d(t,["responseLogprobs"]);h!=null&&p(i,["responseLogprobs"],h);const m=d(t,["logprobs"]);m!=null&&p(i,["logprobs"],m);const g=d(t,["presencePenalty"]);g!=null&&p(i,["presencePenalty"],g);const y=d(t,["frequencyPenalty"]);y!=null&&p(i,["frequencyPenalty"],y);const b=d(t,["seed"]);b!=null&&p(i,["seed"],b);const v=d(t,["responseMimeType"]);v!=null&&p(i,["responseMimeType"],v);const w=d(t,["responseSchema"]);w!=null&&p(i,["responseSchema"],yv(w));const _=d(t,["responseJsonSchema"]);if(_!=null&&p(i,["responseJsonSchema"],_),d(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=d(t,["safetySettings"]);if(n!==void 0&&E!=null){let $=E;Array.isArray($)&&($=$.map(M=>KL(M))),p(n,["safetySettings"],$)}const S=d(t,["tools"]);if(n!==void 0&&S!=null){let $=Na(S);Array.isArray($)&&($=$.map(M=>tU(Ra(M)))),p(n,["tools"],$)}const x=d(t,["toolConfig"]);if(n!==void 0&&x!=null&&p(n,["toolConfig"],eU(x)),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=d(t,["cachedContent"]);n!==void 0&&T!=null&&p(n,["cachedContent"],Sr(e,T));const C=d(t,["responseModalities"]);C!=null&&p(i,["responseModalities"],C);const P=d(t,["mediaResolution"]);P!=null&&p(i,["mediaResolution"],P);const I=d(t,["speechConfig"]);if(I!=null&&p(i,["speechConfig"],vv(I)),d(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=d(t,["thinkingConfig"]);R!=null&&p(i,["thinkingConfig"],R);const O=d(t,["imageConfig"]);O!=null&&p(i,["imageConfig"],OL(O));const D=d(t,["enableEnhancedCivicAnswers"]);if(D!=null&&p(i,["enableEnhancedCivicAnswers"],D),d(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function oL(e,t,n,r){const i={},o=d(t,["systemInstruction"]);n!==void 0&&o!=null&&p(n,["systemInstruction"],St(o));const a=d(t,["temperature"]);a!=null&&p(i,["temperature"],a);const s=d(t,["topP"]);s!=null&&p(i,["topP"],s);const l=d(t,["topK"]);l!=null&&p(i,["topK"],l);const u=d(t,["candidateCount"]);u!=null&&p(i,["candidateCount"],u);const c=d(t,["maxOutputTokens"]);c!=null&&p(i,["maxOutputTokens"],c);const f=d(t,["stopSequences"]);f!=null&&p(i,["stopSequences"],f);const h=d(t,["responseLogprobs"]);h!=null&&p(i,["responseLogprobs"],h);const m=d(t,["logprobs"]);m!=null&&p(i,["logprobs"],m);const g=d(t,["presencePenalty"]);g!=null&&p(i,["presencePenalty"],g);const y=d(t,["frequencyPenalty"]);y!=null&&p(i,["frequencyPenalty"],y);const b=d(t,["seed"]);b!=null&&p(i,["seed"],b);const v=d(t,["responseMimeType"]);v!=null&&p(i,["responseMimeType"],v);const w=d(t,["responseSchema"]);w!=null&&p(i,["responseSchema"],yv(w));const _=d(t,["responseJsonSchema"]);_!=null&&p(i,["responseJsonSchema"],_);const E=d(t,["routingConfig"]);E!=null&&p(i,["routingConfig"],E);const S=d(t,["modelSelectionConfig"]);S!=null&&p(i,["modelConfig"],S);const x=d(t,["safetySettings"]);if(n!==void 0&&x!=null){let N=x;Array.isArray(N)&&(N=N.map(F=>F)),p(n,["safetySettings"],N)}const T=d(t,["tools"]);if(n!==void 0&&T!=null){let N=Na(T);Array.isArray(N)&&(N=N.map(F=>bC(Ra(F)))),p(n,["tools"],N)}const C=d(t,["toolConfig"]);n!==void 0&&C!=null&&p(n,["toolConfig"],C);const P=d(t,["labels"]);n!==void 0&&P!=null&&p(n,["labels"],P);const I=d(t,["cachedContent"]);n!==void 0&&I!=null&&p(n,["cachedContent"],Sr(e,I));const R=d(t,["responseModalities"]);R!=null&&p(i,["responseModalities"],R);const O=d(t,["mediaResolution"]);O!=null&&p(i,["mediaResolution"],O);const D=d(t,["speechConfig"]);D!=null&&p(i,["speechConfig"],vv(D));const $=d(t,["audioTimestamp"]);$!=null&&p(i,["audioTimestamp"],$);const M=d(t,["thinkingConfig"]);M!=null&&p(i,["thinkingConfig"],M);const L=d(t,["imageConfig"]);if(L!=null&&p(i,["imageConfig"],RL(L)),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const z=d(t,["modelArmorConfig"]);return n!==void 0&&z!=null&&p(n,["modelArmorConfig"],z),i}function a_(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],me(e,i));const o=d(t,["contents"]);if(o!=null){let s=hn(o);Array.isArray(s)&&(s=s.map(l=>sd(l))),p(r,["contents"],s)}const a=d(t,["config"]);return a!=null&&p(r,["generationConfig"],iL(e,a,r)),r}function s_(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],me(e,i));const o=d(t,["contents"]);if(o!=null){let s=hn(o);Array.isArray(s)&&(s=s.map(l=>l)),p(r,["contents"],s)}const a=d(t,["config"]);return a!=null&&p(r,["generationConfig"],oL(e,a,r)),r}function l_(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["candidates"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>C2(c))),p(n,["candidates"],u)}const o=d(e,["modelVersion"]);o!=null&&p(n,["modelVersion"],o);const a=d(e,["promptFeedback"]);a!=null&&p(n,["promptFeedback"],a);const s=d(e,["responseId"]);s!=null&&p(n,["responseId"],s);const l=d(e,["usageMetadata"]);return l!=null&&p(n,["usageMetadata"],l),n}function u_(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>f)),p(n,["candidates"],c)}const o=d(e,["createTime"]);o!=null&&p(n,["createTime"],o);const a=d(e,["modelVersion"]);a!=null&&p(n,["modelVersion"],a);const s=d(e,["promptFeedback"]);s!=null&&p(n,["promptFeedback"],s);const l=d(e,["responseId"]);l!=null&&p(n,["responseId"],l);const u=d(e,["usageMetadata"]);return u!=null&&p(n,["usageMetadata"],u),n}function aL(e,t,n){const r={};if(d(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=d(e,["numberOfImages"]);t!==void 0&&i!=null&&p(t,["parameters","sampleCount"],i);const o=d(e,["aspectRatio"]);t!==void 0&&o!=null&&p(t,["parameters","aspectRatio"],o);const a=d(e,["guidanceScale"]);if(t!==void 0&&a!=null&&p(t,["parameters","guidanceScale"],a),d(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=d(e,["safetyFilterLevel"]);t!==void 0&&s!=null&&p(t,["parameters","safetySetting"],s);const l=d(e,["personGeneration"]);t!==void 0&&l!=null&&p(t,["parameters","personGeneration"],l);const u=d(e,["includeSafetyAttributes"]);t!==void 0&&u!=null&&p(t,["parameters","includeSafetyAttributes"],u);const c=d(e,["includeRaiReason"]);t!==void 0&&c!=null&&p(t,["parameters","includeRaiReason"],c);const f=d(e,["language"]);t!==void 0&&f!=null&&p(t,["parameters","language"],f);const h=d(e,["outputMimeType"]);t!==void 0&&h!=null&&p(t,["parameters","outputOptions","mimeType"],h);const m=d(e,["outputCompressionQuality"]);if(t!==void 0&&m!=null&&p(t,["parameters","outputOptions","compressionQuality"],m),d(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=d(e,["imageSize"]);if(t!==void 0&&g!=null&&p(t,["parameters","sampleImageSize"],g),d(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function sL(e,t,n){const r={},i=d(e,["outputGcsUri"]);t!==void 0&&i!=null&&p(t,["parameters","storageUri"],i);const o=d(e,["negativePrompt"]);t!==void 0&&o!=null&&p(t,["parameters","negativePrompt"],o);const a=d(e,["numberOfImages"]);t!==void 0&&a!=null&&p(t,["parameters","sampleCount"],a);const s=d(e,["aspectRatio"]);t!==void 0&&s!=null&&p(t,["parameters","aspectRatio"],s);const l=d(e,["guidanceScale"]);t!==void 0&&l!=null&&p(t,["parameters","guidanceScale"],l);const u=d(e,["seed"]);t!==void 0&&u!=null&&p(t,["parameters","seed"],u);const c=d(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&p(t,["parameters","safetySetting"],c);const f=d(e,["personGeneration"]);t!==void 0&&f!=null&&p(t,["parameters","personGeneration"],f);const h=d(e,["includeSafetyAttributes"]);t!==void 0&&h!=null&&p(t,["parameters","includeSafetyAttributes"],h);const m=d(e,["includeRaiReason"]);t!==void 0&&m!=null&&p(t,["parameters","includeRaiReason"],m);const g=d(e,["language"]);t!==void 0&&g!=null&&p(t,["parameters","language"],g);const y=d(e,["outputMimeType"]);t!==void 0&&y!=null&&p(t,["parameters","outputOptions","mimeType"],y);const b=d(e,["outputCompressionQuality"]);t!==void 0&&b!=null&&p(t,["parameters","outputOptions","compressionQuality"],b);const v=d(e,["addWatermark"]);t!==void 0&&v!=null&&p(t,["parameters","addWatermark"],v);const w=d(e,["labels"]);t!==void 0&&w!=null&&p(t,["labels"],w);const _=d(e,["imageSize"]);t!==void 0&&_!=null&&p(t,["parameters","sampleImageSize"],_);const E=d(e,["enhancePrompt"]);return t!==void 0&&E!=null&&p(t,["parameters","enhancePrompt"],E),r}function lL(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],me(e,i));const o=d(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=d(t,["config"]);return a!=null&&aL(a,r),r}function uL(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],me(e,i));const o=d(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=d(t,["config"]);return a!=null&&sL(a,r),r}function cL(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>SL(s))),p(n,["generatedImages"],a)}const o=d(e,["positivePromptSafetyAttributes"]);return o!=null&&p(n,["positivePromptSafetyAttributes"],vC(o)),n}function fL(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>ld(s))),p(n,["generatedImages"],a)}const o=d(e,["positivePromptSafetyAttributes"]);return o!=null&&p(n,["positivePromptSafetyAttributes"],wC(o)),n}function dL(e,t,n){const r={},i=d(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&p(t,["parameters","sampleCount"],i),d(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=d(e,["durationSeconds"]);if(t!==void 0&&o!=null&&p(t,["parameters","durationSeconds"],o),d(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=d(e,["aspectRatio"]);t!==void 0&&a!=null&&p(t,["parameters","aspectRatio"],a);const s=d(e,["resolution"]);t!==void 0&&s!=null&&p(t,["parameters","resolution"],s);const l=d(e,["personGeneration"]);if(t!==void 0&&l!=null&&p(t,["parameters","personGeneration"],l),d(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=d(e,["negativePrompt"]);t!==void 0&&u!=null&&p(t,["parameters","negativePrompt"],u);const c=d(e,["enhancePrompt"]);if(t!==void 0&&c!=null&&p(t,["parameters","enhancePrompt"],c),d(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=d(e,["lastFrame"]);t!==void 0&&f!=null&&p(t,["instances[0]","lastFrame"],ud(f));const h=d(e,["referenceImages"]);if(t!==void 0&&h!=null){let m=h;Array.isArray(m)&&(m=m.map(g=>pU(g))),p(t,["instances[0]","referenceImages"],m)}if(d(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function hL(e,t,n){const r={},i=d(e,["numberOfVideos"]);t!==void 0&&i!=null&&p(t,["parameters","sampleCount"],i);const o=d(e,["outputGcsUri"]);t!==void 0&&o!=null&&p(t,["parameters","storageUri"],o);const a=d(e,["fps"]);t!==void 0&&a!=null&&p(t,["parameters","fps"],a);const s=d(e,["durationSeconds"]);t!==void 0&&s!=null&&p(t,["parameters","durationSeconds"],s);const l=d(e,["seed"]);t!==void 0&&l!=null&&p(t,["parameters","seed"],l);const u=d(e,["aspectRatio"]);t!==void 0&&u!=null&&p(t,["parameters","aspectRatio"],u);const c=d(e,["resolution"]);t!==void 0&&c!=null&&p(t,["parameters","resolution"],c);const f=d(e,["personGeneration"]);t!==void 0&&f!=null&&p(t,["parameters","personGeneration"],f);const h=d(e,["pubsubTopic"]);t!==void 0&&h!=null&&p(t,["parameters","pubsubTopic"],h);const m=d(e,["negativePrompt"]);t!==void 0&&m!=null&&p(t,["parameters","negativePrompt"],m);const g=d(e,["enhancePrompt"]);t!==void 0&&g!=null&&p(t,["parameters","enhancePrompt"],g);const y=d(e,["generateAudio"]);t!==void 0&&y!=null&&p(t,["parameters","generateAudio"],y);const b=d(e,["lastFrame"]);t!==void 0&&b!=null&&p(t,["instances[0]","lastFrame"],Un(b));const v=d(e,["referenceImages"]);if(t!==void 0&&v!=null){let E=v;Array.isArray(E)&&(E=E.map(S=>mU(S))),p(t,["instances[0]","referenceImages"],E)}const w=d(e,["mask"]);t!==void 0&&w!=null&&p(t,["instances[0]","mask"],hU(w));const _=d(e,["compressionQuality"]);return t!==void 0&&_!=null&&p(t,["parameters","compressionQuality"],_),r}function pL(e,t){const n={},r=d(e,["name"]);r!=null&&p(n,["name"],r);const i=d(e,["metadata"]);i!=null&&p(n,["metadata"],i);const o=d(e,["done"]);o!=null&&p(n,["done"],o);const a=d(e,["error"]);a!=null&&p(n,["error"],a);const s=d(e,["response","generateVideoResponse"]);return s!=null&&p(n,["response"],vL(s)),n}function mL(e,t){const n={},r=d(e,["name"]);r!=null&&p(n,["name"],r);const i=d(e,["metadata"]);i!=null&&p(n,["metadata"],i);const o=d(e,["done"]);o!=null&&p(n,["done"],o);const a=d(e,["error"]);a!=null&&p(n,["error"],a);const s=d(e,["response"]);return s!=null&&p(n,["response"],wL(s)),n}function gL(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],me(e,i));const o=d(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=d(t,["image"]);a!=null&&p(r,["instances[0]","image"],ud(a));const s=d(t,["video"]);s!=null&&p(r,["instances[0]","video"],_C(s));const l=d(t,["source"]);l!=null&&bL(l,r);const u=d(t,["config"]);return u!=null&&dL(u,r),r}function yL(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],me(e,i));const o=d(t,["prompt"]);o!=null&&p(r,["instances[0]","prompt"],o);const a=d(t,["image"]);a!=null&&p(r,["instances[0]","image"],Un(a));const s=d(t,["video"]);s!=null&&p(r,["instances[0]","video"],SC(s));const l=d(t,["source"]);l!=null&&_L(l,r);const u=d(t,["config"]);return u!=null&&hL(u,r),r}function vL(e,t){const n={},r=d(e,["generatedSamples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>EL(s))),p(n,["generatedVideos"],a)}const i=d(e,["raiMediaFilteredCount"]);i!=null&&p(n,["raiMediaFilteredCount"],i);const o=d(e,["raiMediaFilteredReasons"]);return o!=null&&p(n,["raiMediaFilteredReasons"],o),n}function wL(e,t){const n={},r=d(e,["videos"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>TL(s))),p(n,["generatedVideos"],a)}const i=d(e,["raiMediaFilteredCount"]);i!=null&&p(n,["raiMediaFilteredCount"],i);const o=d(e,["raiMediaFilteredReasons"]);return o!=null&&p(n,["raiMediaFilteredReasons"],o),n}function bL(e,t,n){const r={},i=d(e,["prompt"]);t!==void 0&&i!=null&&p(t,["instances[0]","prompt"],i);const o=d(e,["image"]);t!==void 0&&o!=null&&p(t,["instances[0]","image"],ud(o));const a=d(e,["video"]);return t!==void 0&&a!=null&&p(t,["instances[0]","video"],_C(a)),r}function _L(e,t,n){const r={},i=d(e,["prompt"]);t!==void 0&&i!=null&&p(t,["instances[0]","prompt"],i);const o=d(e,["image"]);t!==void 0&&o!=null&&p(t,["instances[0]","image"],Un(o));const a=d(e,["video"]);return t!==void 0&&a!=null&&p(t,["instances[0]","video"],SC(a)),r}function SL(e,t){const n={},r=d(e,["_self"]);r!=null&&p(n,["image"],NL(r));const i=d(e,["raiFilteredReason"]);i!=null&&p(n,["raiFilteredReason"],i);const o=d(e,["_self"]);return o!=null&&p(n,["safetyAttributes"],vC(o)),n}function ld(e,t){const n={},r=d(e,["_self"]);r!=null&&p(n,["image"],yC(r));const i=d(e,["raiFilteredReason"]);i!=null&&p(n,["raiFilteredReason"],i);const o=d(e,["_self"]);o!=null&&p(n,["safetyAttributes"],wC(o));const a=d(e,["prompt"]);return a!=null&&p(n,["enhancedPrompt"],a),n}function xL(e,t){const n={},r=d(e,["_self"]);r!=null&&p(n,["mask"],yC(r));const i=d(e,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(n,["labels"],o)}return n}function EL(e,t){const n={},r=d(e,["video"]);return r!=null&&p(n,["video"],fU(r)),n}function TL(e,t){const n={},r=d(e,["_self"]);return r!=null&&p(n,["video"],dU(r)),n}function AL(e,t){const n={},r=d(e,["modelSelectionConfig"]);r!=null&&p(n,["modelConfig"],r);const i=d(e,["responseJsonSchema"]);i!=null&&p(n,["responseJsonSchema"],i);const o=d(e,["audioTimestamp"]);o!=null&&p(n,["audioTimestamp"],o);const a=d(e,["candidateCount"]);a!=null&&p(n,["candidateCount"],a);const s=d(e,["enableAffectiveDialog"]);s!=null&&p(n,["enableAffectiveDialog"],s);const l=d(e,["frequencyPenalty"]);l!=null&&p(n,["frequencyPenalty"],l);const u=d(e,["logprobs"]);u!=null&&p(n,["logprobs"],u);const c=d(e,["maxOutputTokens"]);c!=null&&p(n,["maxOutputTokens"],c);const f=d(e,["mediaResolution"]);f!=null&&p(n,["mediaResolution"],f);const h=d(e,["presencePenalty"]);h!=null&&p(n,["presencePenalty"],h);const m=d(e,["responseLogprobs"]);m!=null&&p(n,["responseLogprobs"],m);const g=d(e,["responseMimeType"]);g!=null&&p(n,["responseMimeType"],g);const y=d(e,["responseModalities"]);y!=null&&p(n,["responseModalities"],y);const b=d(e,["responseSchema"]);b!=null&&p(n,["responseSchema"],b);const v=d(e,["routingConfig"]);v!=null&&p(n,["routingConfig"],v);const w=d(e,["seed"]);w!=null&&p(n,["seed"],w);const _=d(e,["speechConfig"]);_!=null&&p(n,["speechConfig"],_);const E=d(e,["stopSequences"]);E!=null&&p(n,["stopSequences"],E);const S=d(e,["temperature"]);S!=null&&p(n,["temperature"],S);const x=d(e,["thinkingConfig"]);x!=null&&p(n,["thinkingConfig"],x);const T=d(e,["topK"]);T!=null&&p(n,["topK"],T);const C=d(e,["topP"]);if(C!=null&&p(n,["topP"],C),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function CL(e,t,n){const r={},i=d(t,["model"]);return i!=null&&p(r,["_url","name"],me(e,i)),r}function PL(e,t,n){const r={},i=d(t,["model"]);return i!=null&&p(r,["_url","name"],me(e,i)),r}function kL(e,t){const n={};if(d(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=d(e,["enableWidget"]);return r!=null&&p(n,["enableWidget"],r),n}function IL(e,t){const n={};if(d(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=d(e,["timeRangeFilter"]);return r!=null&&p(n,["timeRangeFilter"],r),n}function OL(e,t){const n={},r=d(e,["aspectRatio"]);r!=null&&p(n,["aspectRatio"],r);const i=d(e,["imageSize"]);if(i!=null&&p(n,["imageSize"],i),d(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function RL(e,t){const n={},r=d(e,["aspectRatio"]);r!=null&&p(n,["aspectRatio"],r);const i=d(e,["imageSize"]);i!=null&&p(n,["imageSize"],i);const o=d(e,["personGeneration"]);o!=null&&p(n,["personGeneration"],o);const a=d(e,["outputMimeType"]);a!=null&&p(n,["imageOutputOptions","mimeType"],a);const s=d(e,["outputCompressionQuality"]);return s!=null&&p(n,["imageOutputOptions","compressionQuality"],s),n}function NL(e,t){const n={},r=d(e,["bytesBase64Encoded"]);r!=null&&p(n,["imageBytes"],ai(r));const i=d(e,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function yC(e,t){const n={},r=d(e,["gcsUri"]);r!=null&&p(n,["gcsUri"],r);const i=d(e,["bytesBase64Encoded"]);i!=null&&p(n,["imageBytes"],ai(i));const o=d(e,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}function ud(e,t){const n={};if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=d(e,["imageBytes"]);r!=null&&p(n,["bytesBase64Encoded"],ai(r));const i=d(e,["mimeType"]);return i!=null&&p(n,["mimeType"],i),n}function Un(e,t){const n={},r=d(e,["gcsUri"]);r!=null&&p(n,["gcsUri"],r);const i=d(e,["imageBytes"]);i!=null&&p(n,["bytesBase64Encoded"],ai(i));const o=d(e,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}function ML(e,t,n,r){const i={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const a=d(t,["pageToken"]);n!==void 0&&a!=null&&p(n,["_query","pageToken"],a);const s=d(t,["filter"]);n!==void 0&&s!=null&&p(n,["_query","filter"],s);const l=d(t,["queryBase"]);return n!==void 0&&l!=null&&p(n,["_url","models_url"],cC(e,l)),i}function $L(e,t,n,r){const i={},o=d(t,["pageSize"]);n!==void 0&&o!=null&&p(n,["_query","pageSize"],o);const a=d(t,["pageToken"]);n!==void 0&&a!=null&&p(n,["_query","pageToken"],a);const s=d(t,["filter"]);n!==void 0&&s!=null&&p(n,["_query","filter"],s);const l=d(t,["queryBase"]);return n!==void 0&&l!=null&&p(n,["_url","models_url"],cC(e,l)),i}function DL(e,t,n){const r={},i=d(t,["config"]);return i!=null&&ML(e,i,r),r}function LL(e,t,n){const r={},i=d(t,["config"]);return i!=null&&$L(e,i,r),r}function UL(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=d(e,["_self"]);if(o!=null){let a=fC(o);Array.isArray(a)&&(a=a.map(s=>Tm(s))),p(n,["models"],a)}return n}function jL(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=d(e,["_self"]);if(o!=null){let a=fC(o);Array.isArray(a)&&(a=a.map(s=>Am(s))),p(n,["models"],a)}return n}function FL(e,t){const n={},r=d(e,["maskMode"]);r!=null&&p(n,["maskMode"],r);const i=d(e,["segmentationClasses"]);i!=null&&p(n,["maskClasses"],i);const o=d(e,["maskDilation"]);return o!=null&&p(n,["dilation"],o),n}function Tm(e,t){const n={},r=d(e,["name"]);r!=null&&p(n,["name"],r);const i=d(e,["displayName"]);i!=null&&p(n,["displayName"],i);const o=d(e,["description"]);o!=null&&p(n,["description"],o);const a=d(e,["version"]);a!=null&&p(n,["version"],a);const s=d(e,["_self"]);s!=null&&p(n,["tunedModelInfo"],nU(s));const l=d(e,["inputTokenLimit"]);l!=null&&p(n,["inputTokenLimit"],l);const u=d(e,["outputTokenLimit"]);u!=null&&p(n,["outputTokenLimit"],u);const c=d(e,["supportedGenerationMethods"]);c!=null&&p(n,["supportedActions"],c);const f=d(e,["temperature"]);f!=null&&p(n,["temperature"],f);const h=d(e,["maxTemperature"]);h!=null&&p(n,["maxTemperature"],h);const m=d(e,["topP"]);m!=null&&p(n,["topP"],m);const g=d(e,["topK"]);g!=null&&p(n,["topK"],g);const y=d(e,["thinking"]);return y!=null&&p(n,["thinking"],y),n}function Am(e,t){const n={},r=d(e,["name"]);r!=null&&p(n,["name"],r);const i=d(e,["displayName"]);i!=null&&p(n,["displayName"],i);const o=d(e,["description"]);o!=null&&p(n,["description"],o);const a=d(e,["versionId"]);a!=null&&p(n,["version"],a);const s=d(e,["deployedModels"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(m=>Z2(m))),p(n,["endpoints"],h)}const l=d(e,["labels"]);l!=null&&p(n,["labels"],l);const u=d(e,["_self"]);u!=null&&p(n,["tunedModelInfo"],rU(u));const c=d(e,["defaultCheckpointId"]);c!=null&&p(n,["defaultCheckpointId"],c);const f=d(e,["checkpoints"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>m)),p(n,["checkpoints"],h)}return n}function BL(e,t){const n={},r=d(e,["mediaResolution"]);r!=null&&p(n,["mediaResolution"],r);const i=d(e,["codeExecutionResult"]);i!=null&&p(n,["codeExecutionResult"],i);const o=d(e,["executableCode"]);o!=null&&p(n,["executableCode"],o);const a=d(e,["fileData"]);a!=null&&p(n,["fileData"],eL(a));const s=d(e,["functionCall"]);s!=null&&p(n,["functionCall"],tL(s));const l=d(e,["functionResponse"]);l!=null&&p(n,["functionResponse"],l);const u=d(e,["inlineData"]);u!=null&&p(n,["inlineData"],A2(u));const c=d(e,["text"]);c!=null&&p(n,["text"],c);const f=d(e,["thought"]);f!=null&&p(n,["thought"],f);const h=d(e,["thoughtSignature"]);h!=null&&p(n,["thoughtSignature"],h);const m=d(e,["videoMetadata"]);return m!=null&&p(n,["videoMetadata"],m),n}function zL(e,t){const n={},r=d(e,["productImage"]);return r!=null&&p(n,["image"],Un(r)),n}function HL(e,t,n){const r={},i=d(e,["numberOfImages"]);t!==void 0&&i!=null&&p(t,["parameters","sampleCount"],i);const o=d(e,["baseSteps"]);t!==void 0&&o!=null&&p(t,["parameters","baseSteps"],o);const a=d(e,["outputGcsUri"]);t!==void 0&&a!=null&&p(t,["parameters","storageUri"],a);const s=d(e,["seed"]);t!==void 0&&s!=null&&p(t,["parameters","seed"],s);const l=d(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&p(t,["parameters","safetySetting"],l);const u=d(e,["personGeneration"]);t!==void 0&&u!=null&&p(t,["parameters","personGeneration"],u);const c=d(e,["addWatermark"]);t!==void 0&&c!=null&&p(t,["parameters","addWatermark"],c);const f=d(e,["outputMimeType"]);t!==void 0&&f!=null&&p(t,["parameters","outputOptions","mimeType"],f);const h=d(e,["outputCompressionQuality"]);t!==void 0&&h!=null&&p(t,["parameters","outputOptions","compressionQuality"],h);const m=d(e,["enhancePrompt"]);t!==void 0&&m!=null&&p(t,["parameters","enhancePrompt"],m);const g=d(e,["labels"]);return t!==void 0&&g!=null&&p(t,["labels"],g),r}function VL(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],me(e,i));const o=d(t,["source"]);o!=null&&qL(o,r);const a=d(t,["config"]);return a!=null&&HL(a,r),r}function GL(e,t){const n={},r=d(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>ld(o))),p(n,["generatedImages"],i)}return n}function qL(e,t,n){const r={},i=d(e,["prompt"]);t!==void 0&&i!=null&&p(t,["instances[0]","prompt"],i);const o=d(e,["personImage"]);t!==void 0&&o!=null&&p(t,["instances[0]","personImage","image"],Un(o));const a=d(e,["productImages"]);if(t!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(l=>zL(l))),p(t,["instances[0]","productImages"],s)}return r}function WL(e,t){const n={},r=d(e,["referenceImage"]);r!=null&&p(n,["referenceImage"],Un(r));const i=d(e,["referenceId"]);i!=null&&p(n,["referenceId"],i);const o=d(e,["referenceType"]);o!=null&&p(n,["referenceType"],o);const a=d(e,["maskImageConfig"]);a!=null&&p(n,["maskImageConfig"],FL(a));const s=d(e,["controlImageConfig"]);s!=null&&p(n,["controlImageConfig"],N2(s));const l=d(e,["styleImageConfig"]);l!=null&&p(n,["styleImageConfig"],l);const u=d(e,["subjectImageConfig"]);return u!=null&&p(n,["subjectImageConfig"],u),n}function vC(e,t){const n={},r=d(e,["safetyAttributes","categories"]);r!=null&&p(n,["categories"],r);const i=d(e,["safetyAttributes","scores"]);i!=null&&p(n,["scores"],i);const o=d(e,["contentType"]);return o!=null&&p(n,["contentType"],o),n}function wC(e,t){const n={},r=d(e,["safetyAttributes","categories"]);r!=null&&p(n,["categories"],r);const i=d(e,["safetyAttributes","scores"]);i!=null&&p(n,["scores"],i);const o=d(e,["contentType"]);return o!=null&&p(n,["contentType"],o),n}function KL(e,t){const n={},r=d(e,["category"]);if(r!=null&&p(n,["category"],r),d(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=d(e,["threshold"]);return i!=null&&p(n,["threshold"],i),n}function JL(e,t){const n={},r=d(e,["image"]);return r!=null&&p(n,["image"],Un(r)),n}function YL(e,t,n){const r={},i=d(e,["mode"]);t!==void 0&&i!=null&&p(t,["parameters","mode"],i);const o=d(e,["maxPredictions"]);t!==void 0&&o!=null&&p(t,["parameters","maxPredictions"],o);const a=d(e,["confidenceThreshold"]);t!==void 0&&a!=null&&p(t,["parameters","confidenceThreshold"],a);const s=d(e,["maskDilation"]);t!==void 0&&s!=null&&p(t,["parameters","maskDilation"],s);const l=d(e,["binaryColorThreshold"]);t!==void 0&&l!=null&&p(t,["parameters","binaryColorThreshold"],l);const u=d(e,["labels"]);return t!==void 0&&u!=null&&p(t,["labels"],u),r}function XL(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],me(e,i));const o=d(t,["source"]);o!=null&&ZL(o,r);const a=d(t,["config"]);return a!=null&&YL(a,r),r}function QL(e,t){const n={},r=d(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>xL(o))),p(n,["generatedMasks"],i)}return n}function ZL(e,t,n){const r={},i=d(e,["prompt"]);t!==void 0&&i!=null&&p(t,["instances[0]","prompt"],i);const o=d(e,["image"]);t!==void 0&&o!=null&&p(t,["instances[0]","image"],Un(o));const a=d(e,["scribbleImage"]);return t!==void 0&&a!=null&&p(t,["instances[0]","scribble"],JL(a)),r}function eU(e,t){const n={},r=d(e,["retrievalConfig"]);r!=null&&p(n,["retrievalConfig"],r);const i=d(e,["functionCallingConfig"]);return i!=null&&p(n,["functionCallingConfig"],nL(i)),n}function tU(e,t){const n={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=d(e,["computerUse"]);r!=null&&p(n,["computerUse"],r);const i=d(e,["fileSearch"]);i!=null&&p(n,["fileSearch"],i);const o=d(e,["codeExecution"]);if(o!=null&&p(n,["codeExecution"],o),d(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=d(e,["functionDeclarations"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(h=>h)),p(n,["functionDeclarations"],f)}const s=d(e,["googleMaps"]);s!=null&&p(n,["googleMaps"],kL(s));const l=d(e,["googleSearch"]);l!=null&&p(n,["googleSearch"],IL(l));const u=d(e,["googleSearchRetrieval"]);u!=null&&p(n,["googleSearchRetrieval"],u);const c=d(e,["urlContext"]);return c!=null&&p(n,["urlContext"],c),n}function bC(e,t){const n={},r=d(e,["retrieval"]);r!=null&&p(n,["retrieval"],r);const i=d(e,["computerUse"]);if(i!=null&&p(n,["computerUse"],i),d(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=d(e,["codeExecution"]);o!=null&&p(n,["codeExecution"],o);const a=d(e,["enterpriseWebSearch"]);a!=null&&p(n,["enterpriseWebSearch"],a);const s=d(e,["functionDeclarations"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(m=>rL(m))),p(n,["functionDeclarations"],h)}const l=d(e,["googleMaps"]);l!=null&&p(n,["googleMaps"],l);const u=d(e,["googleSearch"]);u!=null&&p(n,["googleSearch"],u);const c=d(e,["googleSearchRetrieval"]);c!=null&&p(n,["googleSearchRetrieval"],c);const f=d(e,["urlContext"]);return f!=null&&p(n,["urlContext"],f),n}function nU(e,t){const n={},r=d(e,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=d(e,["createTime"]);i!=null&&p(n,["createTime"],i);const o=d(e,["updateTime"]);return o!=null&&p(n,["updateTime"],o),n}function rU(e,t){const n={},r=d(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&p(n,["baseModel"],r);const i=d(e,["createTime"]);i!=null&&p(n,["createTime"],i);const o=d(e,["updateTime"]);return o!=null&&p(n,["updateTime"],o),n}function iU(e,t,n){const r={},i=d(e,["displayName"]);t!==void 0&&i!=null&&p(t,["displayName"],i);const o=d(e,["description"]);t!==void 0&&o!=null&&p(t,["description"],o);const a=d(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&p(t,["defaultCheckpointId"],a),r}function oU(e,t,n){const r={},i=d(e,["displayName"]);t!==void 0&&i!=null&&p(t,["displayName"],i);const o=d(e,["description"]);t!==void 0&&o!=null&&p(t,["description"],o);const a=d(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&p(t,["defaultCheckpointId"],a),r}function aU(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","name"],me(e,i));const o=d(t,["config"]);return o!=null&&iU(o,r),r}function sU(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],me(e,i));const o=d(t,["config"]);return o!=null&&oU(o,r),r}function lU(e,t,n){const r={},i=d(e,["outputGcsUri"]);t!==void 0&&i!=null&&p(t,["parameters","storageUri"],i);const o=d(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&p(t,["parameters","safetySetting"],o);const a=d(e,["personGeneration"]);t!==void 0&&a!=null&&p(t,["parameters","personGeneration"],a);const s=d(e,["includeRaiReason"]);t!==void 0&&s!=null&&p(t,["parameters","includeRaiReason"],s);const l=d(e,["outputMimeType"]);t!==void 0&&l!=null&&p(t,["parameters","outputOptions","mimeType"],l);const u=d(e,["outputCompressionQuality"]);t!==void 0&&u!=null&&p(t,["parameters","outputOptions","compressionQuality"],u);const c=d(e,["enhanceInputImage"]);t!==void 0&&c!=null&&p(t,["parameters","upscaleConfig","enhanceInputImage"],c);const f=d(e,["imagePreservationFactor"]);t!==void 0&&f!=null&&p(t,["parameters","upscaleConfig","imagePreservationFactor"],f);const h=d(e,["labels"]);t!==void 0&&h!=null&&p(t,["labels"],h);const m=d(e,["numberOfImages"]);t!==void 0&&m!=null&&p(t,["parameters","sampleCount"],m);const g=d(e,["mode"]);return t!==void 0&&g!=null&&p(t,["parameters","mode"],g),r}function uU(e,t,n){const r={},i=d(t,["model"]);i!=null&&p(r,["_url","model"],me(e,i));const o=d(t,["image"]);o!=null&&p(r,["instances[0]","image"],Un(o));const a=d(t,["upscaleFactor"]);a!=null&&p(r,["parameters","upscaleConfig","upscaleFactor"],a);const s=d(t,["config"]);return s!=null&&lU(s,r),r}function cU(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>ld(a))),p(n,["generatedImages"],o)}return n}function fU(e,t){const n={},r=d(e,["uri"]);r!=null&&p(n,["uri"],r);const i=d(e,["encodedVideo"]);i!=null&&p(n,["videoBytes"],ai(i));const o=d(e,["encoding"]);return o!=null&&p(n,["mimeType"],o),n}function dU(e,t){const n={},r=d(e,["gcsUri"]);r!=null&&p(n,["uri"],r);const i=d(e,["bytesBase64Encoded"]);i!=null&&p(n,["videoBytes"],ai(i));const o=d(e,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}function hU(e,t){const n={},r=d(e,["image"]);r!=null&&p(n,["_self"],Un(r));const i=d(e,["maskMode"]);return i!=null&&p(n,["maskMode"],i),n}function pU(e,t){const n={},r=d(e,["image"]);r!=null&&p(n,["image"],ud(r));const i=d(e,["referenceType"]);return i!=null&&p(n,["referenceType"],i),n}function mU(e,t){const n={},r=d(e,["image"]);r!=null&&p(n,["image"],Un(r));const i=d(e,["referenceType"]);return i!=null&&p(n,["referenceType"],i),n}function _C(e,t){const n={},r=d(e,["uri"]);r!=null&&p(n,["uri"],r);const i=d(e,["videoBytes"]);i!=null&&p(n,["encodedVideo"],ai(i));const o=d(e,["mimeType"]);return o!=null&&p(n,["encoding"],o),n}function SC(e,t){const n={},r=d(e,["uri"]);r!=null&&p(n,["gcsUri"],r);const i=d(e,["videoBytes"]);i!=null&&p(n,["bytesBase64Encoded"],ai(i));const o=d(e,["mimeType"]);return o!=null&&p(n,["mimeType"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gU(e,t){const n={},r=d(e,["displayName"]);return t!==void 0&&r!=null&&p(t,["displayName"],r),n}function yU(e){const t={},n=d(e,["config"]);return n!=null&&gU(n,t),t}function vU(e,t){const n={},r=d(e,["force"]);return t!==void 0&&r!=null&&p(t,["_query","force"],r),n}function wU(e){const t={},n=d(e,["name"]);n!=null&&p(t,["_url","name"],n);const r=d(e,["config"]);return r!=null&&vU(r,t),t}function bU(e){const t={},n=d(e,["name"]);return n!=null&&p(t,["_url","name"],n),t}function _U(e,t){const n={},r=d(e,["customMetadata"]);if(t!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["customMetadata"],o)}const i=d(e,["chunkingConfig"]);return t!==void 0&&i!=null&&p(t,["chunkingConfig"],i),n}function SU(e){const t={},n=d(e,["name"]);n!=null&&p(t,["name"],n);const r=d(e,["metadata"]);r!=null&&p(t,["metadata"],r);const i=d(e,["done"]);i!=null&&p(t,["done"],i);const o=d(e,["error"]);o!=null&&p(t,["error"],o);const a=d(e,["response"]);return a!=null&&p(t,["response"],EU(a)),t}function xU(e){const t={},n=d(e,["fileSearchStoreName"]);n!=null&&p(t,["_url","file_search_store_name"],n);const r=d(e,["fileName"]);r!=null&&p(t,["fileName"],r);const i=d(e,["config"]);return i!=null&&_U(i,t),t}function EU(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["parent"]);r!=null&&p(t,["parent"],r);const i=d(e,["documentName"]);return i!=null&&p(t,["documentName"],i),t}function TU(e,t){const n={},r=d(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=d(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function AU(e){const t={},n=d(e,["config"]);return n!=null&&TU(n,t),t}function CU(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=d(e,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["fileSearchStores"],o)}return t}function xC(e,t){const n={},r=d(e,["mimeType"]);t!==void 0&&r!=null&&p(t,["mimeType"],r);const i=d(e,["displayName"]);t!==void 0&&i!=null&&p(t,["displayName"],i);const o=d(e,["customMetadata"]);if(t!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>l)),p(t,["customMetadata"],s)}const a=d(e,["chunkingConfig"]);return t!==void 0&&a!=null&&p(t,["chunkingConfig"],a),n}function PU(e){const t={},n=d(e,["fileSearchStoreName"]);n!=null&&p(t,["_url","file_search_store_name"],n);const r=d(e,["config"]);return r!=null&&xC(r,t),t}function kU(e){const t={},n=d(e,["sdkHttpResponse"]);return n!=null&&p(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IU="Content-Type",OU="X-Server-Timeout",RU="User-Agent",Cm="x-goog-api-client",NU="1.39.0",MU=`google-genai-sdk/${NU}`,$U="v1beta1",DU="v1beta";class LU{constructor(t){var n,r,i;this.clientOptions=Object.assign({},t),this.customBaseUrl=(n=t.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const s=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!s?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:$U}else{if(!this.clientOptions.apiKey)throw new il({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:DU,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t,n){return!(n.baseUrl&&n.baseUrlResourceScope===_m.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,n),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[a,s]of Object.entries(t.queryParams))i.searchParams.append(a,String(s));let o={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=t.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.unaryApiCall(i,o,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,n),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=t.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.streamApiCall(i,o,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const o=new AbortController,a=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const s=setTimeout(()=>o.abort(),n.timeout);s&&typeof s.unref=="function"&&s.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),t.signal=a}return n&&n.extraBody!==null&&UU(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await c_(i),new Sm(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await c_(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return Mn(this,arguments,function*(){var r;const i=(r=t==null?void 0:t.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";const s="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield oe(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(c,{stream:!0});try{const g=JSON.parse(f);if("error"in g){const y=JSON.parse(JSON.stringify(g.error)),b=y.status,v=y.code,w=`got status: ${b}. ${JSON.stringify(g)}`;if(v>=400&&v<600)throw new il({message:w,status:v})}}catch(g){if(g.name==="ApiError")throw g}a+=f;let h=-1,m=0;for(;;){h=-1,m=0;for(const b of l){const v=a.indexOf(b);v!==-1&&(h===-1||v<h)&&(h=v,m=b.length)}if(h===-1)break;const g=a.substring(0,h);a=a.substring(h+m);const y=g.trim();if(y.startsWith(s)){const b=y.substring(s.length).trim();try{const v=new Response(b,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield oe(new Sm(v))}catch(v){throw new Error(`exception parsing stream chunk ${b}. ${v}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=MU+" "+this.clientOptions.userAgentExtra;return t[RU]=n,t[Cm]=n,t[IU]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,o]of Object.entries(t.headers))r.append(i,o);t.timeout&&t.timeout>0&&r.append(OU,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,a=await o.stat(t);i.sizeBytes=String(a.size);const s=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:a.type;if(s===void 0||s==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=s;const l={file:i},u=this.getFileName(t),c=K("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(t,f,this)}async uploadFileToFileSearchStore(t,n,r){var i;const o=this.clientOptions.uploader,a=await o.stat(n),s=String(a.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:a.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${t}:uploadToFileSearchStore`,c=this.getFileName(n),f={};r!=null&&xC(r,f);const h=await this.fetchUploadUrl(u,s,l,c,f,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,o,a){var s;let l={};a?l=a:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:t,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(s=u==null?void 0:u.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function c_(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new il({message:i,status:n}):new Error(i)}}function UU(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const o=JSON.parse(e.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,a){const s=Object.assign({},o);for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const u=a[l],c=s[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?s[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),s[l]=u)}return s}const i=r(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jU="mcp_used/unknown";let FU=!1;function EC(e){for(const t of e)if(BU(t)||typeof t=="object"&&"inputSchema"in t)return!0;return FU}function TC(e){var t;const n=(t=e[Cm])!==null&&t!==void 0?t:"";e[Cm]=(n+` ${jU}`).trimStart()}function BU(e){return e!==null&&typeof e=="object"&&e instanceof bv}function zU(e){return Mn(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const a=yield oe(n.listTools({cursor:i}));for(const s of a.tools)yield yield oe(s),o++;if(!a.nextCursor)break;i=a.nextCursor}})}class bv{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new bv(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const o={},a=[];for(const c of this.mcpClients)try{for(var s=!0,l=(n=void 0,$n(zU(c))),u;u=await l.next(),t=u.done,!t;s=!0){i=u.value,s=!1;const f=i;a.push(f);const h=f.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(f){n={error:f}}finally{try{!s&&!t&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),y$(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const a=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function HU(e,t,n){const r=new u$;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class VU{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),a=WU(this.apiClient.getDefaultHeaders()),s=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${s}`;let u=()=>{};const c=new Promise(_=>{u=_}),f=t.callbacks,h=function(){u({})},m=this.apiClient,g={onopen:h,onmessage:_=>{HU(m,f.onmessage,_)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(_){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(_){}},y=this.webSocketFactory.create(l,qU(a),g);y.connect(),await c;const w={setup:{model:me(this.apiClient,t.model)}};return y.send(JSON.stringify(w)),new GU(y,this.apiClient)}}class GU{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=g2(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=m2(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ro.PLAY)}pause(){this.sendPlaybackControl(Ro.PAUSE)}stop(){this.sendPlaybackControl(Ro.STOP)}resetContext(){this.sendPlaybackControl(Ro.RESET_CONTEXT)}close(){this.conn.close()}}function qU(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function WU(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KU="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function JU(e,t,n){const r=new l$;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(e.isVertexAI()){const a=w2(o);Object.assign(r,a)}else Object.assign(r,o);t(r)}class YU{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new VU(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,o,a,s;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const f=this.apiClient.getHeaders();t.config&&t.config.tools&&EC(t.config.tools)&&TC(f);const h=ej(f);if(this.apiClient.isVertexAI()){const P=this.apiClient.getProject(),I=this.apiClient.getLocation(),R=this.apiClient.getApiKey(),O=!!P&&!!I||!!R;this.apiClient.getCustomBaseUrl()&&!O?c=l:(c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c))}else{const P=this.apiClient.getApiKey();let I="BidiGenerateContent",R="key";P!=null&&P.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),I="BidiGenerateContentConstrained",R="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${I}?${R}=${P}`}let m=()=>{};const g=new Promise(P=>{m=P}),y=t.callbacks,b=function(){var P;(P=y==null?void 0:y.onopen)===null||P===void 0||P.call(y),m({})},v=this.apiClient,w={onopen:b,onmessage:P=>{JU(v,y.onmessage,P)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(P){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(P){}},_=this.webSocketFactory.create(c,ZU(h),w);_.connect(),await g;let E=me(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&E.startsWith("publishers/")){const P=this.apiClient.getProject(),I=this.apiClient.getLocation();P&&I&&(E=`projects/${P}/locations/${I}/`+E)}let S={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[$c.AUDIO]}:t.config.responseModalities=[$c.AUDIO]),!((o=t.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const x=(s=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[],T=[];for(const P of x)if(this.isCallableTool(P)){const I=P;T.push(await I.tool())}else T.push(P);T.length>0&&(t.config.tools=T);const C={model:E,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?S=p2(this.apiClient,C):S=h2(this.apiClient,C),delete S.config,_.send(JSON.stringify(S)),new QU(_,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const XU={turnComplete:!0};class QU{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=hn(n.turns),t.isVertexAI()||(r=r.map(i=>sd(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!t.isVertexAI()&&!("id"in o))throw new Error(KU)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},XU),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:v2(t)}:n={realtimeInput:y2(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function ZU(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function ej(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const f_=10;function d_(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const a of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Wo(a)){i=!0;break}if(!i)return!0;const o=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Wo(e){return"callTool"in e&&typeof e.callTool=="function"}function tj(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>Wo(i)))!==null&&r!==void 0?r:!1}function h_(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(Wo(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function p_(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nj extends _r{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,i,o,a,s;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!tj(n)||d_(n.config))return await this.generateContentInternal(l);const u=h_(n);if(u.length>0){const y=u.map(b=>`tools[${b}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${y}.`)}let c,f;const h=hn(l.contents),m=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:f_;let g=0;for(;g<m&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const y=c.candidates[0].content,b=[];for(const v of(s=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(Wo(v)){const _=await v.callTool(c.functionCalls);b.push(..._)}g++,f={role:"user",parts:b},l.contents=hn(l.contents),l.contents.push(y),l.contents.push(f),p_(l.config)&&(h.push(y),h.push(f))}return p_(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,a,s;if(this.maybeMoveToResponseJsonSchem(n),d_(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const l=h_(n);if(l.length>0){const f=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(s=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const a=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:a.push(l);let s;return o?s={generatedImages:a,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:s={generatedImages:a,sdkHttpResponse:r.sdkHttpResponse},s}),this.list=async n=>{var r;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((r=a.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Zi(mr.PAGED_ITEM_MODELS,s=>this.listInternal(s),await this.listInternal(a),a)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,a,s,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(o=n.source)===null||o===void 0?void 0:o.video)===null||a===void 0)&&a.uri&&(!((l=(s=n.source)===null||s===void 0?void 0:s.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const o=(n=t.config)===null||n===void 0?void 0:n.tools;if(!o)return t;const a=await Promise.all(o.map(async l=>Wo(l)?await l.tool():l)),s={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:a})};if(s.config.tools=a,t.config&&t.config.tools&&EC(t.config.tools)){const l=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),TC(u),s.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:u})}return s}async initAfcToolsMap(t){var n,r,i;const o=new Map;for(const a of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Wo(a)){const s=a,l=await s.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,s)}}return o}async processAfcStream(t){var n,r,i;const o=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:f_;let a=!1,s=0;const l=await this.initAfcToolsMap(t);return function(u,c,f){return Mn(this,arguments,function*(){for(var h,m,g,y,b,v;s<o;){a&&(s++,a=!1);const S=yield oe(u.processParamsMaybeAddMcpUsage(f)),x=yield oe(u.generateContentStreamInternal(S)),T=[],C=[];try{for(var w=!0,_=(m=void 0,$n(x)),E;E=yield oe(_.next()),h=E.done,!h;w=!0){y=E.value,w=!1;const P=y;if(yield yield oe(P),P.candidates&&(!((b=P.candidates[0])===null||b===void 0)&&b.content)){C.push(P.candidates[0].content);for(const I of(v=P.candidates[0].content.parts)!==null&&v!==void 0?v:[])if(s<o&&I.functionCall){if(!I.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(I.functionCall.name)){const R=yield oe(c.get(I.functionCall.name).callTool([I.functionCall]));T.push(...R)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${I.functionCall.name}`)}}}}catch(P){m={error:P}}finally{try{!w&&!h&&(g=_.return)&&(yield oe(g.call(_)))}finally{if(m)throw m.error}}if(T.length>0){a=!0;const P=new rs;P.candidates=[{content:{role:"user",parts:T}}],yield yield oe(P);const I=[];I.push(...C),I.push({role:"user",parts:T});const R=hn(f.contents).concat(I);f.contents=R}else break}})}(this,l,t)}async generateContentInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=s_(this.apiClient,t);return s=K("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=u_(c),h=new rs;return Object.assign(h,f),h})}else{const u=a_(this.apiClient,t);return s=K("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=l_(c),h=new rs;return Object.assign(h,f),h})}}async generateContentStreamInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=s_(this.apiClient,t);return s=K("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),a.then(function(f){return Mn(this,arguments,function*(){var h,m,g,y;try{for(var b=!0,v=$n(f),w;w=yield oe(v.next()),h=w.done,!h;b=!0){y=w.value,b=!1;const _=y,E=u_(yield oe(_.json()),t);E.sdkHttpResponse={headers:_.headers};const S=new rs;Object.assign(S,E),yield yield oe(S)}}catch(_){m={error:_}}finally{try{!b&&!h&&(g=v.return)&&(yield oe(g.call(v)))}finally{if(m)throw m.error}}})})}else{const u=a_(this.apiClient,t);return s=K("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.requestStream({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(f){return Mn(this,arguments,function*(){var h,m,g,y;try{for(var b=!0,v=$n(f),w;w=yield oe(v.next()),h=w.done,!h;b=!0){y=w.value,b=!1;const _=y,E=l_(yield oe(_.json()),t);E.sdkHttpResponse={headers:_.headers};const S=new rs;Object.assign(S,E),yield yield oe(S)}}catch(_){m={error:_}}finally{try{!b&&!h&&(g=v.return)&&(yield oe(g.call(v)))}finally{if(m)throw m.error}}})})}}async embedContent(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=Y2(this.apiClient,t);return s=K("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=Q2(c),h=new Hb;return Object.assign(h,f),h})}else{const u=J2(this.apiClient,t);return s=K("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=X2(c),h=new Hb;return Object.assign(h,f),h})}}async generateImagesInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=uL(this.apiClient,t);return s=K("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=fL(c),h=new Vb;return Object.assign(h,f),h})}else{const u=lL(this.apiClient,t);return s=K("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=cL(c),h=new Vb;return Object.assign(h,f),h})}}async editImageInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=G2(this.apiClient,t);return o=K("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=q2(l),c=new YM;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=uU(this.apiClient,t);return o=K("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=cU(l),c=new XM;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=VL(this.apiClient,t);return o=K("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=GL(l),c=new QM;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=XL(this.apiClient,t);return o=K("{model}:predict",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=QL(l),c=new ZM;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=PL(this.apiClient,t);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Am(c))}else{const u=CL(this.apiClient,t);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Tm(c))}}async listInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=LL(this.apiClient,t);return s=K("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=jL(c),h=new Gb;return Object.assign(h,f),h})}else{const u=DL(this.apiClient,t);return s=K("{models_url}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=UL(c),h=new Gb;return Object.assign(h,f),h})}}async update(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=sU(this.apiClient,t);return s=K("{model}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>Am(c))}else{const u=aU(this.apiClient,t);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>Tm(c))}}async delete(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=B2(this.apiClient,t);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=H2(c),h=new qb;return Object.assign(h,f),h})}else{const u=F2(this.apiClient,t);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=z2(c),h=new qb;return Object.assign(h,f),h})}}async countTokens(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=L2(this.apiClient,t);return s=K("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=j2(c),h=new Wb;return Object.assign(h,f),h})}else{const u=D2(this.apiClient,t);return s=K("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=U2(c),h=new Wb;return Object.assign(h,f),h})}}async computeTokens(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=k2(this.apiClient,t);return o=K("{model}:computeTokens",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=I2(l),c=new e$;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=yL(this.apiClient,t);return s=K("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a.then(c=>{const f=mL(c),h=new Dc;return Object.assign(h,f),h})}else{const u=gL(this.apiClient,t);return s=K("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a.then(c=>{const f=pL(c),h=new Dc;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rj extends _r{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=VM(t);return s=K("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),a}else{const u=HM(t);return s=K("{operationName}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),a}}async fetchPredictVideosOperationInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=DM(t);return o=K("{resourceName}:fetchPredictOperation",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ij(e){const t={},n=d(e,["data"]);if(n!=null&&p(t,["data"],n),d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function oj(e){const t={},n=d(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>pj(o))),p(t,["parts"],i)}const r=d(e,["role"]);return r!=null&&p(t,["role"],r),t}function aj(e,t,n){const r={},i=d(t,["expireTime"]);n!==void 0&&i!=null&&p(n,["expireTime"],i);const o=d(t,["newSessionExpireTime"]);n!==void 0&&o!=null&&p(n,["newSessionExpireTime"],o);const a=d(t,["uses"]);n!==void 0&&a!=null&&p(n,["uses"],a);const s=d(t,["liveConnectConstraints"]);n!==void 0&&s!=null&&p(n,["bidiGenerateContentSetup"],hj(e,s));const l=d(t,["lockAdditionalFields"]);return n!==void 0&&l!=null&&p(n,["fieldMask"],l),r}function sj(e,t){const n={},r=d(t,["config"]);return r!=null&&p(n,["config"],aj(e,r,n)),n}function lj(e){const t={};if(d(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(e,["fileUri"]);n!=null&&p(t,["fileUri"],n);const r=d(e,["mimeType"]);return r!=null&&p(t,["mimeType"],r),t}function uj(e){const t={},n=d(e,["id"]);n!=null&&p(t,["id"],n);const r=d(e,["args"]);r!=null&&p(t,["args"],r);const i=d(e,["name"]);if(i!=null&&p(t,["name"],i),d(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function cj(e){const t={};if(d(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(e,["enableWidget"]);return n!=null&&p(t,["enableWidget"],n),t}function fj(e){const t={};if(d(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(e,["timeRangeFilter"]);return n!=null&&p(t,["timeRangeFilter"],n),t}function dj(e,t){const n={},r=d(e,["generationConfig"]);t!==void 0&&r!=null&&p(t,["setup","generationConfig"],r);const i=d(e,["responseModalities"]);t!==void 0&&i!=null&&p(t,["setup","generationConfig","responseModalities"],i);const o=d(e,["temperature"]);t!==void 0&&o!=null&&p(t,["setup","generationConfig","temperature"],o);const a=d(e,["topP"]);t!==void 0&&a!=null&&p(t,["setup","generationConfig","topP"],a);const s=d(e,["topK"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig","topK"],s);const l=d(e,["maxOutputTokens"]);t!==void 0&&l!=null&&p(t,["setup","generationConfig","maxOutputTokens"],l);const u=d(e,["mediaResolution"]);t!==void 0&&u!=null&&p(t,["setup","generationConfig","mediaResolution"],u);const c=d(e,["seed"]);t!==void 0&&c!=null&&p(t,["setup","generationConfig","seed"],c);const f=d(e,["speechConfig"]);t!==void 0&&f!=null&&p(t,["setup","generationConfig","speechConfig"],wv(f));const h=d(e,["thinkingConfig"]);t!==void 0&&h!=null&&p(t,["setup","generationConfig","thinkingConfig"],h);const m=d(e,["enableAffectiveDialog"]);t!==void 0&&m!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],m);const g=d(e,["systemInstruction"]);t!==void 0&&g!=null&&p(t,["setup","systemInstruction"],oj(St(g)));const y=d(e,["tools"]);if(t!==void 0&&y!=null){let x=Na(y);Array.isArray(x)&&(x=x.map(T=>gj(Ra(T)))),p(t,["setup","tools"],x)}const b=d(e,["sessionResumption"]);t!==void 0&&b!=null&&p(t,["setup","sessionResumption"],mj(b));const v=d(e,["inputAudioTranscription"]);t!==void 0&&v!=null&&p(t,["setup","inputAudioTranscription"],v);const w=d(e,["outputAudioTranscription"]);t!==void 0&&w!=null&&p(t,["setup","outputAudioTranscription"],w);const _=d(e,["realtimeInputConfig"]);t!==void 0&&_!=null&&p(t,["setup","realtimeInputConfig"],_);const E=d(e,["contextWindowCompression"]);t!==void 0&&E!=null&&p(t,["setup","contextWindowCompression"],E);const S=d(e,["proactivity"]);if(t!==void 0&&S!=null&&p(t,["setup","proactivity"],S),d(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function hj(e,t){const n={},r=d(t,["model"]);r!=null&&p(n,["setup","model"],me(e,r));const i=d(t,["config"]);return i!=null&&p(n,["config"],dj(i,n)),n}function pj(e){const t={},n=d(e,["mediaResolution"]);n!=null&&p(t,["mediaResolution"],n);const r=d(e,["codeExecutionResult"]);r!=null&&p(t,["codeExecutionResult"],r);const i=d(e,["executableCode"]);i!=null&&p(t,["executableCode"],i);const o=d(e,["fileData"]);o!=null&&p(t,["fileData"],lj(o));const a=d(e,["functionCall"]);a!=null&&p(t,["functionCall"],uj(a));const s=d(e,["functionResponse"]);s!=null&&p(t,["functionResponse"],s);const l=d(e,["inlineData"]);l!=null&&p(t,["inlineData"],ij(l));const u=d(e,["text"]);u!=null&&p(t,["text"],u);const c=d(e,["thought"]);c!=null&&p(t,["thought"],c);const f=d(e,["thoughtSignature"]);f!=null&&p(t,["thoughtSignature"],f);const h=d(e,["videoMetadata"]);return h!=null&&p(t,["videoMetadata"],h),t}function mj(e){const t={},n=d(e,["handle"]);if(n!=null&&p(t,["handle"],n),d(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function gj(e){const t={};if(d(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(e,["computerUse"]);n!=null&&p(t,["computerUse"],n);const r=d(e,["fileSearch"]);r!=null&&p(t,["fileSearch"],r);const i=d(e,["codeExecution"]);if(i!=null&&p(t,["codeExecution"],i),d(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=d(e,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),p(t,["functionDeclarations"],c)}const a=d(e,["googleMaps"]);a!=null&&p(t,["googleMaps"],cj(a));const s=d(e,["googleSearch"]);s!=null&&p(t,["googleSearch"],fj(s));const l=d(e,["googleSearchRetrieval"]);l!=null&&p(t,["googleSearchRetrieval"],l);const u=d(e,["urlContext"]);return u!=null&&p(t,["urlContext"],u),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yj(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);t.push(...i)}else t.push(n)}return t.join(",")}function vj(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(e.bidiGenerateContentSetup=o,n=o):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const o=yj(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)o?e.fieldMask=o:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let s=[];i.length>0&&(s=i.map(u=>a.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),s.length>0&&l.push(...s),l.length>0?e.fieldMask=l.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class wj extends _r{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=sj(this.apiClient,t);o=K("auth_tokens",s._url),a=s._query,delete s.config,delete s._url,delete s._query;const l=vj(s,t.config);return i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bj(e,t){const n={},r=d(e,["force"]);return t!==void 0&&r!=null&&p(t,["_query","force"],r),n}function _j(e){const t={},n=d(e,["name"]);n!=null&&p(t,["_url","name"],n);const r=d(e,["config"]);return r!=null&&bj(r,t),t}function Sj(e){const t={},n=d(e,["name"]);return n!=null&&p(t,["_url","name"],n),t}function xj(e,t){const n={},r=d(e,["pageSize"]);t!==void 0&&r!=null&&p(t,["_query","pageSize"],r);const i=d(e,["pageToken"]);return t!==void 0&&i!=null&&p(t,["_query","pageToken"],i),n}function Ej(e){const t={},n=d(e,["parent"]);n!=null&&p(t,["_url","parent"],n);const r=d(e,["config"]);return r!=null&&xj(r,t),t}function Tj(e){const t={},n=d(e,["sdkHttpResponse"]);n!=null&&p(t,["sdkHttpResponse"],n);const r=d(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const i=d(e,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(a=>a)),p(t,["documents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Aj extends _r{constructor(t){super(),this.apiClient=t,this.list=async n=>new Zi(mr.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Sj(t);return o=K("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=_j(t);i=K("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Ej(t);return o=K("{parent}/documents",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Tj(l),c=new t$;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cj extends _r{constructor(t,n=new Aj(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new Zi(mr.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=yU(t);return o=K("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=bU(t);return o=K("{name}",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=wU(t);i=K("{name}",a._url),o=a._query,delete a._url,delete a._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=AU(t);return o=K("fileSearchStores",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=CU(l),c=new n$;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=PU(t);return o=K("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=kU(l),c=new r$;return Object.assign(c,u),c})}}async importFile(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=xU(t);return o=K("{file_search_store_name}:importFile",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=SU(l),c=new pv;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let AC=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return AC=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Pj=()=>AC();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pm(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const km=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yn extends Error{}class Ot extends yn{constructor(t,n,r,i){super(`${Ot.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new cd({message:r,cause:km(n)});const o=n;return t===400?new PC(t,o,r,i):t===401?new kC(t,o,r,i):t===403?new IC(t,o,r,i):t===404?new OC(t,o,r,i):t===409?new RC(t,o,r,i):t===422?new NC(t,o,r,i):t===429?new MC(t,o,r,i):t>=500?new $C(t,o,r,i):new Ot(t,o,r,i)}}class Im extends Ot{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class cd extends Ot{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class CC extends cd{constructor({message:t}={}){super({message:t??"Request timed out."})}}class PC extends Ot{}class kC extends Ot{}class IC extends Ot{}class OC extends Ot{}class RC extends Ot{}class NC extends Ot{}class MC extends Ot{}class $C extends Ot{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kj=/^[a-z][a-z0-9+.-]*:/i,Ij=e=>kj.test(e);let Om=e=>(Om=Array.isArray,Om(e));const Oj=Om;let Rj=Oj;const m_=Rj;function Nj(e){if(!e)return!0;for(const t in e)return!1;return!0}function Mj(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const $j=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new yn(`${e} must be an integer`);if(t<0)throw new yn(`${e} must be a positive integer`);return t},Dj=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lj=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const go="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uj(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const jj=()=>{var e,t,n,r,i;const o=Uj();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":go,"X-Stainless-OS":y_(Deno.build.os),"X-Stainless-Arch":g_(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":go,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":go,"X-Stainless-OS":y_((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":g_((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const a=Fj();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":go,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":go,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Fj(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,a=r[3]||0;return{browser:t,version:`${i}.${o}.${a}`}}}return null}const g_=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",y_=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Tu;const Bj=()=>Tu??(Tu=jj());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zj(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function DC(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function Hj(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return DC({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function LC(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Vj(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gj=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UC=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Bh(e,t,n){return UC(),new File(e,t??"unknown_file",n)}function qj(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const Wj=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jC=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",Kj=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&jC(e),Jj=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function Yj(e,t,n){if(UC(),e=await e,Kj(e))return e instanceof File?e:Bh([await e.arrayBuffer()],e.name);if(Jj(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Bh(await Rm(i),t,n)}const r=await Rm(e);if(t||(t=qj(e)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Bh(r,t,n)}async function Rm(e){var t,n,r,i,o;let a=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)a.push(e);else if(jC(e))a.push(e instanceof Blob?e:await e.arrayBuffer());else if(Wj(e))try{for(var s=!0,l=$n(e),u;u=await l.next(),t=u.done,!t;s=!0){i=u.value,s=!1;const c=i;a.push(...await Rm(c))}}catch(c){n={error:c}}finally{try{!s&&!t&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=e==null?void 0:e.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof e}${c?`; constructor: ${c}`:""}${Xj(e)}`)}return a}function Xj(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FC{constructor(t){this._client=t}}FC._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BC(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const v_=Object.freeze(Object.create(null)),Qj=(e=BC)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],a=n.reduce((c,f,h)=>{var m,g,y;/[?#]/.test(f)&&(i=!0);const b=r[h];let v=(i?encodeURIComponent:e)(""+b);return h!==r.length&&(b==null||typeof b=="object"&&b.toString===((y=Object.getPrototypeOf((g=Object.getPrototypeOf((m=b.hasOwnProperty)!==null&&m!==void 0?m:v_))!==null&&g!==void 0?g:v_))===null||y===void 0?void 0:y.toString))&&(v=b+"",o.push({start:c.length+f.length,length:v.length,error:`Value of type ${Object.prototype.toString.call(b).slice(8,-1)} is not a valid path parameter`})),c+f+(h===r.length?"":v)},""),s=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(s))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,f)=>c.start-f.start),o.length>0){let c=0;const f=o.reduce((h,m)=>{const g=" ".repeat(m.start-c),y="^".repeat(m.length);return c=m.start+m.length,h+g+y},"");throw new yn(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${a}
${f}`)}return a},Au=Qj(BC);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zC extends FC{create(t,n){var r;const{api_version:i=this._client.apiVersion}=t,o=Uc(t,["api_version"]);if("model"in o&&"agent_config"in o)throw new yn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new yn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Au`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Au`/${i}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Au`/${i}/interactions/${t}/cancel`,r)}get(t,n={},r){var i;const o=n??{},{api_version:a=this._client.apiVersion}=o,s=Uc(o,["api_version"]);return this._client.get(Au`/${a}/interactions/${t}`,Object.assign(Object.assign({query:s},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}zC._key=Object.freeze(["interactions"]);class HC extends zC{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zj(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let Cu;function _v(e){let t;return(Cu??(t=new globalThis.TextEncoder,Cu=t.encode.bind(t)))(e)}let Pu;function w_(e){let t;return(Pu??(t=new globalThis.TextDecoder,Pu=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fd{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?_v(t):t;this.buffer=Zj([this.buffer,n]);const r=[];let i;for(;(i=eF(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(w_(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,a=w_(this.buffer.subarray(0,o));r.push(a),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}fd.NEWLINE_CHARS=new Set([`
`,"\r"]);fd.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function eF(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function tF(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jc={off:0,error:200,warn:300,info:400,debug:500},b_=(e,t,n)=>{if(e){if(Mj(jc,e))return e;Et(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(jc))}`)}};function _s(){}function ku(e,t,n){return!t||jc[e]>jc[n]?_s:t[e].bind(t)}const nF={error:_s,warn:_s,info:_s,debug:_s};let __=new WeakMap;function Et(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return nF;const i=__.get(n);if(i&&i[0]===r)return i[1];const o={error:ku("error",n,r),warn:ku("warn",n,r),info:ku("info",n,r),debug:ku("debug",n,r)};return __.set(n,[r,o]),o}const bi=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class No{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let i=!1;const o=r?Et(r):console;function a(){return Mn(this,arguments,function*(){var l,u,c,f;if(i)throw new yn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var m=!0,g=$n(rF(t,n)),y;y=yield oe(g.next()),l=y.done,!l;m=!0){f=y.value,m=!1;const b=f;if(!h)if(b.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield oe(JSON.parse(b.data))}catch(v){throw o.error("Could not parse message into JSON:",b.data),o.error("From chunk:",b.raw),v}}}catch(b){u={error:b}}finally{try{!m&&!l&&(c=g.return)&&(yield oe(c.call(g)))}finally{if(u)throw u.error}}h=!0}catch(b){if(Pm(b))return yield oe(void 0);throw b}finally{h||n.abort()}})}return new No(a,n,r)}static fromReadableStream(t,n,r){let i=!1;function o(){return Mn(this,arguments,function*(){var l,u,c,f;const h=new fd,m=LC(t);try{for(var g=!0,y=$n(m),b;b=yield oe(y.next()),l=b.done,!l;g=!0){f=b.value,g=!1;const v=f;for(const w of h.decode(v))yield yield oe(w)}}catch(v){u={error:v}}finally{try{!g&&!l&&(c=y.return)&&(yield oe(c.call(y)))}finally{if(u)throw u.error}}for(const v of h.flush())yield yield oe(v)})}function a(){return Mn(this,arguments,function*(){var l,u,c,f;if(i)throw new yn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var m=!0,g=$n(o()),y;y=yield oe(g.next()),l=y.done,!l;m=!0){f=y.value,m=!1;const b=f;h||b&&(yield yield oe(JSON.parse(b)))}}catch(b){u={error:b}}finally{try{!m&&!l&&(c=g.return)&&(yield oe(c.call(g)))}finally{if(u)throw u.error}}h=!0}catch(b){if(Pm(b))return yield oe(void 0);throw b}finally{h||n.abort()}})}return new No(a,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const a=r.next();t.push(a),n.push(a)}return o.shift()}});return[new No(()=>i(t),this.controller,this.client),new No(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return DC({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=_v(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function rF(e,t){return Mn(this,arguments,function*(){var r,i,o,a;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new yn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new yn("Attempted to iterate over a response with no body");const s=new oF,l=new fd,u=LC(e.body);try{for(var c=!0,f=$n(iF(u)),h;h=yield oe(f.next()),r=h.done,!r;c=!0){a=h.value,c=!1;const m=a;for(const g of l.decode(m)){const y=s.decode(g);y&&(yield yield oe(y))}}}catch(m){i={error:m}}finally{try{!c&&!r&&(o=f.return)&&(yield oe(o.call(f)))}finally{if(i)throw i.error}}for(const m of l.flush()){const g=s.decode(m);g&&(yield yield oe(g))}})}function iF(e){return Mn(this,arguments,function*(){var n,r,i,o;let a=new Uint8Array;try{for(var s=!0,l=$n(e),u;u=yield oe(l.next()),n=u.done,!n;s=!0){o=u.value,s=!1;const c=o;if(c==null)continue;const f=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?_v(c):c;let h=new Uint8Array(a.length+f.length);h.set(a),h.set(f,a.length),a=h;let m;for(;(m=tF(a))!==-1;)yield yield oe(a.slice(0,m)),a=a.slice(m)}}catch(c){r={error:c}}finally{try{!s&&!n&&(i=l.return)&&(yield oe(i.call(l)))}finally{if(r)throw r.error}}a.length>0&&(yield yield oe(a))})}class oF{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=aF(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function aF(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function sF(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=t,a=await(async()=>{var s;if(t.options.stream)return Et(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):No.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(s=l==null?void 0:l.split(";")[0])===null||s===void 0?void 0:s.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return Et(e).debug(`[${r}] response parsed`,bi({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sv extends Promise{constructor(t,n,r=sF){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new Sv(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VC=Symbol("brand.privateNullableHeaders");function*lF(e){if(!e)return;if(VC in e){const{values:r,nulls:i}=e;yield*r.entries();for(const o of i)yield[o,null];return}let t=!1,n;e instanceof Headers?n=e.entries():m_(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=m_(r[1])?r[1]:[r[1]];let a=!1;for(const s of o)s!==void 0&&(t&&!a&&(a=!0,yield[i,null]),yield[i,s])}}const is=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[o,a]of lF(r)){const s=o.toLowerCase();i.has(s)||(t.delete(o),i.add(s)),a===null?(t.delete(o),n.add(s)):(t.append(o,a),n.delete(s))}}return{[VC]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zh=e=>{var t,n,r,i,o,a;if(typeof globalThis.process<"u")return(r=(n=(t=IM)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(a=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,e))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var GC;class dd{constructor(t){var n,r,i,o,a,s,l,{baseURL:u=zh("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=zh("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=t,h=Uc(t,["baseURL","apiKey","apiVersion"]);const m=Object.assign(Object.assign({apiKey:c,apiVersion:f},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=m.baseURL,this.timeout=(r=m.timeout)!==null&&r!==void 0?r:dd.DEFAULT_TIMEOUT,this.logger=(i=m.logger)!==null&&i!==void 0?i:console;const g="warn";this.logLevel=g,this.logLevel=(a=(o=b_(m.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:b_(zh("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:g,this.fetchOptions=m.fetchOptions,this.maxRetries=(s=m.maxRetries)!==null&&s!==void 0?s:2,this.fetch=(l=m.fetch)!==null&&l!==void 0?l:zj(),this.encoder=Gj,this._options=m,this.apiKey=c,this.apiVersion=f,this.clientAdapter=m.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=is([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return is([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return is([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new yn(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${go}`}defaultIdempotencyKey(){return`stainless-node-retry-${Pj()}`}makeStatusError(t,n,r,i){return Ot.generate(t,n,r,i)}buildURL(t,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=Ij(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),a=this.defaultQuery();return Nj(a)||(n=Object.assign(Object.assign({},a),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new Sv(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var i,o,a;const s=await t,l=(i=s.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(s);const{req:u,url:c,timeout:f}=await this.buildRequest(s,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:s});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=r===void 0?"":`, retryOf: ${r}`,g=Date.now();if(Et(this).debug(`[${h}] sending request`,bi({retryOfRequestLogID:r,method:s.method,url:c,options:s,headers:u.headers})),!((o=s.signal)===null||o===void 0)&&o.aborted)throw new Im;const y=new AbortController,b=await this.fetchWithTimeout(c,u,f,y).catch(km),v=Date.now();if(b instanceof globalThis.Error){const _=`retrying, ${n} attempts remaining`;if(!((a=s.signal)===null||a===void 0)&&a.aborted)throw new Im;const E=Pm(b)||/timed? ?out/i.test(String(b)+("cause"in b?String(b.cause):""));if(n)return Et(this).info(`[${h}] connection ${E?"timed out":"failed"} - ${_}`),Et(this).debug(`[${h}] connection ${E?"timed out":"failed"} (${_})`,bi({retryOfRequestLogID:r,url:c,durationMs:v-g,message:b.message})),this.retryRequest(s,n,r??h);throw Et(this).info(`[${h}] connection ${E?"timed out":"failed"} - error; no more retries left`),Et(this).debug(`[${h}] connection ${E?"timed out":"failed"} (error; no more retries left)`,bi({retryOfRequestLogID:r,url:c,durationMs:v-g,message:b.message})),E?new CC:new cd({cause:b})}const w=`[${h}${m}] ${u.method} ${c} ${b.ok?"succeeded":"failed"} with status ${b.status} in ${v-g}ms`;if(!b.ok){const _=await this.shouldRetry(b);if(n&&_){const P=`retrying, ${n} attempts remaining`;return await Vj(b.body),Et(this).info(`${w} - ${P}`),Et(this).debug(`[${h}] response error (${P})`,bi({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,durationMs:v-g})),this.retryRequest(s,n,r??h,b.headers)}const E=_?"error; no more retries left":"error; not retryable";Et(this).info(`${w} - ${E}`);const S=await b.text().catch(P=>km(P).message),x=Dj(S),T=x?void 0:S;throw Et(this).debug(`[${h}] response error (${E})`,bi({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,message:T,durationMs:Date.now()-g})),this.makeStatusError(b.status,x,T,b.headers)}return Et(this).info(w),Et(this).debug(`[${h}] response start`,bi({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,durationMs:v-g})),{response:b,options:s,controller:y,requestLogID:h,retryOfRequestLogID:r,startTime:g}}async fetchWithTimeout(t,n,r,i){const o=n||{},{signal:a,method:s}=o,l=Uc(o,["signal","method"]);a&&a.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),l);s&&(f.method=s.toUpperCase());try{return await this.fetch.call(void 0,t,f)}finally{clearTimeout(u)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){var o;let a;const s=i==null?void 0:i.get("retry-after-ms");if(s){const u=parseFloat(s);Number.isNaN(u)||(a=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!a){const u=parseFloat(l);Number.isNaN(u)?a=Date.parse(l)-Date.now():a=u*1e3}if(!(a&&0<=a&&a<60*1e3)){const u=(o=t.maxRetries)!==null&&o!==void 0?o:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,u)}return await Lj(a),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const o=n-t,a=Math.min(.5*Math.pow(2,o),8),s=1-Math.random()*.25;return a*s*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,i,o;const a=Object.assign({},t),{method:s,path:l,query:u,defaultBaseURL:c}=a,f=this.buildURL(l,u,c);"timeout"in a&&$j("timeout",a.timeout),a.timeout=(r=a.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:m}=this.buildBody({options:a}),g=await this.buildHeaders({options:t,method:s,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:s,headers:g},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=a.fetchOptions)!==null&&o!==void 0?o:{}),url:f,timeout:a.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const a=await this.authHeaders(t);let s=is([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),Bj()),this._options.defaultHeaders,r,t.headers,a]);return this.validateHeaders(s),s.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=is([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:Hj(t)}:this.encoder({body:t,headers:r})}}dd.DEFAULT_TIMEOUT=6e4;class lt extends dd{constructor(){super(...arguments),this.interactions=new HC(this)}}GC=lt;lt.GeminiNextGenAPIClient=GC;lt.GeminiNextGenAPIClientError=yn;lt.APIError=Ot;lt.APIConnectionError=cd;lt.APIConnectionTimeoutError=CC;lt.APIUserAbortError=Im;lt.NotFoundError=OC;lt.ConflictError=RC;lt.RateLimitError=MC;lt.BadRequestError=PC;lt.AuthenticationError=kC;lt.InternalServerError=$C;lt.PermissionDeniedError=IC;lt.UnprocessableEntityError=NC;lt.toFile=Yj;lt.Interactions=HC;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uF(e,t){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],r),n}function cF(e,t){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],r),n}function fF(e,t){const n={},r=d(e,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function dF(e,t){const n={},r=d(e,["sdkHttpResponse"]);return r!=null&&p(n,["sdkHttpResponse"],r),n}function hF(e,t,n){const r={};if(d(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=d(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&p(t,["displayName"],i),d(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=d(e,["epochCount"]);t!==void 0&&o!=null&&p(t,["tuningTask","hyperparameters","epochCount"],o);const a=d(e,["learningRateMultiplier"]);if(a!=null&&p(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),d(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(d(e,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(d(e,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const s=d(e,["batchSize"]);t!==void 0&&s!=null&&p(t,["tuningTask","hyperparameters","batchSize"],s);const l=d(e,["learningRate"]);if(t!==void 0&&l!=null&&p(t,["tuningTask","hyperparameters","learningRate"],l),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(d(e,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(d(e,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(d(e,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(d(e,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return r}function pF(e,t,n){const r={};let i=d(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const S=d(e,["validationDataset"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec"],Hh(S))}else if(i==="PREFERENCE_TUNING"){const S=d(e,["validationDataset"]);t!==void 0&&S!=null&&p(t,["preferenceOptimizationSpec"],Hh(S))}else if(i==="DISTILLATION"){const S=d(e,["validationDataset"]);t!==void 0&&S!=null&&p(t,["distillationSpec"],Hh(S))}const o=d(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&p(t,["tunedModelDisplayName"],o);const a=d(e,["description"]);t!==void 0&&a!=null&&p(t,["description"],a);let s=d(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const S=d(e,["epochCount"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec","hyperParameters","epochCount"],S)}else if(s==="PREFERENCE_TUNING"){const S=d(e,["epochCount"]);t!==void 0&&S!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],S)}else if(s==="DISTILLATION"){const S=d(e,["epochCount"]);t!==void 0&&S!=null&&p(t,["distillationSpec","hyperParameters","epochCount"],S)}let l=d(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const S=d(e,["learningRateMultiplier"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],S)}else if(l==="PREFERENCE_TUNING"){const S=d(e,["learningRateMultiplier"]);t!==void 0&&S!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],S)}else if(l==="DISTILLATION"){const S=d(e,["learningRateMultiplier"]);t!==void 0&&S!=null&&p(t,["distillationSpec","hyperParameters","learningRateMultiplier"],S)}let u=d(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const S=d(e,["exportLastCheckpointOnly"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec","exportLastCheckpointOnly"],S)}else if(u==="PREFERENCE_TUNING"){const S=d(e,["exportLastCheckpointOnly"]);t!==void 0&&S!=null&&p(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],S)}else if(u==="DISTILLATION"){const S=d(e,["exportLastCheckpointOnly"]);t!==void 0&&S!=null&&p(t,["distillationSpec","exportLastCheckpointOnly"],S)}let c=d(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const S=d(e,["adapterSize"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec","hyperParameters","adapterSize"],S)}else if(c==="PREFERENCE_TUNING"){const S=d(e,["adapterSize"]);t!==void 0&&S!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],S)}else if(c==="DISTILLATION"){const S=d(e,["adapterSize"]);t!==void 0&&S!=null&&p(t,["distillationSpec","hyperParameters","adapterSize"],S)}let f=d(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const S=d(e,["tuningMode"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec","tuningMode"],S)}const h=d(e,["customBaseModel"]);t!==void 0&&h!=null&&p(t,["customBaseModel"],h);let m=d(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const S=d(e,["batchSize"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec","hyperParameters","batchSize"],S)}let g=d(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const S=d(e,["learningRate"]);t!==void 0&&S!=null&&p(t,["supervisedTuningSpec","hyperParameters","learningRate"],S)}const y=d(e,["labels"]);t!==void 0&&y!=null&&p(t,["labels"],y);const b=d(e,["beta"]);t!==void 0&&b!=null&&p(t,["preferenceOptimizationSpec","hyperParameters","beta"],b);const v=d(e,["baseTeacherModel"]);t!==void 0&&v!=null&&p(t,["distillationSpec","baseTeacherModel"],v);const w=d(e,["tunedTeacherModelSource"]);t!==void 0&&w!=null&&p(t,["distillationSpec","tunedTeacherModelSource"],w);const _=d(e,["sftLossWeightMultiplier"]);t!==void 0&&_!=null&&p(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],_);const E=d(e,["outputUri"]);return t!==void 0&&E!=null&&p(t,["outputUri"],E),r}function mF(e,t){const n={},r=d(e,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=d(e,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=d(e,["trainingDataset"]);o!=null&&AF(o);const a=d(e,["config"]);return a!=null&&hF(a,n),n}function gF(e,t){const n={},r=d(e,["baseModel"]);r!=null&&p(n,["baseModel"],r);const i=d(e,["preTunedModel"]);i!=null&&p(n,["preTunedModel"],i);const o=d(e,["trainingDataset"]);o!=null&&CF(o,n,t);const a=d(e,["config"]);return a!=null&&pF(a,n,t),n}function yF(e,t){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],r),n}function vF(e,t){const n={},r=d(e,["name"]);return r!=null&&p(n,["_url","name"],r),n}function wF(e,t,n){const r={},i=d(e,["pageSize"]);t!==void 0&&i!=null&&p(t,["_query","pageSize"],i);const o=d(e,["pageToken"]);t!==void 0&&o!=null&&p(t,["_query","pageToken"],o);const a=d(e,["filter"]);return t!==void 0&&a!=null&&p(t,["_query","filter"],a),r}function bF(e,t,n){const r={},i=d(e,["pageSize"]);t!==void 0&&i!=null&&p(t,["_query","pageSize"],i);const o=d(e,["pageToken"]);t!==void 0&&o!=null&&p(t,["_query","pageToken"],o);const a=d(e,["filter"]);return t!==void 0&&a!=null&&p(t,["_query","filter"],a),r}function _F(e,t){const n={},r=d(e,["config"]);return r!=null&&wF(r,n),n}function SF(e,t){const n={},r=d(e,["config"]);return r!=null&&bF(r,n),n}function xF(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=d(e,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>qC(s))),p(n,["tuningJobs"],a)}return n}function EF(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["nextPageToken"]);i!=null&&p(n,["nextPageToken"],i);const o=d(e,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>Nm(s))),p(n,["tuningJobs"],a)}return n}function TF(e,t){const n={},r=d(e,["name"]);r!=null&&p(n,["model"],r);const i=d(e,["name"]);return i!=null&&p(n,["endpoint"],i),n}function AF(e,t){const n={};if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=d(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),p(n,["examples","examples"],i)}return n}function CF(e,t,n){const r={};let i=d(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const a=d(e,["gcsUri"]);t!==void 0&&a!=null&&p(t,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(i==="PREFERENCE_TUNING"){const a=d(e,["gcsUri"]);t!==void 0&&a!=null&&p(t,["preferenceOptimizationSpec","trainingDatasetUri"],a)}else if(i==="DISTILLATION"){const a=d(e,["gcsUri"]);t!==void 0&&a!=null&&p(t,["distillationSpec","promptDatasetUri"],a)}let o=d(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=d(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&p(t,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=d(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&p(t,["preferenceOptimizationSpec","trainingDatasetUri"],a)}else if(o==="DISTILLATION"){const a=d(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&p(t,["distillationSpec","promptDatasetUri"],a)}if(d(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function qC(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["name"]);i!=null&&p(n,["name"],i);const o=d(e,["state"]);o!=null&&p(n,["state"],lC(o));const a=d(e,["createTime"]);a!=null&&p(n,["createTime"],a);const s=d(e,["tuningTask","startTime"]);s!=null&&p(n,["startTime"],s);const l=d(e,["tuningTask","completeTime"]);l!=null&&p(n,["endTime"],l);const u=d(e,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=d(e,["description"]);c!=null&&p(n,["description"],c);const f=d(e,["baseModel"]);f!=null&&p(n,["baseModel"],f);const h=d(e,["_self"]);return h!=null&&p(n,["tunedModel"],TF(h)),n}function Nm(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["name"]);i!=null&&p(n,["name"],i);const o=d(e,["state"]);o!=null&&p(n,["state"],lC(o));const a=d(e,["createTime"]);a!=null&&p(n,["createTime"],a);const s=d(e,["startTime"]);s!=null&&p(n,["startTime"],s);const l=d(e,["endTime"]);l!=null&&p(n,["endTime"],l);const u=d(e,["updateTime"]);u!=null&&p(n,["updateTime"],u);const c=d(e,["error"]);c!=null&&p(n,["error"],c);const f=d(e,["description"]);f!=null&&p(n,["description"],f);const h=d(e,["baseModel"]);h!=null&&p(n,["baseModel"],h);const m=d(e,["tunedModel"]);m!=null&&p(n,["tunedModel"],m);const g=d(e,["preTunedModel"]);g!=null&&p(n,["preTunedModel"],g);const y=d(e,["supervisedTuningSpec"]);y!=null&&p(n,["supervisedTuningSpec"],y);const b=d(e,["preferenceOptimizationSpec"]);b!=null&&p(n,["preferenceOptimizationSpec"],b);const v=d(e,["distillationSpec"]);v!=null&&p(n,["distillationSpec"],v);const w=d(e,["tuningDataStats"]);w!=null&&p(n,["tuningDataStats"],w);const _=d(e,["encryptionSpec"]);_!=null&&p(n,["encryptionSpec"],_);const E=d(e,["partnerModelTuningSpec"]);E!=null&&p(n,["partnerModelTuningSpec"],E);const S=d(e,["customBaseModel"]);S!=null&&p(n,["customBaseModel"],S);const x=d(e,["experiment"]);x!=null&&p(n,["experiment"],x);const T=d(e,["labels"]);T!=null&&p(n,["labels"],T);const C=d(e,["outputUri"]);C!=null&&p(n,["outputUri"],C);const P=d(e,["pipelineJob"]);P!=null&&p(n,["pipelineJob"],P);const I=d(e,["serviceAccount"]);I!=null&&p(n,["serviceAccount"],I);const R=d(e,["tunedModelDisplayName"]);R!=null&&p(n,["tunedModelDisplayName"],R);const O=d(e,["veoTuningSpec"]);return O!=null&&p(n,["veoTuningSpec"],O),n}function PF(e,t){const n={},r=d(e,["sdkHttpResponse"]);r!=null&&p(n,["sdkHttpResponse"],r);const i=d(e,["name"]);i!=null&&p(n,["name"],i);const o=d(e,["metadata"]);o!=null&&p(n,["metadata"],o);const a=d(e,["done"]);a!=null&&p(n,["done"],a);const s=d(e,["error"]);return s!=null&&p(n,["error"],s),n}function Hh(e,t){const n={},r=d(e,["gcsUri"]);r!=null&&p(n,["validationDatasetUri"],r);const i=d(e,["vertexDatasetResource"]);return i!=null&&p(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kF extends _r{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Zi(mr.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let a="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?a=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(a=o.name.split("/operations/")[0]),{name:a,state:bm.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=vF(t);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>Nm(c))}else{const u=yF(t);return s=K("{name}",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>qC(c))}}async listInternal(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=SF(t);return s=K("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=EF(c),h=new Kb;return Object.assign(h,f),h})}else{const u=_F(t);return s=K("tunedModels",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=xF(c),h=new Kb;return Object.assign(h,f),h})}}async cancel(t){var n,r,i,o;let a,s="",l={};if(this.apiClient.isVertexAI()){const u=cF(t);return s=K("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=dF(c),h=new Jb;return Object.assign(h,f),h})}else{const u=uF(t);return s=K("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),a.then(c=>{const f=fF(c),h=new Jb;return Object.assign(h,f),h})}}async tuneInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI()){const s=gF(t,t);return o=K("tuningJobs",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Nm(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,o="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=mF(t);return o=K("tunedModels",s._url),a=s._query,delete s._url,delete s._query,i=this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(s),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>PF(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IF{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const OF=1024*1024*8,RF=3,NF=1e3,MF=2,Fc="x-goog-upload-status";async function $F(e,t,n){var r;const i=await WC(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Fc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function DF(e,t,n){var r;const i=await WC(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Fc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=nC(o),s=new mv;return Object.assign(s,a),s}async function WC(e,t,n){var r,i;let o=0,a=0,s=new Sm(new Response),l="upload";for(o=e.size;a<o;){const u=Math.min(OF,o-a),c=e.slice(a,a+u);a+u>=o&&(l+=", finalize");let f=0,h=NF;for(;f<RF&&(s=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(!((r=s==null?void 0:s.headers)===null||r===void 0)&&r[Fc]));)f++,await UF(h),h=h*MF;if(a+=u,((i=s==null?void 0:s.headers)===null||i===void 0?void 0:i[Fc])!=="active")break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}async function LF(e){return{size:e.size,type:e.type}}function UF(e){return new Promise(t=>setTimeout(t,e))}class jF{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await $F(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await DF(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await LF(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FF{create(t,n,r){return new BF(t,n,r)}}class BF{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const S_="x-goog-api-key";class zF{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(S_)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(S_,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HF="gl-node/";class VF{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new lt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=MM(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new zF(this.apiKey);this.apiClient=new LU({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:HF+"web",uploader:new jF,downloader:new IF}),this.models=new nj(this.apiClient),this.live=new YU(this.apiClient,i,new FF),this.batches=new cD(this.apiClient),this.chats=new GD(this.models,this.apiClient),this.caches=new zD(this.apiClient),this.files=new r2(this.apiClient),this.operations=new rj(this.apiClient),this.authTokens=new wj(this.apiClient),this.tunings=new kF(this.apiClient),this.fileSearchStores=new Cj(this.apiClient)}}const KC=()=>{const e="AIzaSyCHErxYr719R3jyqL0XtcQjE4r3r-SEaqk";if(e.includes("AIza")===!1)throw new Error("Brak poprawnego klucza API Google. Sprawd konfiguracj Vercel lub plik .env.");return new VF({apiKey:e})},GF=async e=>{try{const n=await KC().models.generateContent({model:"gemini-1.5-flash",contents:`Extract logistic warehouse data from the following text. 
      If a value is not mentioned, do not include it in the JSON.
      Text: "${e}"`,config:{responseMimeType:"application/json",responseSchema:{type:At.OBJECT,properties:{deliveries:{type:At.NUMBER,description:"Number of deliveries/trucks"},itemsPerDelivery:{type:At.NUMBER,description:"Average items or pallets per delivery"},orders:{type:At.NUMBER,description:"Number of orders to process"},itemsPerOrder:{type:At.NUMBER,description:"Average items per order/lines"},currentEmployees:{type:At.NUMBER,description:"Current staff count"},workHours:{type:At.NUMBER,description:"Shift duration in hours"}}}}});return n.text?JSON.parse(n.text):{}}catch(t){return console.error("AI Parsing Error:",t),{}}},qF=async(e,t)=>{try{const n=KC(),r=`
        Act as a Senior Logistics Manager. Analyze the following warehouse staffing calculation.
        
        Input Data:
        - Deliveries: ${e.deliveries} (Avg ${e.itemsPerDelivery} items/delivery)
        - Receiving KPI: ${e.deliveriesPerHour} trucks/h/person
        - Orders: ${e.orders} (Avg ${e.itemsPerOrder} items/order)
        - Picking KPI: ${e.itemsPickedPerHour} items/h/person
        - Packing KPI: ${e.ordersPackedPerHour} orders/h/person
        - Shift: ${e.workHours}h, Breaks: ${e.breakTime}min, Efficiency: ${e.processEfficiency}%
        - Current Staff: ${e.currentEmployees}

        Calculated Needs (FTE):
        - Receiving: ${t.receivers}
        - Picking: ${t.pickers}
        - Packing: ${t.packers}
        - TOTAL NEEDED: ${t.total}
        - GAP: ${t.needed>0?"Shortage of "+t.needed:"Surplus available"}

        Task:
        Provide a short, tactical advice summary (max 3 bullet points) in Polish language using Markdown.
        Focus on:
        1. Where is the bottleneck?
        2. Is the efficiency settings (85%) realistic or should be improved?
        3. Suggest an operational move (e.g., move people from packing to picking).
        `;return(await n.models.generateContent({model:"gemini-1.5-flash",contents:r})).text||"Brak analizy."}catch(n){return console.error("AI Analysis Error:",n),n.message.includes("API key")?"Bd klucza API. Sprawd ustawienia Vercel.":`Bd AI: ${n.message||n.toString()}`}};function hd(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function WF(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(f){a(f)}}function l(c){try{u(r.throw(c))}catch(f){a(f)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(e,t||[])).next())})}const KF=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class xv extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class JF extends xv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class x_ extends xv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class E_ extends xv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Mm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Mm||(Mm={}));class YF{constructor(t,{headers:n={},customFetch:r,region:i=Mm.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=KF(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return WF(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{const{headers:s,method:l,body:u,signal:c,timeout:f}=r;let h={},{region:m}=r;m||(m=this.region);const g=new URL(`${this.url}/${n}`);m&&m!=="any"&&(h["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let y;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?y=JSON.stringify(u):y=u;let b=c;f&&(a=new AbortController,o=setTimeout(()=>a.abort(),f),c?(b=a.signal,c.addEventListener("abort",()=>a.abort())):b=a.signal);const v=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:y,signal:b}).catch(S=>{throw new JF(S)}),w=v.headers.get("x-relay-error");if(w&&w==="true")throw new x_(v);if(!v.ok)throw new E_(v);let _=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return _==="application/json"?E=yield v.json():_==="application/octet-stream"||_==="application/pdf"?E=yield v.blob():_==="text/event-stream"?E=v:_==="multipart/form-data"?E=yield v.formData():E=yield v.text(),{data:E,error:null,response:v}}catch(s){return{data:null,error:s,response:s instanceof E_||s instanceof x_?s.context:void 0}}finally{o&&clearTimeout(o)}})}}var XF=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},QF=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let a=null,s=null,l=null,u=o.status,c=o.statusText;if(o.ok){var f,h;if(n.method!=="HEAD"){var m;const v=await o.text();v===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?s=v:s=JSON.parse(v))}const y=(f=n.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),b=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");y&&b&&b.length>1&&(l=parseInt(b[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,l=null,u=406,c="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var g;const y=await o.text();try{a=JSON.parse(y),Array.isArray(a)&&o.status===404&&(s=[],a=null,u=200,c="OK")}catch{o.status===404&&y===""?(u=204,c="No Content"):a={message:y}}if(a&&n.isMaybeSingle&&(!(a==null||(g=a.details)===null||g===void 0)&&g.includes("0 rows"))&&(a=null,u=200,c="OK"),a&&n.shouldThrowOnError)throw new XF(a)}return{error:a,data:s,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(i=i.catch(o=>{var a;let s="";const l=o==null?void 0:o.cause;if(l){var u,c,f,h;const g=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",y=(c=l==null?void 0:l.code)!==null&&c!==void 0?c:"";s=`${(f=o==null?void 0:o.name)!==null&&f!==void 0?f:"FetchError"}: ${o==null?void 0:o.message}`,s+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${g}`,y&&(s+=` (${y})`),l!=null&&l.stack&&(s+=`
${l.stack}`)}else{var m;s=(m=o==null?void 0:o.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},ZF=class extends QF{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const s=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${s};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const T_=new RegExp("[,()]");var yo=class extends ZF{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&T_.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&T_.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},eB=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET";let o=!1;const a=(e??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join(""),{url:s,headers:l}=this.cloneRequestState();return s.searchParams.set("select",a),r&&l.append("Prefer",`count=${r}`),new yo({method:i,url:s,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const i="POST",{url:o,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),n||a.append("Prefer","missing=default"),Array.isArray(e)){const s=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(s.length>0){const l=[...new Set(s)].map(u=>`"${u}"`);o.searchParams.set("columns",l.join(","))}}return new yo({method:i,url:o,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const a="POST",{url:s,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&s.searchParams.set("on_conflict",t),r&&l.append("Prefer",`count=${r}`),i||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(u.length>0){const c=[...new Set(u)].map(f=>`"${f}"`);s.searchParams.set("columns",c.join(","))}}return new yo({method:a,url:s,headers:l,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:i,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new yo({method:r,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new yo({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},tB=class JC{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new eB(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new JC(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){var a;let s;const l=new URL(`${this.url}/rpc/${t}`);let u;const c=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(c)),f=r&&Object.values(n).some(c);f?(s="POST",u=n):r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{l.searchParams.append(m,g)})):(s="POST",u=n);const h=new Headers(this.headers);return f?h.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&h.set("Prefer",`count=${o}`),new yo({method:s,url:l,headers:h,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class nB{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const rB="2.93.3",iB=`realtime-js/${rB}`,oB="1.0.0",YC="2.0.0",A_=YC,$m=1e4,aB=1e3,sB=100;var Rr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Rr||(Rr={}));var Ze;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ze||(Ze={}));var Cn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Cn||(Cn={}));var Dm;(function(e){e.websocket="websocket"})(Dm||(Dm={}));var Ti;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ti||(Ti={}));class lB{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,n,r){var i,o;const a=t.topic,s=(i=t.ref)!==null&&i!==void 0?i:"",l=(o=t.join_ref)!==null&&o!==void 0?o:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+s.length+a.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(m),y=0;g.setUint8(y++,this.KINDS.userBroadcastPush),g.setUint8(y++,l.length),g.setUint8(y++,s.length),g.setUint8(y++,a.length),g.setUint8(y++,u.length),g.setUint8(y++,f.length),g.setUint8(y++,n),Array.from(l,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(s,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(a,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(u,v=>g.setUint8(y++,v.charCodeAt(0))),Array.from(f,v=>g.setUint8(y++,v.charCodeAt(0)));var b=new Uint8Array(m.byteLength+r.byteLength);return b.set(new Uint8Array(m),0),b.set(new Uint8Array(r),m.byteLength),b.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,o,a,s,l]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(t.slice(l,l+i));l=l+i;const c=r.decode(t.slice(l,l+o));l=l+o;const f=r.decode(t.slice(l,l+a));l=l+a;const h=t.slice(l,t.byteLength),m=s===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,g={type:this.BROADCAST_EVENT,event:c,payload:m};return a>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class XC{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ee||(Ee={}));const C_=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,a)=>(o[a]=uB(a,e,t,i),o),{}):{}},uB=(e,t,n,r)=>{const i=t.find(s=>s.name===e),o=i==null?void 0:i.type,a=n[e];return o&&!r.includes(o)?QC(o,a):Lm(a)},QC=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return hB(t,n)}switch(e){case Ee.bool:return cB(t);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return fB(t);case Ee.json:case Ee.jsonb:return dB(t);case Ee.timestamp:return pB(t);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return Lm(t);default:return Lm(t)}},Lm=e=>e,cB=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},fB=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},dB=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},hB=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const a=e.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>QC(t,s))}return e},pB=e=>typeof e=="string"?e.replace(" ","T"):e,ZC=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Vh{constructor(t,n,r={},i=$m){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var P_;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(P_||(P_={}));class Ns{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ns.syncState(this.state,i,o,a),this.pendingDiffs.forEach(l=>{this.state=Ns.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ns.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),a=this.transformState(n),s={},l={};return this.map(o,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const f=o[u];if(f){const h=c.map(b=>b.presence_ref),m=f.map(b=>b.presence_ref),g=c.filter(b=>m.indexOf(b.presence_ref)<0),y=f.filter(b=>h.indexOf(b.presence_ref)<0);g.length>0&&(s[u]=g),y.length>0&&(l[u]=y)}else s[u]=c}),this.syncDiff(o,{joins:s,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,l)=>{var u;const c=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(l),c.length>0){const f=t[s].map(m=>m.presence_ref),h=c.filter(m=>f.indexOf(m.presence_ref)<0);t[s].unshift(...h)}r(s,c,l)}),this.map(a,(s,l)=>{let u=t[s];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),t[s]=u,i(s,u,l),u.length===0&&delete t[s]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var k_;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(k_||(k_={}));var Ms;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ms||(Ms={}));var er;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(er||(er={}));class Mo{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Vh(this,Cn.join,this.params,this.timeout),this.rejoinTimer=new XC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ze.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Cn.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Ns(this),this.broadcastEndpointURL=ZC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ze.closed){const{config:{broadcast:a,presence:s,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Ms.PRESENCE]&&this.bindings[Ms.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},h={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(er.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(er.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(er.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(g=y==null?void 0:y.length)!==null&&g!==void 0?g:0,v=[];for(let w=0;w<b;w++){const _=y[w],{filter:{event:E,schema:S,table:x,filter:T}}=_,C=m&&m[w];if(C&&C.event===E&&Mo.isFilterValueEqual(C.schema,S)&&Mo.isFilterValueEqual(C.table,x)&&Mo.isFilterValueEqual(C.filter,T))v.push(Object.assign(Object.assign({},_),{id:C.id}));else{this.unsubscribe(),this.state=Ze.errored,t==null||t(er.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(er.SUBSCRIBED);return}}).receive("error",m=>{this.state=Ze.errored,t==null||t(er.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(er.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Ze.joined&&t===Ms.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let l=s.statusText;try{const u=await s.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=t,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ze.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Cn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Vh(this,Cn.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ze.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Vh(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>sB){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const a=t.toLocaleLowerCase(),{close:s,error:l,leave:u,join:c}=Cn;if(r&&[s,l,u,c].indexOf(a)>=0&&r!==this._joinRef())return;let h=this._onMessage(a,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var g,y,b;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((b=(y=m.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(m=>m.callback(h,r)):(o=this.bindings[a])===null||o===void 0||o.filter(m=>{var g,y,b,v,w,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const E=m.id,S=(g=m.filter)===null||g===void 0?void 0:g.event;return E&&((y=n.ids)===null||y===void 0?void 0:y.includes(E))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const E=(w=(v=m==null?void 0:m.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return E==="*"||E===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:y,table:b,commit_timestamp:v,type:w,errors:_}=g;h=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:v,eventType:w,new:{},old:{},errors:_}),this._getPayloadRecords(g))}m.callback(h,r)})}_isClosed(){return this.state===Ze.closed}_isJoined(){return this.state===Ze.joined}_isJoining(){return this.state===Ze.joining}_isLeaving(){return this.state===Ze.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Mo.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Cn.close,{},t)}_onError(t){this._on(Cn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ze.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=C_(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=C_(t.columns,t.old_record)),n}}const Gh=()=>{},Iu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},mB=[1e3,2e3,5e3,1e4],gB=1e4,yB=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vB{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$m,this.transport=null,this.heartbeatIntervalMs=Iu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gh,this.ref=0,this.reconnectTimer=null,this.vsn=A_,this.logger=Gh,this.conn=null,this.sendBuffer=[],this.serializer=new lB,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Dm.websocket}`,this.httpEndpoint=ZC(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=nB.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Rr.connecting:return Ti.Connecting;case Rr.open:return Ti.Open;case Rr.closing:return Ti.Closing;default:return Ti.Closed}}isConnected(){return this.connectionState()===Ti.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new Mo(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,a=()=>{this.encode(t,s=>{var l;(l=this.conn)===null||l===void 0||l.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(aB,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Iu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${s}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Rr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Rr.open||this.conn.readyState===Rr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Cn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([yB],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:iB};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Cn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new XC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Iu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,a,s,l,u,c,f,h,m;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:$m,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Iu.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:Gh,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:A_,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>mB[g-1]||gB,this.vsn){case oB:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(g,y)=>y(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,y)=>y(JSON.parse(g));break;case YC:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ol=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function wB(e,t,n){const r=new URL(t,e);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function bB(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function _B(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:a}){const s=wB(e.baseUrl,r,i),l=await bB(e.auth),u=await t(s,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...l,...a},body:o?JSON.stringify(o):void 0}),c=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&c?JSON.parse(c):c;if(!u.ok){const m=f?h:void 0,g=m==null?void 0:m.error;throw new ol((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function Ou(e){return e.join("")}var SB=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Ou(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ou(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ou(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ou(e.namespace)}`}),!0}catch(t){if(t instanceof ol&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof ol&&n.status===409)return;throw n}}};function ao(e){return e.join("")}var xB=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ao(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ao(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ao(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ao(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ao(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ao(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof ol&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof ol&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},EB=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=_B({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new SB(this.client,t),this.tableOps=new xB(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},pd=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function md(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Ru=class extends pd{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},eP=class extends pd{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const TB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),AB=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Um=e=>{if(Array.isArray(e))return e.map(n=>Um(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Um(r)}),t},CB=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function al(e){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function PB(e,t){if(al(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kB(e){var t=PB(e,"string");return al(t)=="symbol"?t:t+""}function IB(e,t,n){return(t=kB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I_(Object(n),!0).forEach(function(r){IB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const O_=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},OB=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e,o=i.status||500;if(typeof i.json=="function")i.json().then(a=>{const s=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||o+"";t(new Ru(O_(a),o,s,r))}).catch(()=>{if(r==="vectors"){const a=o+"";t(new Ru(i.statusText||`HTTP ${o} error`,o,a,r))}else{const a=o+"";t(new Ru(i.statusText||`HTTP ${o} error`,o,a,r))}});else{const a=o+"";t(new Ru(i.statusText||`HTTP ${o} error`,o,a,r))}}else t(new eP(O_(e),e,r))},RB=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?ne(ne({},i),n):(AB(r)?(i.headers=ne({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),ne(ne({},i),n))};async function os(e,t,n,r,i,o,a){return new Promise((s,l)=>{e(n,RB(t,r,i,o)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;if(a==="vectors"){const c=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!c||!c.includes("application/json"))return{}}return u.json()}).then(u=>s(u)).catch(u=>OB(u,l,r,a))})}function tP(e="storage"){return{get:async(t,n,r,i)=>os(t,"GET",n,r,i,void 0,e),post:async(t,n,r,i,o)=>os(t,"POST",n,i,o,r,e),put:async(t,n,r,i,o)=>os(t,"PUT",n,i,o,r,e),head:async(t,n,r,i)=>os(t,"HEAD",n,ne(ne({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,r,i,o)=>os(t,"DELETE",n,i,o,r,e)}}const NB=tP("storage"),{get:sl,post:Tn,put:jm,head:MB,remove:Ev}=NB,Kt=tP("vectors");var $a=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=TB(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(md(n))return{data:null,error:n};throw n}}},$B=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(md(t))return{data:null,error:t};throw t}}};let nP;nP=Symbol.toStringTag;var DB=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[nP]="BlobDownloadBuilder",this.promise=null}asStream(){return new $B(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(md(t))return{data:null,error:t};throw t}}};const LB={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},R_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var UB=class extends $a{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var i=this;return i.handleOperation(async()=>{let o;const a=ne(ne({},R_),r);let s=ne(ne({},i.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",i.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(l))):(o=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,l&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(s=ne(ne({},s),r.headers));const u=i._removeEmptyFolders(t),c=i._getFinalPath(u),f=await(e=="PUT"?jm:Tn)(i.fetch,`${i.url}/object/${c}`,o,ne({headers:s},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const o=i._removeEmptyFolders(e),a=i._getFinalPath(o),s=new URL(i.url+`/object/upload/sign/${a}`);return s.searchParams.set("token",t),i.handleOperation(async()=>{let l;const u=ne({upsert:R_.upsert},r),c=ne(ne({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{path:o,fullPath:(await jm(i.fetch,s.toString(),l,{headers:c})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const i=ne({},n.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const o=await Tn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+o.url),s=a.searchParams.get("token");if(!s)throw new pd("No token returned by API");return{signedUrl:a.toString(),path:e,token:s}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await Tn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await Tn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),o=await Tn(r.fetch,`${r.url}/object/sign/${i}`,ne({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${o.signedURL}${a}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const i=await Tn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(a=>ne(ne({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${o}`):null}))})}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=r?`?${r}`:"",o=this._getFinalPath(e),a=()=>sl(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new DB(a,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>Um(await sl(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await MB(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(md(r)&&r instanceof eP){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&r.push(a);let s=r.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${s}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Ev(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const i=ne(ne(ne({},LB),t),{},{prefix:e||""});return await Tn(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=ne({},e);return await Tn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const jB="2.93.3",Xl={"X-Client-Info":`storage-js/${jB}`};var FB=class extends $a{constructor(e,t={},n,r){const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const o=i.href.replace(/\/$/,""),a=ne(ne({},Xl),t);super(o,a,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await sl(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await sl(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await Tn(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await jm(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Tn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ev(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},BB=class extends $a{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=ne(ne({},Xl),t);super(r,i,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Tn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await sl(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ev(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!CB(e))throw new pd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new EB({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const a=i[o];return typeof a!="function"?a:async(...s)=>{try{return{data:await a.apply(i,s),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},zB=class extends $a{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=ne(ne({},Xl),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Kt.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await Kt.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Kt.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await Kt.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},HB=class extends $a{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=ne(ne({},Xl),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Kt.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Kt.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Kt.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Kt.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Kt.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},VB=class extends $a{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=ne(ne({},Xl),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Kt.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Kt.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Kt.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Kt.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},GB=class extends VB{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new qB(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},qB=class extends zB{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,ne(ne({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,ne(ne({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new WB(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},WB=class extends HB{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,ne(ne({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,ne(ne({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,ne(ne({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,ne(ne({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,ne(ne({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},KB=class extends FB{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new UB(this.url,this.headers,e,this.fetch)}get vectors(){return new GB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new BB(this.url+"/iceberg",this.headers,this.fetch)}};const rP="2.93.3",vo=30*1e3,Fm=3,qh=Fm*vo,JB="http://localhost:9999",YB="supabase.auth.token",XB={"X-Client-Info":`gotrue-js/${rP}`},Bm="X-Supabase-Api-Version",iP={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},QB=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ZB=10*60*1e3;class ll extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ez extends ll{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function tz(e){return Q(e)&&e.name==="AuthApiError"}class Ai extends ll{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class xr extends ll{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Vt extends xr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Wh(e){return Q(e)&&e.name==="AuthSessionMissingError"}class so extends xr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Nu extends xr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Mu extends xr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nz(e){return Q(e)&&e.name==="AuthImplicitGrantRedirectError"}class N_ extends xr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rz extends xr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class zm extends xr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Kh(e){return Q(e)&&e.name==="AuthRetryableFetchError"}class M_ extends xr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Hm extends xr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$_=` 	
\r=`.split(""),iz=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<$_.length;t+=1)e[$_[t].charCodeAt(0)]=-2;for(let t=0;t<Bc.length;t+=1)e[Bc[t].charCodeAt(0)]=t;return e})();function D_(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Bc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Bc[r]),t.queuedBits-=6}}function oP(e,t,n){const r=iz[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function L_(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{sz(a,r,n)};for(let a=0;a<e.length;a+=1)oP(e.charCodeAt(a),i,o);return t.join("")}function oz(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function az(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}oz(r,t)}}function sz(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ko(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)oP(e.charCodeAt(i),n,r);return new Uint8Array(t)}function lz(e){const t=[];return az(e,n=>t.push(n)),new Uint8Array(t)}function Oi(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>D_(i,n,r)),D_(null,n,r),t.join("")}function uz(e){return Math.round(Date.now()/1e3)+e}function cz(){return Symbol("auth-callback")}const ft=()=>typeof window<"u"&&typeof document<"u",hi={tested:!1,writable:!1},aP=()=>{if(!ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(hi.tested)return hi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),hi.tested=!0,hi.writable=!0}catch{hi.tested=!0,hi.writable=!1}return hi.writable};function fz(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const sP=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),dz=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",wo=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},pi=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ct=async(e,t)=>{await e.removeItem(t)};class gd{constructor(){this.promise=new gd.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}gd.promiseConstructor=Promise;function $u(e){const t=e.split(".");if(t.length!==3)throw new Hm("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!QB.test(t[r]))throw new Hm("JWT not in base64url format");return{header:JSON.parse(L_(t[0])),payload:JSON.parse(L_(t[1])),signature:Ko(t[2]),raw:{header:t[0],payload:t[1]}}}async function hz(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function pz(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await e(o);if(!t(o,null,a)){r(a);return}}catch(a){if(!t(o,a)){i(a);return}}})()})}function mz(e){return("0"+e.toString(16)).substr(-2)}function gz(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,mz).join("")}async function yz(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function vz(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await yz(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function lo(e,t,n=!1){const r=gz();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await wo(e,`${t}-code-verifier`,i);const o=await vz(r);return[o,r===o?"plain":"s256"]}const wz=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bz(e){const t=e.headers.get(Bm);if(!t||!t.match(wz))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function _z(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Sz(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const xz=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function uo(e){if(!xz.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Jh(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ez(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function U_(e){return JSON.parse(JSON.stringify(e))}const _i=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Tz=[502,503,504];async function j_(e){var t;if(!dz(e))throw new zm(_i(e),0);if(Tz.includes(e.status))throw new zm(_i(e),e.status);let n;try{n=await e.json()}catch(o){throw new Ai(_i(o),o)}let r;const i=bz(e);if(i&&i.getTime()>=iP["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new M_(_i(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Vt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new M_(_i(n),e.status,n.weak_password.reasons);throw new ez(_i(n),e.status||500,r)}const Az=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function te(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Bm]||(o[Bm]=iP["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await Cz(e,t,n+s,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Cz(e,t,n,r,i,o){const a=Az(t,r,i,o);let s;try{s=await e(n,Object.assign({},a))}catch(l){throw console.error(l),new zm(_i(l),0)}if(s.ok||await j_(s),r!=null&&r.noResolveJson)return s;try{return await s.json()}catch(l){await j_(l)}}function xn(e){var t;let n=null;Iz(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=uz(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function F_(e){const t=xn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Lr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Pz(e){return{data:e,error:null}}function kz(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,a=hd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},a);return{data:{properties:s,user:l},error:null}}function B_(e){return e}function Iz(e){return e.access_token&&e.refresh_token&&e.expires_in}const Yh=["global","local","others"];class Oz{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=sP(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Yh[0]){if(Yh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yh.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Q(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Lr})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=hd(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:kz,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Lr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:B_});if(c.error)throw c.error;const f=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Q(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){uo(t);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Lr})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){uo(t);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Lr})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){uo(t);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Lr})}catch(r){if(Q(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){uo(t.userId);try{const{data:n,error:r}=await te(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _deleteFactor(t){uo(t.userId),uo(t.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,a,s,l;try{const u={nextPage:null,lastPage:0,total:0},c=await te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:B_});if(c.error)throw c.error;const f=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Q(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Q(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}}function z_(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const co={debug:!!(globalThis&&aP()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lP extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Rz extends lP{}async function Nz(e,t,n){co.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),co.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){co.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{co.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw co.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Rz(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(co.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Mz(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function uP(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function $z(e){return parseInt(e,16)}function Dz(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function Lz(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:l,resources:u,scheme:c,uri:f,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=uP(e.address),g=c?`${c}://${r}`:r,y=e.statement?`${e.statement}
`:"",b=`${g} wants you to sign in with your Ethereum account:
${m}

${y}`;let v=`URI: ${f}
Version: ${h}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(v+=`
Expiration Time: ${i.toISOString()}`),s&&(v+=`
Not Before: ${s.toISOString()}`),l&&(v+=`
Request ID: ${l}`),u){let w=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);w+=`
- ${_}`}v+=w}return`${b}
${v}`}class qe extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class zc extends qe{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function Uz({error:e,options:t}){var n,r,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new qe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new qe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new qe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new qe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new qe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new qe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new qe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new qe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(cP(a)){if(o.rp.id!==a)return new qe({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new qe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new qe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function jz({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new qe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new qe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(cP(r)){if(n.rpId!==r)return new qe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new qe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Fz{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Bz=new Fz;function zz(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=hd(e,["challenge","user","excludeCredentials"]),o=Ko(t).buffer,a=Object.assign(Object.assign({},n),{id:Ko(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Ko(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function Hz(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=hd(e,["challenge","allowCredentials"]),i=Ko(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:Ko(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function Vz(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Oi(new Uint8Array(e.response.attestationObject)),clientDataJSON:Oi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Gz(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Oi(new Uint8Array(i.authenticatorData)),clientDataJSON:Oi(new Uint8Array(i.clientDataJSON)),signature:Oi(new Uint8Array(i.signature)),userHandle:i.userHandle?Oi(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function cP(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function H_(){var e,t;return!!(ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function qz(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new zc("Browser returned unexpected credential type",t)}:{data:null,error:new zc("Empty credential response",t)}}catch(t){return{data:null,error:Uz({error:t,options:e})}}}async function Wz(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new zc("Browser returned unexpected credential type",t)}:{data:null,error:new zc("Empty credential response",t)}}catch(t){return{data:null,error:jz({error:t,options:e})}}}const Kz={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Jz={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Hc(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(t(a)){const s=r[o];t(s)?r[o]=Hc(s,a):r[o]=Hc(a)}else r[o]=a}return r}function Yz(e,t){return Hc(Kz,e,t||{})}function Xz(e,t){return Hc(Jz,e,t||{})}class Qz{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){var a;try{const{data:s,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!s)return{data:null,error:l};const u=i??Bz.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:c}=s.webauthn.credential_options.publicKey;if(!c.name){const f=r;if(f)c.name=`${c.id}:${f}`;else{const m=(await this.client.getUser()).data.user,g=((a=m==null?void 0:m.user_metadata)===null||a===void 0?void 0:a.name)||(m==null?void 0:m.email)||(m==null?void 0:m.id)||"User";c.name=`${c.id}:${g}`}}c.displayName||(c.displayName=c.name)}switch(s.webauthn.type){case"create":{const c=Yz(s.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:f,error:h}=await qz({publicKey:c,signal:u});return f?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const c=Xz(s.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:f,error:h}=await Wz(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:c,signal:u}));return f?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(s){return Q(s)?{data:null,error:s}:{data:null,error:new Ai("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new ll("rpId is required for WebAuthn authentication")};try{if(!H_())return{data:null,error:new Ai("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};const{webauthn:l}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return Q(a)?{data:null,error:a}:{data:null,error:new Ai("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new ll("rpId is required for WebAuthn registration")};try{if(!H_())return{data:null,error:new Ai("Browser does not support WebAuthn",null)};const{data:a,error:s}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(c=>{var f;return(f=c.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:s};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return Q(a)?{data:null,error:a}:{data:null,error:new Ai("Unexpected error in register",a)}}}}Mz();const Zz={url:JB,storageKey:YB,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:XB,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function V_(e,t,n){return await n()}const fo={};class ul{get jwks(){var t,n;return(n=(t=fo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){fo[this.storageKey]=Object.assign(Object.assign({},fo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=fo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){fo[this.storageKey]=Object.assign(Object.assign({},fo[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},Zz),t);if(this.storageKey=o.storageKey,this.instanceID=(n=ul.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,ul.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&ft()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Oz({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=sP(o.fetch),this.lock=o.lock||V_,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&ft()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Nz:this.lock=V_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Qz(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:aP()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=z_(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=z_(this.memoryStorage)),ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(s){this._debug("#broadcastChannel","error",s)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${rP}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(ft()&&(n=fz(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),ft()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),nz(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:a,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Q(n)?this._returnResult({error:n}):this._returnResult({error:new Ai("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:xn}),{data:a,error:s}=o;if(s||!a)return this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(Q(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:c,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await lo(this.storage,this.storageKey)),o=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:xn})}else if("phone"in t){const{phone:c,password:f,options:h}=t;o=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:xn})}else throw new Nu("You must provide either an email or phone number and a password");const{data:a,error:s}=o;if(s||!a)return await ct(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(await ct(this.storage,`${this.storageKey}-code-verifier`),Q(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:a,options:s}=t;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:F_})}else if("phone"in t){const{phone:o,password:a,options:s}=t;n=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:F_})}else throw new Nu("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new so;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,o,a,s,l,u,c,f,h;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:y,wallet:b,statement:v,options:w}=t;let _;if(ft())if(typeof b=="object")_=b;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")_=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const E=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),S=await _.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const x=uP(S[0]);let T=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!T){const P=await _.request({method:"eth_chainId"});T=$z(P)}const C={domain:E.host,address:x,statement:v,uri:E.href,version:"1",chainId:T,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.resources};m=Lz(C),g=await _.request({method:"personal_sign",params:[Dz(m),x]})}try{const{data:y,error:b}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:xn});if(b)throw b;if(!y||!y.session||!y.user){const v=new so;return this._returnResult({data:{user:null,session:null},error:v})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(Q(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var n,r,i,o,a,s,l,u,c,f,h,m;let g,y;if("message"in t)g=t.message,y=t.signature;else{const{chain:b,wallet:v,statement:w,options:_}=t;let E;if(ft())if(typeof v=="object")E=v;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))E=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=v}const S=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const x=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),w?{statement:w}:null));let T;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")T=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)T=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)g=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),y=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(c=_==null?void 0:_.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const x=await E.signMessage(new TextEncoder().encode(g),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=x}}try{const{data:b,error:v}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Oi(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:xn});if(v)throw v;if(!b||!b.session||!b.user){const w=new so;return this._returnResult({data:{user:null,session:null},error:w})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:v})}catch(b){if(Q(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const n=await pi(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new rz;const{data:o,error:a}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:xn});if(await ct(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const s=new so;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:a})}catch(o){if(await ct(this.storage,`${this.storageKey}-code-verifier`),Q(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:a}=t,s=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:xn}),{data:l,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new so;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,o,a;try{if("email"in t){const{email:s,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await lo(this.storage,this.storageKey));const{error:f}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:s,options:l}=t,{data:u,error:c}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Nu("You must provide either an email or phone number.")}catch(s){if(await ct(this.storage,`${this.storageKey}-code-verifier`),Q(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:s}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:xn});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(Q(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,o,a;try{let s=null,l=null;this.flowType==="pkce"&&([s,l]=await lo(this.storage,this.storageKey));const u=await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:Pz});return!((o=u.data)===null||o===void 0)&&o.url&&ft()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(await ct(this.storage,`${this.storageKey}-code-verifier`),Q(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Vt;const{error:i}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Q(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:a}=await te(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:a,error:s}=await te(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:s})}throw new Nu("You must provide either an email or phone number and a type")}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await pi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<qh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await pi(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Jh()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=Ez(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Lr}):await this._useSession(async n=>{var r,i,o;const{data:a,error:s}=n;if(s)throw s;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vt}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Lr})})}catch(n){if(Q(n))return Wh(n)&&(await this._removeSession(),await ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Vt;const a=i.session;let s=null,l=null;this.flowType==="pkce"&&t.email!=null&&([s,l]=await lo(this.storage,this.storageKey));const{data:u,error:c}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:l}),jwt:a.access_token,xform:Lr});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await ct(this.storage,`${this.storageKey}-code-verifier`),Q(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Vt;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:a}=$u(t.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!s)return{data:{user:null,session:null},error:null};o=s}else{const{data:s,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});o={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(Q(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:s}=n;if(s)throw s;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Vt;const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Q(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!ft())throw new Mu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Mu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new N_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new N_("No code detected.");const{data:w,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:a,expires_in:s,expires_at:l,token_type:u}=t;if(!o||!s||!a||!u)throw new Mu("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(s);let h=c+f;l&&(h=parseInt(l));const m=h-c;m*1e3<=vo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;c-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,c):c-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,c);const{data:y,error:b}=await this._getUser(o);if(b)throw b;const v={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(r){if(Q(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await pi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o&&!Wh(o))return this._returnResult({error:o});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:s}=await this.admin.signOut(a,t);if(s&&!(tz(s)&&(s.status===404||s.status===401||s.status===403)||Wh(s)))return this._returnResult({error:s})}return t!=="others"&&(await this._removeSession(),await ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=cz(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await lo(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await ct(this.storage,`${this.storageKey}-code-verifier`),Q(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var a,s,l,u,c;const{data:f,error:h}=o;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return ft()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Q(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:a,provider:s,token:l,access_token:u,nonce:c}=t,f=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:s,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:xn}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new so}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(i){if(await ct(this.storage,`${this.storageKey}-code-verifier`),Q(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)throw a;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await pz(async i=>(i>0&&await hz(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xn})),(i,o)=>{const a=200*Math.pow(2,i);return o&&Kh(o)&&Date.now()+a-r<vo})}catch(r){if(this._debug(n,"error",r),Q(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ft()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await pi(this.storage,this.storageKey);if(i&&this.userStorage){let a=await pi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await wo(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Jh()}else if(i&&!i.user&&!i.user){const a=await pi(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await ct(this.storage,this.storageKey+"-user"),await wo(this.storage,this.storageKey,i)):i.user=Jh()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<qh;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${qh}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Kh(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:s}=await this._getUser(i.access_token);!s&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new gd;const{data:o,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new Vt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const s={data:o.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(o){if(this._debug(i,"error",o),Q(o)){const a={data:null,error:o};return Kh(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,n)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let s=0;s<o.length;s+=1)console.error(o[s]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ct(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await wo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=U_(i);await wo(this.storage,this.storageKey,o)}else{const i=U_(n);await wo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ct(this.storage,this.storageKey),await ct(this.storage,this.storageKey+"-code-verifier"),await ct(this.storage,this.storageKey+"-user"),this.userStorage&&await ct(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),vo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/vo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${vo}ms, refresh threshold is ${Fm} ticks`),i<=Fm&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof lP)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await lo(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(s.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await te(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await te(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Vz(t.webauthn.credential_response):Gz(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:l}=await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:l}))})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=await te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:s}=a;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:zz(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:Hz(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,i,o;if(t)try{const{payload:m}=$u(t);let g=null;m.aal&&(g=m.aal);let y=g;const{data:{user:b},error:v}=await this.getUser(t);if(v)return this._returnResult({data:null,error:v});((r=(n=b==null?void 0:b.factors)===null||n===void 0?void 0:n.filter(E=>E.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(y="aal2");const _=m.amr||[];return{data:{currentLevel:g,nextLevel:y,currentAuthenticationMethods:_},error:null}}catch(m){if(Q(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:a},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=$u(a.access_token);let u=null;l.aal&&(u=l.aal);let c=u;((o=(i=a.user.factors)===null||i===void 0?void 0:i.filter(m=>m.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(c="aal2");const h=l.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await te(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Vt})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Vt});const a=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&ft()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Q(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Vt});const a=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return a.data&&a.data.redirect_url&&ft()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(Q(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await te(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Vt})})}catch(t){if(Q(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await te(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Vt})})}catch(n){if(Q(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(s=>s.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(s=>s.kid===t),r&&this.jwks_cached_at+ZB>i)return r;const{data:o,error:a}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(s=>s.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:g}=await this.getSession();if(g||!m.session)return this._returnResult({data:null,error:g});r=m.session.access_token}const{header:i,payload:o,signature:a,raw:{header:s,payload:l}}=$u(r);n!=null&&n.allowExpired||_z(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:o,header:i,signature:a},error:null}}const c=Sz(i.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,a,lz(`${s}.${l}`)))throw new Hm("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(r){if(Q(r))return this._returnResult({data:null,error:r});throw r}}}ul.nextInstanceID={};const e3=ul,t3="2.93.3";let Ss="";typeof Deno<"u"?Ss="deno":typeof document<"u"?Ss="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ss="react-native":Ss="node";const n3={"X-Client-Info":`supabase-js-${Ss}/${t3}`},r3={headers:n3},i3={schema:"public"},o3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},a3={};function cl(e){"@babel/helpers - typeof";return cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(e)}function s3(e,t){if(cl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l3(e){var t=s3(e,"string");return cl(t)=="symbol"?t:t+""}function u3(e,t,n){return(t=l3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G_(Object(n),!0).forEach(function(r){u3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const c3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),f3=()=>Headers,d3=(e,t,n)=>{const r=c3(n),i=f3();return async(o,a)=>{var s;const l=(s=await t())!==null&&s!==void 0?s:e;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,Fe(Fe({},a),{},{headers:u}))}};function h3(e){return e.endsWith("/")?e:e+"/"}function p3(e,t){var n,r;const{db:i,auth:o,realtime:a,global:s}=e,{db:l,auth:u,realtime:c,global:f}=t,h={db:Fe(Fe({},l),i),auth:Fe(Fe({},u),o),realtime:Fe(Fe({},c),a),storage:{},global:Fe(Fe(Fe({},f),s),{},{headers:Fe(Fe({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=s==null?void 0:s.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function m3(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(h3(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var g3=class extends e3{constructor(e){super(e)}},y3=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const o=m3(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,s={db:i3,realtime:a3,auth:Fe(Fe({},o3),{},{storageKey:a}),global:r3},l=p3(n??{},s);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=d3(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Fe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new tB(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new KB(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new YF(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:a,lock:s,debug:l,throwOnError:u},c,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new g3({url:this.authUrl.href,headers:Fe(Fe({},h),c),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:s,debug:l,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new vB(this.realtimeUrl.href,Fe(Fe({},e),{},{params:Fe(Fe({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const v3=(e,t,n)=>new y3(e,t,n);function w3(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}w3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const b3="https://oyknecauabgjgnqnoacr.supabase.co",_3="sb_publishable_KtNaUa2s-65WJA_KOl2saw_ERrNriyz",Qn=v3(b3,_3),as=!!Qn,S3=()=>{const[e,t]=j.useState([]),[n,r]=j.useState(!1),[i,o]=j.useState(!1);j.useEffect(()=>{a()},[]);const a=async()=>{r(!0);try{if(as&&Qn){const{data:c,error:f}=await Qn.from("history").select("*").order("timestamp",{ascending:!1});if(f)throw f;if(c){const h=c.map(m=>({id:m.id,timestamp:m.timestamp,data:m.data,result:m.result,aiAnalysis:m.ai_analysis}));t(h)}}else{const c=localStorage.getItem("warehouseCalculatorHistory");c&&t(JSON.parse(c))}}catch(c){console.error("Failed to load history:",c)}finally{r(!1)}};return{history:e,isLoading:n,isSyncing:i,isCloudEnabled:as,addRecord:async c=>{o(!0);try{if(t(f=>[c,...f]),as&&Qn){const f={id:c.id,timestamp:c.timestamp,data:c.data,result:c.result,ai_analysis:c.aiAnalysis},{error:h}=await Qn.from("history").insert([f]);h&&console.error("Cloud save failed:",h)}else{const f=JSON.parse(localStorage.getItem("warehouseCalculatorHistory")||"[]");localStorage.setItem("warehouseCalculatorHistory",JSON.stringify([c,...f]))}}finally{o(!1)}},updateRecord:async c=>{o(!0);try{if(t(f=>f.map(h=>h.id===c.id?c:h)),as&&Qn){const f={id:c.id,timestamp:c.timestamp,data:c.data,result:c.result,ai_analysis:c.aiAnalysis},{error:h}=await Qn.from("history").update(f).eq("id",c.id);if(h)throw h}else{const h=JSON.parse(localStorage.getItem("warehouseCalculatorHistory")||"[]").map(m=>m.id===c.id?c:m);localStorage.setItem("warehouseCalculatorHistory",JSON.stringify(h))}}catch(f){console.error("Update failed:",f)}finally{o(!1)}},deleteRecord:async c=>{o(!0);try{if(t(f=>f.filter(h=>h.id!==c)),as&&Qn){const{error:f}=await Qn.from("history").delete().eq("id",c);if(f)throw f}else{const h=JSON.parse(localStorage.getItem("warehouseCalculatorHistory")||"[]").filter(m=>m.id!==c);localStorage.setItem("warehouseCalculatorHistory",JSON.stringify(h))}}catch(f){console.error("Delete failed:",f)}finally{o(!1)}},refresh:a}},Dt=({label:e,...t})=>A.jsxs("div",{children:[A.jsx("label",{htmlFor:t.name,className:"block text-sm font-medium text-text-secondary mb-1",children:e}),A.jsx("input",{id:t.name,type:"number",min:"0",...t,className:"w-full px-3 py-2 bg-background border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary text-text"})]}),Yr=({variant:e="primary",fullWidth:t=!1,children:n,className:r,...i})=>{const o="px-4 py-2 rounded-lg font-semibold transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",a={primary:"bg-primary text-white hover:bg-primary/90 focus:ring-primary shadow-sm",secondary:"bg-card text-text-secondary border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 focus:ring-gray-500"},s=t?"w-full":"",l=`${o} ${a[e]} ${s} ${r||""}`;return A.jsx("button",{className:l,...i,children:n})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var x3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),fe=(e,t)=>{const n=j.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,...u},c)=>j.createElement("svg",{ref:c,...x3,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${E3(e)}`,s].join(" "),...u},[...t.map(([f,h])=>j.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=fe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=fe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=fe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=fe("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=fe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=fe("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=fe("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=fe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=fe("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=fe("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=fe("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=fe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=fe("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=fe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=fe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=fe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=fe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=fe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=fe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=fe("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=fe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=fe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=fe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=fe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=fe("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=fe("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),K3=({isOpen:e,onClose:t,onDataParsed:n})=>{const[r,i]=j.useState(""),[o,a]=j.useState(!1),[s,l]=j.useState(null);if(!e)return null;const u=async()=>{if(r.trim()){a(!0),l(null);try{const c=await GF(r);n(c),t(),i("")}catch{l("Nie udao si odczyta danych. Sprbuj sformuowa tekst inaczej.")}finally{a(!1)}}};return A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:A.jsxs("div",{className:"bg-card w-full max-w-lg rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 flex flex-col",children:[A.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-indigo-50 to-white dark:from-gray-800 dark:to-gray-800",children:[A.jsxs("h2",{className:"text-xl font-bold text-text flex items-center gap-2",children:[A.jsx(mP,{className:"text-primary fill-primary/20"}),"Inteligentny Import (AI)"]}),A.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 text-text-secondary transition-colors",children:A.jsx(Av,{size:20})})]}),A.jsxs("div",{className:"p-6 space-y-4",children:[A.jsxs("p",{className:"text-sm text-text-secondary",children:["Wklej tre e-maila, wiadomoci Slack lub notatki (np. ",A.jsx("i",{children:'"Jutro mamy 30 dostaw po 100 palet i 5000 zamwie"'}),"). AI automatycznie uzupeni formularz."]}),A.jsx("textarea",{className:"w-full h-32 p-3 bg-background border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary text-text resize-none",placeholder:"Wklej tekst tutaj...",value:r,onChange:c=>i(c.target.value)}),s&&A.jsx("p",{className:"text-red-500 text-sm",children:s})]}),A.jsxs("div",{className:"p-5 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3",children:[A.jsx(Yr,{variant:"secondary",onClick:t,children:"Anuluj"}),A.jsx(Yr,{onClick:u,disabled:o||!r.trim(),children:o?A.jsxs(A.Fragment,{children:[A.jsx(hP,{className:"mr-2 animate-spin",size:18}),"Analizowanie..."]}):A.jsxs(A.Fragment,{children:["Przetwrz",A.jsx(A3,{className:"ml-2",size:18})]})})]})]})})},J3=({data:e,setData:t,onCalculate:n,onImport:r,onSave:i,isUpdateMode:o})=>{const[a,s]=j.useState(!1),l=j.useRef(null),u=h=>{const{name:m,value:g}=h.target;t(y=>({...y,[m]:m==="date"||m==="id"?g:g===""?"":Number(g)}))},c=h=>{t(m=>({...m,...h}))},f=h=>{if(l.current)try{"showPicker"in HTMLInputElement.prototype?l.current.showPicker():l.current.focus()}catch{l.current.focus()}};return A.jsxs("div",{className:"p-5 bg-card rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 h-full flex flex-col",children:[A.jsx(K3,{isOpen:a,onClose:()=>s(!1),onDataParsed:c}),A.jsxs("div",{className:"flex items-center justify-between mb-4 shrink-0",children:[A.jsxs("h2",{className:"text-xl font-bold text-text flex items-center gap-2",children:[A.jsx("div",{className:"p-1.5 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg text-primary",children:A.jsx(I3,{size:20})}),"Dane wejciowe"]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("label",{htmlFor:"date",className:"sr-only",children:"Data"}),A.jsxs("div",{className:"relative group",children:[A.jsx(Vm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-secondary group-hover:text-primary transition-colors pointer-events-none",size:16}),A.jsx("input",{ref:l,type:"date",name:"date",id:"date",value:e.date||"",onChange:u,onClick:f,className:"pl-9 pr-3 py-1.5 bg-background border border-gray-300 dark:border-gray-600 rounded-md text-sm text-text focus:ring-2 focus:ring-primary outline-none w-36 sm:w-auto cursor-pointer"})]})]})]}),A.jsx("div",{className:"mb-4",children:A.jsxs("button",{onClick:()=>s(!0),className:"w-full flex items-center justify-center gap-2 p-2 bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white rounded-lg text-sm font-medium transition-all shadow-sm group",children:[A.jsx(mP,{size:16,className:"group-hover:animate-pulse"}),"Inteligentny Import (Wklej Tekst)"]})}),A.jsxs("form",{onSubmit:h=>{h.preventDefault(),n()},className:"space-y-6 flex-grow overflow-y-auto pr-2 custom-scrollbar",children:[A.jsxs("fieldset",{className:"border-2 border-blue-100 dark:border-blue-900 bg-blue-50/50 dark:bg-blue-900/10 rounded-xl p-4 pt-5 relative shadow-sm transition-colors hover:border-blue-200 dark:hover:border-blue-800",children:[A.jsxs("legend",{className:"text-sm font-bold flex items-center gap-2 px-3 py-1 rounded-lg text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900/50 absolute -top-3 left-3 shadow-sm border border-blue-200 dark:border-blue-800",children:[A.jsx(C3,{size:16}),"Dostawy"]}),A.jsxs("div",{className:"space-y-3 mt-1",children:[A.jsx(Dt,{label:"Ilo dostaw (dziennie)",name:"deliveries",value:e.deliveries,onChange:u}),A.jsx(Dt,{label:"r. ilo art. w dostawie",name:"itemsPerDelivery",value:e.itemsPerDelivery,onChange:u}),A.jsx(Dt,{label:"Dostaw na godz./pracownika",name:"deliveriesPerHour",value:e.deliveriesPerHour,onChange:u})]})]}),A.jsxs("fieldset",{className:"border-2 border-purple-100 dark:border-purple-900 bg-purple-50/50 dark:bg-purple-900/10 rounded-xl p-4 pt-5 relative shadow-sm transition-colors hover:border-purple-200 dark:hover:border-purple-800",children:[A.jsxs("legend",{className:"text-sm font-bold flex items-center gap-2 px-3 py-1 rounded-lg text-purple-700 dark:text-purple-300 bg-purple-100 dark:bg-purple-900/50 absolute -top-3 left-3 shadow-sm border border-purple-200 dark:border-purple-800",children:[A.jsx(U3,{size:16}),"Zlecenia"]}),A.jsxs("div",{className:"space-y-3 mt-1",children:[A.jsx(Dt,{label:"Ilo zlece (dziennie)",name:"orders",value:e.orders,onChange:u}),A.jsx(Dt,{label:"r. ilo art. w zleceniu",name:"itemsPerOrder",value:e.itemsPerOrder,onChange:u}),A.jsx(Dt,{label:"Sztuk zebranych / h / os.",name:"itemsPickedPerHour",value:e.itemsPickedPerHour,onChange:u}),A.jsx(Dt,{label:"Zlece spakowanych / h / os.",name:"ordersPackedPerHour",value:e.ordersPackedPerHour,onChange:u})]})]}),A.jsxs("fieldset",{className:"border-2 border-gray-200 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800/30 rounded-xl p-4 pt-5 relative shadow-sm transition-colors hover:border-gray-300 dark:hover:border-gray-600",children:[A.jsxs("legend",{className:"text-sm font-bold flex items-center gap-2 px-3 py-1 rounded-lg text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 absolute -top-3 left-3 shadow-sm border border-gray-200 dark:border-gray-700",children:[A.jsx(Tv,{size:16}),"Standardy Logistyczne"]}),A.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-1",children:[A.jsx(Dt,{label:"Czas zmiany (h)",name:"workHours",value:e.workHours,onChange:u}),A.jsx(Dt,{label:"Pracownicy (ob.)",name:"currentEmployees",value:e.currentEmployees,onChange:u}),A.jsx(Dt,{label:"Przerwy (min)",name:"breakTime",value:e.breakTime,onChange:u}),A.jsx(Dt,{label:"Wydajno (%)",name:"processEfficiency",value:e.processEfficiency,onChange:u})]})]}),A.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700 flex flex-col gap-3 shrink-0",children:[A.jsxs(Yr,{type:"submit",fullWidth:!0,className:"py-3 text-lg shadow-md",children:[A.jsx(F3,{size:20,className:"mr-2 fill-current"}),"Oblicz Zapotrzebowanie"]}),A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[A.jsx(Yr,{type:"button",onClick:i,variant:"secondary",fullWidth:!0,className:o?"border-blue-600 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20":"border-green-600 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",children:o?A.jsxs(A.Fragment,{children:[A.jsx(j3,{size:18,className:"mr-2"}),"Aktualizuj"]}):A.jsxs(A.Fragment,{children:[A.jsx(pP,{size:18,className:"mr-2"}),"Zapisz"]})}),A.jsxs(Yr,{type:"button",onClick:r,variant:"secondary",fullWidth:!0,children:[A.jsx(N3,{size:18,className:"mr-2"}),"Demo"]})]})]})]})]})};function yP(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=yP(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function le(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=yP(e))&&(r&&(r+=" "),r+=t);return r}var Y3=Array.isArray,Ht=Y3,X3=typeof su=="object"&&su&&su.Object===Object&&su,vP=X3,Q3=vP,Z3=typeof self=="object"&&self&&self.Object===Object&&self,eH=Q3||Z3||Function("return this")(),Jn=eH,tH=Jn,nH=tH.Symbol,Ql=nH,K_=Ql,wP=Object.prototype,rH=wP.hasOwnProperty,iH=wP.toString,ss=K_?K_.toStringTag:void 0;function oH(e){var t=rH.call(e,ss),n=e[ss];try{e[ss]=void 0;var r=!0}catch{}var i=iH.call(e);return r&&(t?e[ss]=n:delete e[ss]),i}var aH=oH,sH=Object.prototype,lH=sH.toString;function uH(e){return lH.call(e)}var cH=uH,J_=Ql,fH=aH,dH=cH,hH="[object Null]",pH="[object Undefined]",Y_=J_?J_.toStringTag:void 0;function mH(e){return e==null?e===void 0?pH:hH:Y_&&Y_ in Object(e)?fH(e):dH(e)}var Er=mH;function gH(e){return e!=null&&typeof e=="object"}var Tr=gH,yH=Er,vH=Tr,wH="[object Symbol]";function bH(e){return typeof e=="symbol"||vH(e)&&yH(e)==wH}var Da=bH,_H=Ht,SH=Da,xH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,EH=/^\w*$/;function TH(e,t){if(_H(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||SH(e)?!0:EH.test(e)||!xH.test(e)||t!=null&&e in Object(t)}var Cv=TH;function AH(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var si=AH;const La=be(si);var CH=Er,PH=si,kH="[object AsyncFunction]",IH="[object Function]",OH="[object GeneratorFunction]",RH="[object Proxy]";function NH(e){if(!PH(e))return!1;var t=CH(e);return t==IH||t==OH||t==kH||t==RH}var Pv=NH;const ie=be(Pv);var MH=Jn,$H=MH["__core-js_shared__"],DH=$H,Xh=DH,X_=function(){var e=/[^.]+$/.exec(Xh&&Xh.keys&&Xh.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function LH(e){return!!X_&&X_ in e}var UH=LH,jH=Function.prototype,FH=jH.toString;function BH(e){if(e!=null){try{return FH.call(e)}catch{}try{return e+""}catch{}}return""}var bP=BH,zH=Pv,HH=UH,VH=si,GH=bP,qH=/[\\^$.*+?()[\]{}|]/g,WH=/^\[object .+?Constructor\]$/,KH=Function.prototype,JH=Object.prototype,YH=KH.toString,XH=JH.hasOwnProperty,QH=RegExp("^"+YH.call(XH).replace(qH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ZH(e){if(!VH(e)||HH(e))return!1;var t=zH(e)?QH:WH;return t.test(GH(e))}var eV=ZH;function tV(e,t){return e==null?void 0:e[t]}var nV=tV,rV=eV,iV=nV;function oV(e,t){var n=iV(e,t);return rV(n)?n:void 0}var eo=oV,aV=eo,sV=aV(Object,"create"),yd=sV,Q_=yd;function lV(){this.__data__=Q_?Q_(null):{},this.size=0}var uV=lV;function cV(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var fV=cV,dV=yd,hV="__lodash_hash_undefined__",pV=Object.prototype,mV=pV.hasOwnProperty;function gV(e){var t=this.__data__;if(dV){var n=t[e];return n===hV?void 0:n}return mV.call(t,e)?t[e]:void 0}var yV=gV,vV=yd,wV=Object.prototype,bV=wV.hasOwnProperty;function _V(e){var t=this.__data__;return vV?t[e]!==void 0:bV.call(t,e)}var SV=_V,xV=yd,EV="__lodash_hash_undefined__";function TV(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=xV&&t===void 0?EV:t,this}var AV=TV,CV=uV,PV=fV,kV=yV,IV=SV,OV=AV;function Ua(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ua.prototype.clear=CV;Ua.prototype.delete=PV;Ua.prototype.get=kV;Ua.prototype.has=IV;Ua.prototype.set=OV;var RV=Ua;function NV(){this.__data__=[],this.size=0}var MV=NV;function $V(e,t){return e===t||e!==e&&t!==t}var kv=$V,DV=kv;function LV(e,t){for(var n=e.length;n--;)if(DV(e[n][0],t))return n;return-1}var vd=LV,UV=vd,jV=Array.prototype,FV=jV.splice;function BV(e){var t=this.__data__,n=UV(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():FV.call(t,n,1),--this.size,!0}var zV=BV,HV=vd;function VV(e){var t=this.__data__,n=HV(t,e);return n<0?void 0:t[n][1]}var GV=VV,qV=vd;function WV(e){return qV(this.__data__,e)>-1}var KV=WV,JV=vd;function YV(e,t){var n=this.__data__,r=JV(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var XV=YV,QV=MV,ZV=zV,eG=GV,tG=KV,nG=XV;function ja(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ja.prototype.clear=QV;ja.prototype.delete=ZV;ja.prototype.get=eG;ja.prototype.has=tG;ja.prototype.set=nG;var wd=ja,rG=eo,iG=Jn,oG=rG(iG,"Map"),Iv=oG,Z_=RV,aG=wd,sG=Iv;function lG(){this.size=0,this.__data__={hash:new Z_,map:new(sG||aG),string:new Z_}}var uG=lG;function cG(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var fG=cG,dG=fG;function hG(e,t){var n=e.__data__;return dG(t)?n[typeof t=="string"?"string":"hash"]:n.map}var bd=hG,pG=bd;function mG(e){var t=pG(this,e).delete(e);return this.size-=t?1:0,t}var gG=mG,yG=bd;function vG(e){return yG(this,e).get(e)}var wG=vG,bG=bd;function _G(e){return bG(this,e).has(e)}var SG=_G,xG=bd;function EG(e,t){var n=xG(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var TG=EG,AG=uG,CG=gG,PG=wG,kG=SG,IG=TG;function Fa(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Fa.prototype.clear=AG;Fa.prototype.delete=CG;Fa.prototype.get=PG;Fa.prototype.has=kG;Fa.prototype.set=IG;var Ov=Fa,_P=Ov,OG="Expected a function";function Rv(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(OG);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Rv.Cache||_P),n}Rv.Cache=_P;var SP=Rv;const RG=be(SP);var NG=SP,MG=500;function $G(e){var t=NG(e,function(r){return n.size===MG&&n.clear(),r}),n=t.cache;return t}var DG=$G,LG=DG,UG=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jG=/\\(\\)?/g,FG=LG(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(UG,function(n,r,i,o){t.push(i?o.replace(jG,"$1"):r||n)}),t}),BG=FG;function zG(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var Nv=zG,eS=Ql,HG=Nv,VG=Ht,GG=Da,tS=eS?eS.prototype:void 0,nS=tS?tS.toString:void 0;function xP(e){if(typeof e=="string")return e;if(VG(e))return HG(e,xP)+"";if(GG(e))return nS?nS.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var qG=xP,WG=qG;function KG(e){return e==null?"":WG(e)}var EP=KG,JG=Ht,YG=Cv,XG=BG,QG=EP;function ZG(e,t){return JG(e)?e:YG(e,t)?[e]:XG(QG(e))}var TP=ZG,e4=Da;function t4(e){if(typeof e=="string"||e4(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var _d=t4,n4=TP,r4=_d;function i4(e,t){t=n4(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[r4(t[n++])];return n&&n==r?e:void 0}var Mv=i4,o4=Mv;function a4(e,t,n){var r=e==null?void 0:o4(e,t);return r===void 0?n:r}var AP=a4;const Qt=be(AP);function s4(e){return e==null}var l4=s4;const ue=be(l4);var u4=Er,c4=Ht,f4=Tr,d4="[object String]";function h4(e){return typeof e=="string"||!c4(e)&&f4(e)&&u4(e)==d4}var p4=h4;const Gi=be(p4);var CP={exports:{}},_e={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v=Symbol.for("react.element"),Dv=Symbol.for("react.portal"),Sd=Symbol.for("react.fragment"),xd=Symbol.for("react.strict_mode"),Ed=Symbol.for("react.profiler"),Td=Symbol.for("react.provider"),Ad=Symbol.for("react.context"),m4=Symbol.for("react.server_context"),Cd=Symbol.for("react.forward_ref"),Pd=Symbol.for("react.suspense"),kd=Symbol.for("react.suspense_list"),Id=Symbol.for("react.memo"),Od=Symbol.for("react.lazy"),g4=Symbol.for("react.offscreen"),PP;PP=Symbol.for("react.module.reference");function wn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case $v:switch(e=e.type,e){case Sd:case Ed:case xd:case Pd:case kd:return e;default:switch(e=e&&e.$$typeof,e){case m4:case Ad:case Cd:case Od:case Id:case Td:return e;default:return t}}case Dv:return t}}}_e.ContextConsumer=Ad;_e.ContextProvider=Td;_e.Element=$v;_e.ForwardRef=Cd;_e.Fragment=Sd;_e.Lazy=Od;_e.Memo=Id;_e.Portal=Dv;_e.Profiler=Ed;_e.StrictMode=xd;_e.Suspense=Pd;_e.SuspenseList=kd;_e.isAsyncMode=function(){return!1};_e.isConcurrentMode=function(){return!1};_e.isContextConsumer=function(e){return wn(e)===Ad};_e.isContextProvider=function(e){return wn(e)===Td};_e.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===$v};_e.isForwardRef=function(e){return wn(e)===Cd};_e.isFragment=function(e){return wn(e)===Sd};_e.isLazy=function(e){return wn(e)===Od};_e.isMemo=function(e){return wn(e)===Id};_e.isPortal=function(e){return wn(e)===Dv};_e.isProfiler=function(e){return wn(e)===Ed};_e.isStrictMode=function(e){return wn(e)===xd};_e.isSuspense=function(e){return wn(e)===Pd};_e.isSuspenseList=function(e){return wn(e)===kd};_e.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Sd||e===Ed||e===xd||e===Pd||e===kd||e===g4||typeof e=="object"&&e!==null&&(e.$$typeof===Od||e.$$typeof===Id||e.$$typeof===Td||e.$$typeof===Ad||e.$$typeof===Cd||e.$$typeof===PP||e.getModuleId!==void 0)};_e.typeOf=wn;CP.exports=_e;var y4=CP.exports,v4=Er,w4=Tr,b4="[object Number]";function _4(e){return typeof e=="number"||w4(e)&&v4(e)==b4}var kP=_4;const S4=be(kP);var x4=kP;function E4(e){return x4(e)&&e!=+e}var T4=E4;const Zl=be(T4);var Ct=function(t){return t===0?0:t>0?1:-1},Ri=function(t){return Gi(t)&&t.indexOf("%")===t.length-1},W=function(t){return S4(t)&&!Zl(t)},A4=function(t){return ue(t)},nt=function(t){return W(t)||Gi(t)},C4=0,eu=function(t){var n=++C4;return"".concat(t||"").concat(n)},Pt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!W(t)&&!Gi(t))return r;var o;if(Ri(t)){var a=t.indexOf("%");o=n*parseFloat(t.slice(0,a))/100}else o=+t;return Zl(o)&&(o=r),i&&o>n&&(o=n),o},Ur=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},P4=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},Nr=function(t,n){return W(t)&&W(n)?function(r){return t+r*(n-t)}:function(){return n}};function qm(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Qt(r,t))===n})}var k4=function(t,n){return W(t)&&W(n)?t-n:Gi(t)&&Gi(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function Jo(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}var I4=["viewBox","children"],O4=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],rS=["points","pathLength"],Qh={svg:I4,polygon:rS,polyline:rS},Lv=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Vc=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(j.isValidElement(t)&&(r=t.props),!La(r))return null;var i={};return Object.keys(r).forEach(function(o){Lv.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},R4=function(t,n,r){return function(i){return t(n,r,i),null}},qi=function(t,n,r){if(!La(t)||Wm(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(o){var a=t[o];Lv.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=R4(a,n,r))}),i},N4=["children"],M4=["children"];function iS(e,t){if(e==null)return{};var n=$4(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $4(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var oS={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ur=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},aS=null,Zh=null,Uv=function e(t){if(t===aS&&Array.isArray(Zh))return Zh;var n=[];return j.Children.forEach(t,function(r){ue(r)||(y4.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),Zh=n,aS=t,n};function pn(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return ur(i)}):r=[ur(t)],Uv(e).forEach(function(i){var o=Qt(i,"type.displayName")||Qt(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Wt(e,t){var n=pn(e,t);return n&&n[0]}var sS=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!W(r)||r<=0||!W(i)||i<=0)},D4=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],L4=function(t){return t&&t.type&&Gi(t.type)&&D4.indexOf(t.type)>=0},U4=function(t,n,r,i){var o,a=(o=Qh==null?void 0:Qh[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!ie(t)&&(i&&a.includes(n)||O4.includes(n))||r&&Lv.includes(n)},re=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(j.isValidElement(t)&&(i=t.props),!La(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;U4((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},Km=function e(t,n){if(t===n)return!0;var r=j.Children.count(t);if(r!==j.Children.count(n))return!1;if(r===0)return!0;if(r===1)return lS(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=t[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!e(o,a))return!1}else if(!lS(o,a))return!1}return!0},lS=function(t,n){if(ue(t)&&ue(n))return!0;if(!ue(t)&&!ue(n)){var r=t.props||{},i=r.children,o=iS(r,N4),a=n.props||{},s=a.children,l=iS(a,M4);return i&&s?Jo(o,l)&&Km(i,s):!i&&!s?Jo(o,l):!1}return!1},uS=function(t,n){var r=[],i={};return Uv(t).forEach(function(o,a){if(L4(o))r.push(o);else if(o){var s=ur(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},j4=function(t){var n=t&&t.type;return n&&oS[n]?oS[n]:null},F4=function(t,n){return Uv(n).indexOf(t)},B4=["children","width","height","viewBox","className","style","title","desc"];function Jm(){return Jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jm.apply(this,arguments)}function z4(e,t){if(e==null)return{};var n=H4(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function H4(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ym(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,o=e.className,a=e.style,s=e.title,l=e.desc,u=z4(e,B4),c=i||{width:n,height:r,x:0,y:0},f=le("recharts-surface",o);return k.createElement("svg",Jm({},re(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),k.createElement("title",null,s),k.createElement("desc",null,l),t)}var V4=["children","className"];function Xm(){return Xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xm.apply(this,arguments)}function G4(e,t){if(e==null)return{};var n=q4(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function q4(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var ve=k.forwardRef(function(e,t){var n=e.children,r=e.className,i=G4(e,V4),o=le("recharts-layer",r);return k.createElement("g",Xm({className:o},re(i,!0),{ref:t}),n)}),Dn=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function W4(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}var K4=W4,J4=K4;function Y4(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:J4(e,t,n)}var X4=Y4,Q4="\\ud800-\\udfff",Z4="\\u0300-\\u036f",eq="\\ufe20-\\ufe2f",tq="\\u20d0-\\u20ff",nq=Z4+eq+tq,rq="\\ufe0e\\ufe0f",iq="\\u200d",oq=RegExp("["+iq+Q4+nq+rq+"]");function aq(e){return oq.test(e)}var IP=aq;function sq(e){return e.split("")}var lq=sq,OP="\\ud800-\\udfff",uq="\\u0300-\\u036f",cq="\\ufe20-\\ufe2f",fq="\\u20d0-\\u20ff",dq=uq+cq+fq,hq="\\ufe0e\\ufe0f",pq="["+OP+"]",Qm="["+dq+"]",Zm="\\ud83c[\\udffb-\\udfff]",mq="(?:"+Qm+"|"+Zm+")",RP="[^"+OP+"]",NP="(?:\\ud83c[\\udde6-\\uddff]){2}",MP="[\\ud800-\\udbff][\\udc00-\\udfff]",gq="\\u200d",$P=mq+"?",DP="["+hq+"]?",yq="(?:"+gq+"(?:"+[RP,NP,MP].join("|")+")"+DP+$P+")*",vq=DP+$P+yq,wq="(?:"+[RP+Qm+"?",Qm,NP,MP,pq].join("|")+")",bq=RegExp(Zm+"(?="+Zm+")|"+wq+vq,"g");function _q(e){return e.match(bq)||[]}var Sq=_q,xq=lq,Eq=IP,Tq=Sq;function Aq(e){return Eq(e)?Tq(e):xq(e)}var Cq=Aq,Pq=X4,kq=IP,Iq=Cq,Oq=EP;function Rq(e){return function(t){t=Oq(t);var n=kq(t)?Iq(t):void 0,r=n?n[0]:t.charAt(0),i=n?Pq(n,1).join(""):t.slice(1);return r[e]()+i}}var Nq=Rq,Mq=Nq,$q=Mq("toUpperCase"),Dq=$q;const Rd=be(Dq);function Ae(e){return function(){return e}}const LP=Math.cos,Gc=Math.sin,jn=Math.sqrt,qc=Math.PI,Nd=2*qc,eg=Math.PI,tg=2*eg,Si=1e-6,Lq=tg-Si;function UP(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Uq(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return UP;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class jq{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?UP:Uq(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-t,u=i-n,c=a-t,f=s-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Si)if(!(Math.abs(f*l-u*c)>Si)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-a,g=i-s,y=l*l+u*u,b=m*m+g*g,v=Math.sqrt(y),w=Math.sqrt(h),_=o*Math.tan((eg-Math.acos((y+h-b)/(2*v*w)))/2),E=_/w,S=_/v;Math.abs(E-1)>Si&&this._append`L${t+E*c},${n+E*f}`,this._append`A${o},${o},0,0,${+(f*m>c*g)},${this._x1=t+S*l},${this._y1=n+S*u}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=t+s,c=n+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Si||Math.abs(this._y1-c)>Si)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%tg+tg),h>Lq?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>Si&&this._append`A${r},${r},0,${+(h>=eg)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function jv(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new jq(t)}function Fv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function jP(e){this._context=e}jP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Md(e){return new jP(e)}function FP(e){return e[0]}function BP(e){return e[1]}function zP(e,t){var n=Ae(!0),r=null,i=Md,o=null,a=jv(s);e=typeof e=="function"?e:e===void 0?FP:Ae(e),t=typeof t=="function"?t:t===void 0?BP:Ae(t);function s(l){var u,c=(l=Fv(l)).length,f,h=!1,m;for(r==null&&(o=i(m=a())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(f,u,l),+t(f,u,l));if(m)return o=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ae(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ae(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ae(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Du(e,t,n){var r=null,i=Ae(!0),o=null,a=Md,s=null,l=jv(u);e=typeof e=="function"?e:e===void 0?FP:Ae(+e),t=typeof t=="function"?t:Ae(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?BP:Ae(+n);function u(f){var h,m,g,y=(f=Fv(f)).length,b,v=!1,w,_=new Array(y),E=new Array(y);for(o==null&&(s=a(w=l())),h=0;h<=y;++h){if(!(h<y&&i(b=f[h],h,f))===v)if(v=!v)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=m;--g)s.point(_[g],E[g]);s.lineEnd(),s.areaEnd()}v&&(_[h]=+e(b,h,f),E[h]=+t(b,h,f),s.point(r?+r(b,h,f):_[h],n?+n(b,h,f):E[h]))}if(w)return s=null,w+""||null}function c(){return zP().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ae(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ae(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ae(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ae(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ae(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ae(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ae(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class HP{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Fq(e){return new HP(e,!0)}function Bq(e){return new HP(e,!1)}const Bv={draw(e,t){const n=jn(t/qc);e.moveTo(n,0),e.arc(0,0,n,0,Nd)}},zq={draw(e,t){const n=jn(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},VP=jn(1/3),Hq=VP*2,Vq={draw(e,t){const n=jn(t/Hq),r=n*VP;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Gq={draw(e,t){const n=jn(t),r=-n/2;e.rect(r,r,n,n)}},qq=.8908130915292852,GP=Gc(qc/10)/Gc(7*qc/10),Wq=Gc(Nd/10)*GP,Kq=-LP(Nd/10)*GP,Jq={draw(e,t){const n=jn(t*qq),r=Wq*n,i=Kq*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const a=Nd*o/5,s=LP(a),l=Gc(a);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}},ep=jn(3),Yq={draw(e,t){const n=-jn(t/(ep*3));e.moveTo(0,n*2),e.lineTo(-ep*n,-n),e.lineTo(ep*n,-n),e.closePath()}},rn=-.5,on=jn(3)/2,ng=1/jn(12),Xq=(ng/2+1)*3,Qq={draw(e,t){const n=jn(t/Xq),r=n/2,i=n*ng,o=r,a=n*ng+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(rn*r-on*i,on*r+rn*i),e.lineTo(rn*o-on*a,on*o+rn*a),e.lineTo(rn*s-on*l,on*s+rn*l),e.lineTo(rn*r+on*i,rn*i-on*r),e.lineTo(rn*o+on*a,rn*a-on*o),e.lineTo(rn*s+on*l,rn*l-on*s),e.closePath()}};function Zq(e,t){let n=null,r=jv(i);e=typeof e=="function"?e:Ae(e||Bv),t=typeof t=="function"?t:Ae(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:Ae(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:Ae(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Wc(){}function Kc(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function qP(e){this._context=e}qP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Kc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Kc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function e8(e){return new qP(e)}function WP(e){this._context=e}WP.prototype={areaStart:Wc,areaEnd:Wc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Kc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function t8(e){return new WP(e)}function KP(e){this._context=e}KP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Kc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function n8(e){return new KP(e)}function JP(e){this._context=e}JP.prototype={areaStart:Wc,areaEnd:Wc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function r8(e){return new JP(e)}function cS(e){return e<0?-1:1}function fS(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(cS(o)+cS(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function dS(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function tp(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function Jc(e){this._context=e}Jc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tp(this,this._t0,dS(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,tp(this,dS(this,n=fS(this,e,t)),n);break;default:tp(this,this._t0,n=fS(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function YP(e){this._context=new XP(e)}(YP.prototype=Object.create(Jc.prototype)).point=function(e,t){Jc.prototype.point.call(this,t,e)};function XP(e){this._context=e}XP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function i8(e){return new Jc(e)}function o8(e){return new YP(e)}function QP(e){this._context=e}QP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=hS(e),i=hS(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function hS(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function a8(e){return new QP(e)}function $d(e,t){this._context=e,this._t=t}$d.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function s8(e){return new $d(e,.5)}function l8(e){return new $d(e,0)}function u8(e){return new $d(e,1)}function oa(e,t){if((a=e.length)>1)for(var n=1,r,i,o=e[t[0]],a,s=o.length;n<a;++n)for(i=o,o=e[t[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function rg(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function c8(e,t){return e[t]}function f8(e){const t=[];return t.key=e,t}function d8(){var e=Ae([]),t=rg,n=oa,r=c8;function i(o){var a=Array.from(e.apply(this,arguments),f8),s,l=a.length,u=-1,c;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,c=Fv(t(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Ae(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ae(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?rg:typeof o=="function"?o:Ae(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??oa,i):n},i}function h8(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}oa(e,t)}}function p8(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=e[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}oa(e,t)}}function m8(e,t){if(!(!((a=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=e[t[s]],f=c[r][1]||0,h=c[r-1][1]||0,m=(f-h)/2,g=0;g<s;++g){var y=e[t[g]],b=y[r][1]||0,v=y[r-1][1]||0;m+=b-v}l+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,oa(e,t)}}function fl(e){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fl(e)}var g8=["type","size","sizeType"];function ig(){return ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ig.apply(this,arguments)}function pS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(n),!0).forEach(function(r){y8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y8(e,t,n){return t=v8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v8(e){var t=w8(e,"string");return fl(t)=="symbol"?t:t+""}function w8(e,t){if(fl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b8(e,t){if(e==null)return{};var n=_8(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _8(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var ZP={symbolCircle:Bv,symbolCross:zq,symbolDiamond:Vq,symbolSquare:Gq,symbolStar:Jq,symbolTriangle:Yq,symbolWye:Qq},S8=Math.PI/180,x8=function(t){var n="symbol".concat(Rd(t));return ZP[n]||Bv},E8=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*S8;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},T8=function(t,n){ZP["symbol".concat(Rd(t))]=n},zv=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,o=i===void 0?64:i,a=t.sizeType,s=a===void 0?"area":a,l=b8(t,g8),u=mS(mS({},l),{},{type:r,size:o,sizeType:s}),c=function(){var b=x8(r),v=Zq().type(b).size(E8(o,s,r));return v()},f=u.className,h=u.cx,m=u.cy,g=re(u,!0);return h===+h&&m===+m&&o===+o?k.createElement("path",ig({},g,{className:le("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:c()})):null};zv.registerSymbol=T8;function aa(e){"@babel/helpers - typeof";return aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aa(e)}function og(){return og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},og.apply(this,arguments)}function gS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function A8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gS(Object(n),!0).forEach(function(r){dl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function C8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tk(r.key),r)}}function k8(e,t,n){return t&&P8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function I8(e,t,n){return t=Yc(t),O8(e,ek()?Reflect.construct(t,n||[],Yc(e).constructor):t.apply(e,n))}function O8(e,t){if(t&&(aa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R8(e)}function R8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ek(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ek=function(){return!!e})()}function Yc(e){return Yc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yc(e)}function N8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ag(e,t)}function ag(e,t){return ag=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ag(e,t)}function dl(e,t,n){return t=tk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tk(e){var t=M8(e,"string");return aa(t)=="symbol"?t:t+""}function M8(e,t){if(aa(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(aa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var an=32,Hv=function(e){function t(){return C8(this,t),I8(this,t,arguments)}return N8(t,e),k8(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=an/2,a=an/6,s=an/3,l=r.inactive?i:r.color;if(r.type==="plainline")return k.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:an,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return k.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(an,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return k.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(an/8,"h").concat(an,"v").concat(an*3/4,"h").concat(-an,"z"),className:"recharts-legend-icon"});if(k.isValidElement(r.legendIcon)){var u=A8({},r);return delete u.legendIcon,k.cloneElement(r.legendIcon,u)}return k.createElement(zv,{fill:l,cx:o,cy:o,size:an,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:an,height:an},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(m,g){var y=m.formatter||l,b=le(dl(dl({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var v=ie(m.value)?null:m.value;Dn(!ie(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=m.inactive?u:m.color;return k.createElement("li",og({className:b,style:f,key:"legend-item-".concat(g)},qi(r.props,m,g)),k.createElement(Ym,{width:a,height:a,viewBox:c,style:h},r.renderIcon(m)),k.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},y?y(v,m,g):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return k.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(j.PureComponent);dl(Hv,"displayName","Legend");dl(Hv,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var $8=wd;function D8(){this.__data__=new $8,this.size=0}var L8=D8;function U8(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var j8=U8;function F8(e){return this.__data__.get(e)}var B8=F8;function z8(e){return this.__data__.has(e)}var H8=z8,V8=wd,G8=Iv,q8=Ov,W8=200;function K8(e,t){var n=this.__data__;if(n instanceof V8){var r=n.__data__;if(!G8||r.length<W8-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new q8(r)}return n.set(e,t),this.size=n.size,this}var J8=K8,Y8=wd,X8=L8,Q8=j8,Z8=B8,e5=H8,t5=J8;function Ba(e){var t=this.__data__=new Y8(e);this.size=t.size}Ba.prototype.clear=X8;Ba.prototype.delete=Q8;Ba.prototype.get=Z8;Ba.prototype.has=e5;Ba.prototype.set=t5;var nk=Ba,n5="__lodash_hash_undefined__";function r5(e){return this.__data__.set(e,n5),this}var i5=r5;function o5(e){return this.__data__.has(e)}var a5=o5,s5=Ov,l5=i5,u5=a5;function Xc(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new s5;++t<n;)this.add(e[t])}Xc.prototype.add=Xc.prototype.push=l5;Xc.prototype.has=u5;var rk=Xc;function c5(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var ik=c5;function f5(e,t){return e.has(t)}var ok=f5,d5=rk,h5=ik,p5=ok,m5=1,g5=2;function y5(e,t,n,r,i,o){var a=n&m5,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e),c=o.get(t);if(u&&c)return u==t&&c==e;var f=-1,h=!0,m=n&g5?new d5:void 0;for(o.set(e,t),o.set(t,e);++f<s;){var g=e[f],y=t[f];if(r)var b=a?r(y,g,f,t,e,o):r(g,y,f,e,t,o);if(b!==void 0){if(b)continue;h=!1;break}if(m){if(!h5(t,function(v,w){if(!p5(m,w)&&(g===v||i(g,v,n,r,o)))return m.push(w)})){h=!1;break}}else if(!(g===y||i(g,y,n,r,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var ak=y5,v5=Jn,w5=v5.Uint8Array,b5=w5;function _5(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var S5=_5;function x5(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Vv=x5,yS=Ql,vS=b5,E5=kv,T5=ak,A5=S5,C5=Vv,P5=1,k5=2,I5="[object Boolean]",O5="[object Date]",R5="[object Error]",N5="[object Map]",M5="[object Number]",$5="[object RegExp]",D5="[object Set]",L5="[object String]",U5="[object Symbol]",j5="[object ArrayBuffer]",F5="[object DataView]",wS=yS?yS.prototype:void 0,np=wS?wS.valueOf:void 0;function B5(e,t,n,r,i,o,a){switch(n){case F5:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case j5:return!(e.byteLength!=t.byteLength||!o(new vS(e),new vS(t)));case I5:case O5:case M5:return E5(+e,+t);case R5:return e.name==t.name&&e.message==t.message;case $5:case L5:return e==t+"";case N5:var s=A5;case D5:var l=r&P5;if(s||(s=C5),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=k5,a.set(e,t);var c=T5(s(e),s(t),r,i,o,a);return a.delete(e),c;case U5:if(np)return np.call(e)==np.call(t)}return!1}var z5=B5;function H5(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var sk=H5,V5=sk,G5=Ht;function q5(e,t,n){var r=t(e);return G5(e)?r:V5(r,n(e))}var W5=q5;function K5(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}var J5=K5;function Y5(){return[]}var X5=Y5,Q5=J5,Z5=X5,eW=Object.prototype,tW=eW.propertyIsEnumerable,bS=Object.getOwnPropertySymbols,nW=bS?function(e){return e==null?[]:(e=Object(e),Q5(bS(e),function(t){return tW.call(e,t)}))}:Z5,rW=nW;function iW(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var oW=iW,aW=Er,sW=Tr,lW="[object Arguments]";function uW(e){return sW(e)&&aW(e)==lW}var cW=uW,_S=cW,fW=Tr,lk=Object.prototype,dW=lk.hasOwnProperty,hW=lk.propertyIsEnumerable,pW=_S(function(){return arguments}())?_S:function(e){return fW(e)&&dW.call(e,"callee")&&!hW.call(e,"callee")},Gv=pW,Qc={exports:{}};function mW(){return!1}var gW=mW;Qc.exports;(function(e,t){var n=Jn,r=gW,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;e.exports=u})(Qc,Qc.exports);var uk=Qc.exports,yW=9007199254740991,vW=/^(?:0|[1-9]\d*)$/;function wW(e,t){var n=typeof e;return t=t??yW,!!t&&(n=="number"||n!="symbol"&&vW.test(e))&&e>-1&&e%1==0&&e<t}var qv=wW,bW=9007199254740991;function _W(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=bW}var Wv=_W,SW=Er,xW=Wv,EW=Tr,TW="[object Arguments]",AW="[object Array]",CW="[object Boolean]",PW="[object Date]",kW="[object Error]",IW="[object Function]",OW="[object Map]",RW="[object Number]",NW="[object Object]",MW="[object RegExp]",$W="[object Set]",DW="[object String]",LW="[object WeakMap]",UW="[object ArrayBuffer]",jW="[object DataView]",FW="[object Float32Array]",BW="[object Float64Array]",zW="[object Int8Array]",HW="[object Int16Array]",VW="[object Int32Array]",GW="[object Uint8Array]",qW="[object Uint8ClampedArray]",WW="[object Uint16Array]",KW="[object Uint32Array]",Ie={};Ie[FW]=Ie[BW]=Ie[zW]=Ie[HW]=Ie[VW]=Ie[GW]=Ie[qW]=Ie[WW]=Ie[KW]=!0;Ie[TW]=Ie[AW]=Ie[UW]=Ie[CW]=Ie[jW]=Ie[PW]=Ie[kW]=Ie[IW]=Ie[OW]=Ie[RW]=Ie[NW]=Ie[MW]=Ie[$W]=Ie[DW]=Ie[LW]=!1;function JW(e){return EW(e)&&xW(e.length)&&!!Ie[SW(e)]}var YW=JW;function XW(e){return function(t){return e(t)}}var ck=XW,Zc={exports:{}};Zc.exports;(function(e,t){var n=vP,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s})(Zc,Zc.exports);var QW=Zc.exports,ZW=YW,e6=ck,SS=QW,xS=SS&&SS.isTypedArray,t6=xS?e6(xS):ZW,fk=t6,n6=oW,r6=Gv,i6=Ht,o6=uk,a6=qv,s6=fk,l6=Object.prototype,u6=l6.hasOwnProperty;function c6(e,t){var n=i6(e),r=!n&&r6(e),i=!n&&!r&&o6(e),o=!n&&!r&&!i&&s6(e),a=n||r||i||o,s=a?n6(e.length,String):[],l=s.length;for(var u in e)(t||u6.call(e,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||a6(u,l)))&&s.push(u);return s}var f6=c6,d6=Object.prototype;function h6(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||d6;return e===n}var p6=h6;function m6(e,t){return function(n){return e(t(n))}}var dk=m6,g6=dk,y6=g6(Object.keys,Object),v6=y6,w6=p6,b6=v6,_6=Object.prototype,S6=_6.hasOwnProperty;function x6(e){if(!w6(e))return b6(e);var t=[];for(var n in Object(e))S6.call(e,n)&&n!="constructor"&&t.push(n);return t}var E6=x6,T6=Pv,A6=Wv;function C6(e){return e!=null&&A6(e.length)&&!T6(e)}var tu=C6,P6=f6,k6=E6,I6=tu;function O6(e){return I6(e)?P6(e):k6(e)}var Dd=O6,R6=W5,N6=rW,M6=Dd;function $6(e){return R6(e,M6,N6)}var D6=$6,ES=D6,L6=1,U6=Object.prototype,j6=U6.hasOwnProperty;function F6(e,t,n,r,i,o){var a=n&L6,s=ES(e),l=s.length,u=ES(t),c=u.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in t:j6.call(t,h)))return!1}var m=o.get(e),g=o.get(t);if(m&&g)return m==t&&g==e;var y=!0;o.set(e,t),o.set(t,e);for(var b=a;++f<l;){h=s[f];var v=e[h],w=t[h];if(r)var _=a?r(w,v,h,t,e,o):r(v,w,h,e,t,o);if(!(_===void 0?v===w||i(v,w,n,r,o):_)){y=!1;break}b||(b=h=="constructor")}if(y&&!b){var E=e.constructor,S=t.constructor;E!=S&&"constructor"in e&&"constructor"in t&&!(typeof E=="function"&&E instanceof E&&typeof S=="function"&&S instanceof S)&&(y=!1)}return o.delete(e),o.delete(t),y}var B6=F6,z6=eo,H6=Jn,V6=z6(H6,"DataView"),G6=V6,q6=eo,W6=Jn,K6=q6(W6,"Promise"),J6=K6,Y6=eo,X6=Jn,Q6=Y6(X6,"Set"),hk=Q6,Z6=eo,eK=Jn,tK=Z6(eK,"WeakMap"),nK=tK,sg=G6,lg=Iv,ug=J6,cg=hk,fg=nK,pk=Er,za=bP,TS="[object Map]",rK="[object Object]",AS="[object Promise]",CS="[object Set]",PS="[object WeakMap]",kS="[object DataView]",iK=za(sg),oK=za(lg),aK=za(ug),sK=za(cg),lK=za(fg),xi=pk;(sg&&xi(new sg(new ArrayBuffer(1)))!=kS||lg&&xi(new lg)!=TS||ug&&xi(ug.resolve())!=AS||cg&&xi(new cg)!=CS||fg&&xi(new fg)!=PS)&&(xi=function(e){var t=pk(e),n=t==rK?e.constructor:void 0,r=n?za(n):"";if(r)switch(r){case iK:return kS;case oK:return TS;case aK:return AS;case sK:return CS;case lK:return PS}return t});var uK=xi,rp=nk,cK=ak,fK=z5,dK=B6,IS=uK,OS=Ht,RS=uk,hK=fk,pK=1,NS="[object Arguments]",MS="[object Array]",Lu="[object Object]",mK=Object.prototype,$S=mK.hasOwnProperty;function gK(e,t,n,r,i,o){var a=OS(e),s=OS(t),l=a?MS:IS(e),u=s?MS:IS(t);l=l==NS?Lu:l,u=u==NS?Lu:u;var c=l==Lu,f=u==Lu,h=l==u;if(h&&RS(e)){if(!RS(t))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new rp),a||hK(e)?cK(e,t,n,r,i,o):fK(e,t,l,n,r,i,o);if(!(n&pK)){var m=c&&$S.call(e,"__wrapped__"),g=f&&$S.call(t,"__wrapped__");if(m||g){var y=m?e.value():e,b=g?t.value():t;return o||(o=new rp),i(y,b,n,r,o)}}return h?(o||(o=new rp),dK(e,t,n,r,i,o)):!1}var yK=gK,vK=yK,DS=Tr;function mk(e,t,n,r,i){return e===t?!0:e==null||t==null||!DS(e)&&!DS(t)?e!==e&&t!==t:vK(e,t,n,r,mk,i)}var Kv=mk,wK=nk,bK=Kv,_K=1,SK=2;function xK(e,t,n,r){var i=n.length,o=i,a=!r;if(e==null)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var l=s[0],u=e[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in e))return!1}else{var f=new wK;if(r)var h=r(u,c,l,e,t,f);if(!(h===void 0?bK(c,u,_K|SK,r,f):h))return!1}}return!0}var EK=xK,TK=si;function AK(e){return e===e&&!TK(e)}var gk=AK,CK=gk,PK=Dd;function kK(e){for(var t=PK(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,CK(i)]}return t}var IK=kK;function OK(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var yk=OK,RK=EK,NK=IK,MK=yk;function $K(e){var t=NK(e);return t.length==1&&t[0][2]?MK(t[0][0],t[0][1]):function(n){return n===e||RK(n,e,t)}}var DK=$K;function LK(e,t){return e!=null&&t in Object(e)}var UK=LK,jK=TP,FK=Gv,BK=Ht,zK=qv,HK=Wv,VK=_d;function GK(e,t,n){t=jK(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var a=VK(t[r]);if(!(o=e!=null&&n(e,a)))break;e=e[a]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&HK(i)&&zK(a,i)&&(BK(e)||FK(e)))}var qK=GK,WK=UK,KK=qK;function JK(e,t){return e!=null&&KK(e,t,WK)}var YK=JK,XK=Kv,QK=AP,ZK=YK,e7=Cv,t7=gk,n7=yk,r7=_d,i7=1,o7=2;function a7(e,t){return e7(e)&&t7(t)?n7(r7(e),t):function(n){var r=QK(n,e);return r===void 0&&r===t?ZK(n,e):XK(t,r,i7|o7)}}var s7=a7;function l7(e){return e}var Ha=l7;function u7(e){return function(t){return t==null?void 0:t[e]}}var c7=u7,f7=Mv;function d7(e){return function(t){return f7(t,e)}}var h7=d7,p7=c7,m7=h7,g7=Cv,y7=_d;function v7(e){return g7(e)?p7(y7(e)):m7(e)}var w7=v7,b7=DK,_7=s7,S7=Ha,x7=Ht,E7=w7;function T7(e){return typeof e=="function"?e:e==null?S7:typeof e=="object"?x7(e)?_7(e[0],e[1]):b7(e):E7(e)}var Yn=T7;function A7(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var vk=A7;function C7(e){return e!==e}var P7=C7;function k7(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var I7=k7,O7=vk,R7=P7,N7=I7;function M7(e,t,n){return t===t?N7(e,t,n):O7(e,R7,n)}var $7=M7,D7=$7;function L7(e,t){var n=e==null?0:e.length;return!!n&&D7(e,t,0)>-1}var U7=L7;function j7(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var F7=j7;function B7(){}var z7=B7,ip=hk,H7=z7,V7=Vv,G7=1/0,q7=ip&&1/V7(new ip([,-0]))[1]==G7?function(e){return new ip(e)}:H7,W7=q7,K7=rk,J7=U7,Y7=F7,X7=ok,Q7=W7,Z7=Vv,eJ=200;function tJ(e,t,n){var r=-1,i=J7,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=Y7;else if(o>=eJ){var u=t?null:Q7(e);if(u)return Z7(u);a=!1,i=X7,l=new K7}else l=t?[]:s;e:for(;++r<o;){var c=e[r],f=t?t(c):c;if(c=n||c!==0?c:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var nJ=tJ,rJ=Yn,iJ=nJ;function oJ(e,t){return e&&e.length?iJ(e,rJ(t)):[]}var aJ=oJ;const LS=be(aJ);function wk(e,t,n){return t===!0?LS(e,n):ie(t)?LS(e,t):e}function sa(e){"@babel/helpers - typeof";return sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sa(e)}var sJ=["ref"];function US(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?US(Object(n),!0).forEach(function(r){Ld(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):US(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_k(r.key),r)}}function uJ(e,t,n){return t&&jS(e.prototype,t),n&&jS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cJ(e,t,n){return t=ef(t),fJ(e,bk()?Reflect.construct(t,n||[],ef(e).constructor):t.apply(e,n))}function fJ(e,t){if(t&&(sa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dJ(e)}function dJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bk=function(){return!!e})()}function ef(e){return ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ef(e)}function hJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dg(e,t)}function dg(e,t){return dg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dg(e,t)}function Ld(e,t,n){return t=_k(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _k(e){var t=pJ(e,"string");return sa(t)=="symbol"?t:t+""}function pJ(e,t){if(sa(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function mJ(e,t){if(e==null)return{};var n=gJ(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function gJ(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function yJ(e){return e.value}function vJ(e,t){if(k.isValidElement(e))return k.cloneElement(e,t);if(typeof e=="function")return k.createElement(e,t);t.ref;var n=mJ(t,sJ);return k.createElement(Hv,n)}var FS=1,Xr=function(e){function t(){var n;lJ(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=cJ(this,t,[].concat(i)),Ld(n,"lastBoundingBox",{width:-1,height:-1}),n}return hJ(t,e),uJ(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>FS||Math.abs(i.height-this.lastBoundingBox.height)>FS)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Xn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();h={top:((c||0)-g.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Xn(Xn({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=Xn(Xn({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return k.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},vJ(o,Xn(Xn({},this.props),{},{payload:wk(c,u,yJ)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Xn(Xn({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&W(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(j.PureComponent);Ld(Xr,"displayName","Legend");Ld(Xr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var BS=Ql,wJ=Gv,bJ=Ht,zS=BS?BS.isConcatSpreadable:void 0;function _J(e){return bJ(e)||wJ(e)||!!(zS&&e&&e[zS])}var SJ=_J,xJ=sk,EJ=SJ;function Sk(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=EJ),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?Sk(s,t-1,n,r,i):xJ(i,s):r||(i[i.length]=s)}return i}var xk=Sk;function TJ(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(n(o[l],l,o)===!1)break}return t}}var AJ=TJ,CJ=AJ,PJ=CJ(),kJ=PJ,IJ=kJ,OJ=Dd;function RJ(e,t){return e&&IJ(e,t,OJ)}var Ek=RJ,NJ=tu;function MJ(e,t){return function(n,r){if(n==null)return n;if(!NJ(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var $J=MJ,DJ=Ek,LJ=$J,UJ=LJ(DJ),Jv=UJ,jJ=Jv,FJ=tu;function BJ(e,t){var n=-1,r=FJ(e)?Array(e.length):[];return jJ(e,function(i,o,a){r[++n]=t(i,o,a)}),r}var Tk=BJ;function zJ(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var HJ=zJ,HS=Da;function VJ(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,o=HS(e),a=t!==void 0,s=t===null,l=t===t,u=HS(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var GJ=VJ,qJ=GJ;function WJ(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=qJ(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return e.index-t.index}var KJ=WJ,op=Nv,JJ=Mv,YJ=Yn,XJ=Tk,QJ=HJ,ZJ=ck,e9=KJ,t9=Ha,n9=Ht;function r9(e,t,n){t.length?t=op(t,function(o){return n9(o)?function(a){return JJ(a,o.length===1?o[0]:o)}:o}):t=[t9];var r=-1;t=op(t,ZJ(YJ));var i=XJ(e,function(o,a,s){var l=op(t,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return QJ(i,function(o,a){return e9(o,a,n)})}var i9=r9;function o9(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var a9=o9,s9=a9,VS=Math.max;function l9(e,t,n){return t=VS(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=VS(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),s9(e,this,s)}}var u9=l9;function c9(e){return function(){return e}}var f9=c9,d9=eo,h9=function(){try{var e=d9(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Ak=h9,p9=f9,GS=Ak,m9=Ha,g9=GS?function(e,t){return GS(e,"toString",{configurable:!0,enumerable:!1,value:p9(t),writable:!0})}:m9,y9=g9,v9=800,w9=16,b9=Date.now;function _9(e){var t=0,n=0;return function(){var r=b9(),i=w9-(r-n);if(n=r,i>0){if(++t>=v9)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var S9=_9,x9=y9,E9=S9,T9=E9(x9),A9=T9,C9=Ha,P9=u9,k9=A9;function I9(e,t){return k9(P9(e,t,C9),e+"")}var O9=I9,R9=kv,N9=tu,M9=qv,$9=si;function D9(e,t,n){if(!$9(n))return!1;var r=typeof t;return(r=="number"?N9(n)&&M9(t,n.length):r=="string"&&t in n)?R9(n[t],e):!1}var Ud=D9,L9=xk,U9=i9,j9=O9,qS=Ud,F9=j9(function(e,t){if(e==null)return[];var n=t.length;return n>1&&qS(e,t[0],t[1])?t=[]:n>2&&qS(t[0],t[1],t[2])&&(t=[t[0]]),U9(e,L9(t,1),[])}),B9=F9;const Yv=be(B9);function hl(e){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}function hg(){return hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hg.apply(this,arguments)}function z9(e,t){return q9(e)||G9(e,t)||V9(e,t)||H9()}function H9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V9(e,t){if(e){if(typeof e=="string")return WS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WS(e,t)}}function WS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G9(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function q9(e){if(Array.isArray(e))return e}function KS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ap(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KS(Object(n),!0).forEach(function(r){W9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function W9(e,t,n){return t=K9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K9(e){var t=J9(e,"string");return hl(t)=="symbol"?t:t+""}function J9(e,t){if(hl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y9(e){return Array.isArray(e)&&nt(e[0])&&nt(e[1])?e.join(" ~ "):e}var X9=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,o=i===void 0?{}:i,a=t.itemStyle,s=a===void 0?{}:a,l=t.labelStyle,u=l===void 0?{}:l,c=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,y=t.label,b=t.labelFormatter,v=t.accessibilityLayer,w=v===void 0?!1:v,_=function(){if(c&&c.length){var O={padding:0,margin:0},D=(h?Yv(c,h):c).map(function($,M){if($.type==="none")return null;var L=ap({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},s),z=$.formatter||f||Y9,N=$.value,F=$.name,B=N,H=F;if(z&&B!=null&&H!=null){var q=z(N,F,$,M,c);if(Array.isArray(q)){var Z=z9(q,2);B=Z[0],H=Z[1]}else B=q}return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:L},nt(H)?k.createElement("span",{className:"recharts-tooltip-item-name"},H):null,nt(H)?k.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,k.createElement("span",{className:"recharts-tooltip-item-value"},B),k.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:O},D)}return null},E=ap({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=ap({margin:0},u),x=!ue(y),T=x?y:"",C=le("recharts-default-tooltip",m),P=le("recharts-tooltip-label",g);x&&b&&c!==void 0&&c!==null&&(T=b(y,c));var I=w?{role:"status","aria-live":"assertive"}:{};return k.createElement("div",hg({className:C,style:E},I),k.createElement("p",{className:P,style:S},k.isValidElement(T)?T:"".concat(T)),_())};function pl(e){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(e)}function Uu(e,t,n){return t=Q9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q9(e){var t=Z9(e,"string");return pl(t)=="symbol"?t:t+""}function Z9(e,t){if(pl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ls="recharts-tooltip-wrapper",eY={visibility:"hidden"};function tY(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return le(ls,Uu(Uu(Uu(Uu({},"".concat(ls,"-right"),W(n)&&t&&W(t.x)&&n>=t.x),"".concat(ls,"-left"),W(n)&&t&&W(t.x)&&n<t.x),"".concat(ls,"-bottom"),W(r)&&t&&W(t.y)&&r>=t.y),"".concat(ls,"-top"),W(r)&&t&&W(t.y)&&r<t.y))}function JS(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,o=e.position,a=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(o&&W(o[r]))return o[r];var c=n[r]-s-i,f=n[r]+i;if(t[r])return a[r]?c:f;if(a[r]){var h=c,m=l[r];return h<m?Math.max(f,l[r]):Math.max(c,l[r])}var g=f+s,y=l[r]+u;return g>y?Math.max(c,l[r]):Math.max(f,l[r])}function nY(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function rY(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,o=e.reverseDirection,a=e.tooltipBox,s=e.useTranslate3d,l=e.viewBox,u,c,f;return a.height>0&&a.width>0&&n?(c=JS({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=JS({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=nY({translateX:c,translateY:f,useTranslate3d:s})):u=eY,{cssProperties:u,cssClasses:tY({translateX:c,translateY:f,coordinate:n})}}function la(e){"@babel/helpers - typeof";return la=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},la(e)}function YS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YS(Object(n),!0).forEach(function(r){mg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pk(r.key),r)}}function aY(e,t,n){return t&&oY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sY(e,t,n){return t=tf(t),lY(e,Ck()?Reflect.construct(t,n||[],tf(e).constructor):t.apply(e,n))}function lY(e,t){if(t&&(la(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uY(e)}function uY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ck(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ck=function(){return!!e})()}function tf(e){return tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tf(e)}function cY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pg(e,t)}function pg(e,t){return pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pg(e,t)}function mg(e,t,n){return t=Pk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pk(e){var t=fY(e,"string");return la(t)=="symbol"?t:t+""}function fY(e,t){if(la(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(la(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var QS=1,dY=function(e){function t(){var n;iY(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=sY(this,t,[].concat(i)),mg(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),mg(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return cY(t,e),aY(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>QS||Math.abs(r.height-this.state.lastBoundingBox.height)>QS)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,g=i.position,y=i.reverseDirection,b=i.useTranslate3d,v=i.viewBox,w=i.wrapperStyle,_=rY({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:m,position:g,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:v}),E=_.cssClasses,S=_.cssProperties,x=XS(XS({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return k.createElement("div",{tabIndex:-1,className:E,style:x,ref:function(C){r.wrapperNode=C}},u)}}])}(j.PureComponent),hY=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Va={isSsr:hY()};function ua(e){"@babel/helpers - typeof";return ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ua(e)}function ZS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ex(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZS(Object(n),!0).forEach(function(r){Xv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ik(r.key),r)}}function gY(e,t,n){return t&&mY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yY(e,t,n){return t=nf(t),vY(e,kk()?Reflect.construct(t,n||[],nf(e).constructor):t.apply(e,n))}function vY(e,t){if(t&&(ua(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wY(e)}function wY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kk=function(){return!!e})()}function nf(e){return nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nf(e)}function bY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gg(e,t)}function gg(e,t){return gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gg(e,t)}function Xv(e,t,n){return t=Ik(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ik(e){var t=_Y(e,"string");return ua(t)=="symbol"?t:t+""}function _Y(e,t){if(ua(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ua(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function SY(e){return e.dataKey}function xY(e,t){return k.isValidElement(e)?k.cloneElement(e,t):typeof e=="function"?k.createElement(e,t):k.createElement(X9,t)}var Pn=function(e){function t(){return pY(this,t),yY(this,t,arguments)}return bY(t,e),gY(t,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,g=i.payload,y=i.payloadUniqBy,b=i.position,v=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,E=i.wrapperStyle,S=g??[];f&&S.length&&(S=wk(g.filter(function(T){return T.value!=null&&(T.hide!==!0||r.props.includeHidden)}),y,SY));var x=S.length>0;return k.createElement(dY,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:x,offset:m,position:b,reverseDirection:v,useTranslate3d:w,viewBox:_,wrapperStyle:E},xY(u,ex(ex({},this.props),{},{payload:S})))}}])}(j.PureComponent);Xv(Pn,"displayName","Tooltip");Xv(Pn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Va.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var EY=Jn,TY=function(){return EY.Date.now()},AY=TY,CY=/\s/;function PY(e){for(var t=e.length;t--&&CY.test(e.charAt(t)););return t}var kY=PY,IY=kY,OY=/^\s+/;function RY(e){return e&&e.slice(0,IY(e)+1).replace(OY,"")}var NY=RY,MY=NY,tx=si,$Y=Da,nx=NaN,DY=/^[-+]0x[0-9a-f]+$/i,LY=/^0b[01]+$/i,UY=/^0o[0-7]+$/i,jY=parseInt;function FY(e){if(typeof e=="number")return e;if($Y(e))return nx;if(tx(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=tx(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=MY(e);var n=LY.test(e);return n||UY.test(e)?jY(e.slice(2),n?2:8):DY.test(e)?nx:+e}var Ok=FY,BY=si,sp=AY,rx=Ok,zY="Expected a function",HY=Math.max,VY=Math.min;function GY(e,t,n){var r,i,o,a,s,l,u=0,c=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(zY);t=rx(t)||0,BY(n)&&(c=!!n.leading,f="maxWait"in n,o=f?HY(rx(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h);function m(x){var T=r,C=i;return r=i=void 0,u=x,a=e.apply(C,T),a}function g(x){return u=x,s=setTimeout(v,t),c?m(x):a}function y(x){var T=x-l,C=x-u,P=t-T;return f?VY(P,o-C):P}function b(x){var T=x-l,C=x-u;return l===void 0||T>=t||T<0||f&&C>=o}function v(){var x=sp();if(b(x))return w(x);s=setTimeout(v,y(x))}function w(x){return s=void 0,h&&r?m(x):(r=i=void 0,a)}function _(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function E(){return s===void 0?a:w(sp())}function S(){var x=sp(),T=b(x);if(r=arguments,i=this,l=x,T){if(s===void 0)return g(l);if(f)return clearTimeout(s),s=setTimeout(v,t),m(l)}return s===void 0&&(s=setTimeout(v,t)),a}return S.cancel=_,S.flush=E,S}var qY=GY,WY=qY,KY=si,JY="Expected a function";function YY(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(JY);return KY(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),WY(e,t,{leading:r,maxWait:t,trailing:i})}var XY=YY;const Rk=be(XY);function ml(e){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ml(e)}function ix(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ju(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ix(Object(n),!0).forEach(function(r){QY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ix(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QY(e,t,n){return t=ZY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZY(e){var t=eX(e,"string");return ml(t)=="symbol"?t:t+""}function eX(e,t){if(ml(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tX(e,t){return oX(e)||iX(e,t)||rX(e,t)||nX()}function nX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rX(e,t){if(e){if(typeof e=="string")return ox(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ox(e,t)}}function ox(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iX(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function oX(e){if(Array.isArray(e))return e}var Nk=j.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=e.width,a=o===void 0?"100%":o,s=e.height,l=s===void 0?"100%":s,u=e.minWidth,c=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,y=g===void 0?0:g,b=e.id,v=e.className,w=e.onResize,_=e.style,E=_===void 0?{}:_,S=j.useRef(null),x=j.useRef();x.current=w,j.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var T=j.useState({containerWidth:i.width,containerHeight:i.height}),C=tX(T,2),P=C[0],I=C[1],R=j.useCallback(function(D,$){I(function(M){var L=Math.round(D),z=Math.round($);return M.containerWidth===L&&M.containerHeight===z?M:{containerWidth:L,containerHeight:z}})},[]);j.useEffect(function(){var D=function(F){var B,H=F[0].contentRect,q=H.width,Z=H.height;R(q,Z),(B=x.current)===null||B===void 0||B.call(x,q,Z)};y>0&&(D=Rk(D,y,{trailing:!0,leading:!1}));var $=new ResizeObserver(D),M=S.current.getBoundingClientRect(),L=M.width,z=M.height;return R(L,z),$.observe(S.current),function(){$.disconnect()}},[R,y]);var O=j.useMemo(function(){var D=P.containerWidth,$=P.containerHeight;if(D<0||$<0)return null;Dn(Ri(a)||Ri(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Dn(!n||n>0,"The aspect(%s) must be greater than zero.",n);var M=Ri(a)?D:a,L=Ri(l)?$:l;n&&n>0&&(M?L=M/n:L&&(M=L*n),h&&L>h&&(L=h)),Dn(M>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,L,a,l,c,f,n);var z=!Array.isArray(m)&&ur(m.type).endsWith("Chart");return k.Children.map(m,function(N){return k.isValidElement(N)?j.cloneElement(N,ju({width:M,height:L},z?{style:ju({height:"100%",width:"100%",maxHeight:L,maxWidth:M},N.props.style)}:{})):N})},[n,m,l,h,f,c,P,a]);return k.createElement("div",{id:b?"".concat(b):void 0,className:le("recharts-responsive-container",v),style:ju(ju({},E),{},{width:a,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:S},O)}),jd=function(t){return null};jd.displayName="Cell";function gl(e){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gl(e)}function ax(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ax(Object(n),!0).forEach(function(r){aX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ax(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aX(e,t,n){return t=sX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sX(e){var t=lX(e,"string");return gl(t)=="symbol"?t:t+""}function lX(e,t){if(gl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ho={widthCache:{},cacheCount:0},uX=2e3,cX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sx="recharts_measurement_span";function fX(e){var t=yg({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var $s=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Va.isSsr)return{width:0,height:0};var r=fX(n),i=JSON.stringify({text:t,copyStyle:r});if(ho.widthCache[i])return ho.widthCache[i];try{var o=document.getElementById(sx);o||(o=document.createElement("span"),o.setAttribute("id",sx),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=yg(yg({},cX),r);Object.assign(o.style,a),o.textContent="".concat(t);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return ho.widthCache[i]=l,++ho.cacheCount>uX&&(ho.cacheCount=0,ho.widthCache={}),l}catch{return{width:0,height:0}}},dX=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function yl(e){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yl(e)}function rf(e,t){return gX(e)||mX(e,t)||pX(e,t)||hX()}function hX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pX(e,t){if(e){if(typeof e=="string")return lx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lx(e,t)}}function lx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mX(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function gX(e){if(Array.isArray(e))return e}function yX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ux(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wX(r.key),r)}}function vX(e,t,n){return t&&ux(e.prototype,t),n&&ux(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wX(e){var t=bX(e,"string");return yl(t)=="symbol"?t:t+""}function bX(e,t){if(yl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cx=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fx=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_X=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,SX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Mk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},xX=Object.keys(Mk),$o="NaN";function EX(e,t){return e*Mk[t]}var Fu=function(){function e(t,n){yX(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!_X.test(n)&&(this.num=NaN,this.unit=""),xX.includes(n)&&(this.num=EX(t,n),this.unit="px")}return vX(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=SX.exec(n))!==null&&r!==void 0?r:[],o=rf(i,3),a=o[1],s=o[2];return new e(parseFloat(a),s??"")}}])}();function $k(e){if(e.includes($o))return $o;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=cx.exec(t))!==null&&n!==void 0?n:[],i=rf(r,4),o=i[1],a=i[2],s=i[3],l=Fu.parse(o??""),u=Fu.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return $o;t=t.replace(cx,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=fx.exec(t))!==null&&f!==void 0?f:[],m=rf(h,4),g=m[1],y=m[2],b=m[3],v=Fu.parse(g??""),w=Fu.parse(b??""),_=y==="+"?v.add(w):v.subtract(w);if(_.isNaN())return $o;t=t.replace(fx,_.toString())}return t}var dx=/\(([^()]*)\)/;function TX(e){for(var t=e;t.includes("(");){var n=dx.exec(t),r=rf(n,2),i=r[1];t=t.replace(dx,$k(i))}return t}function AX(e){var t=e.replace(/\s+/g,"");return t=TX(t),t=$k(t),t}function CX(e){try{return AX(e)}catch{return $o}}function lp(e){var t=CX(e.slice(5,-1));return t===$o?"":t}var PX=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],kX=["dx","dy","angle","className","breakAll"];function vg(){return vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vg.apply(this,arguments)}function hx(e,t){if(e==null)return{};var n=IX(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function IX(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function px(e,t){return MX(e)||NX(e,t)||RX(e,t)||OX()}function OX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RX(e,t){if(e){if(typeof e=="string")return mx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mx(e,t)}}function mx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function NX(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function MX(e){if(Array.isArray(e))return e}var Dk=/[ \f\n\r\t\v\u2028\u2029]+/,Lk=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var o=[];ue(n)||(r?o=n.toString().split(""):o=n.toString().split(Dk));var a=o.map(function(l){return{word:l,width:$s(l,i).width}}),s=r?0:$s("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},$X=function(t,n,r,i,o){var a=t.maxLines,s=t.children,l=t.style,u=t.breakAll,c=W(a),f=s,h=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(L,z){var N=z.word,F=z.width,B=L[L.length-1];if(B&&(i==null||o||B.width+F+r<Number(i)))B.words.push(N),B.width+=F+r;else{var H={words:[N],width:F};L.push(H)}return L},[])},m=h(n),g=function(M){return M.reduce(function(L,z){return L.width>z.width?L:z})};if(!c)return m;for(var y="",b=function(M){var L=f.slice(0,M),z=Lk({breakAll:u,style:l,children:L+y}).wordsWithComputedWidth,N=h(z),F=N.length>a||g(N).width>Number(i);return[F,N]},v=0,w=f.length-1,_=0,E;v<=w&&_<=f.length-1;){var S=Math.floor((v+w)/2),x=S-1,T=b(x),C=px(T,2),P=C[0],I=C[1],R=b(S),O=px(R,1),D=O[0];if(!P&&!D&&(v=S+1),P&&D&&(w=S-1),!P&&D){E=I;break}_++}return E||m},gx=function(t){var n=ue(t)?[]:t.toString().split(Dk);return[{words:n}]},DX=function(t){var n=t.width,r=t.scaleToFit,i=t.children,o=t.style,a=t.breakAll,s=t.maxLines;if((n||r)&&!Va.isSsr){var l,u,c=Lk({breakAll:a,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return gx(i);return $X({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return gx(i)},yx="#808080",Wi=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,a=t.lineHeight,s=a===void 0?"1em":a,l=t.capHeight,u=l===void 0?"0.71em":l,c=t.scaleToFit,f=c===void 0?!1:c,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,y=g===void 0?"end":g,b=t.fill,v=b===void 0?yx:b,w=hx(t,PX),_=j.useMemo(function(){return DX({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),E=w.dx,S=w.dy,x=w.angle,T=w.className,C=w.breakAll,P=hx(w,kX);if(!nt(r)||!nt(o))return null;var I=r+(W(E)?E:0),R=o+(W(S)?S:0),O;switch(y){case"start":O=lp("calc(".concat(u,")"));break;case"middle":O=lp("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:O=lp("calc(".concat(_.length-1," * -").concat(s,")"));break}var D=[];if(f){var $=_[0].width,M=w.width;D.push("scale(".concat((W(M)?M/$:1)/$,")"))}return x&&D.push("rotate(".concat(x,", ").concat(I,", ").concat(R,")")),D.length&&(P.transform=D.join(" ")),k.createElement("text",vg({},re(P,!0),{x:I,y:R,className:le("recharts-text",T),textAnchor:m,fill:v.includes("url")?yx:v}),_.map(function(L,z){var N=L.words.join(C?"":" ");return k.createElement("tspan",{x:I,dy:z===0?O:s,key:"".concat(N,"-").concat(z)},N)}))};function Qr(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function LX(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Qv(e){let t,n,r;e.length!==2?(t=Qr,n=(s,l)=>Qr(e(s),l),r=(s,l)=>e(s)-l):(t=e===Qr||e===LX?e:UX,n=e,r=e);function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function UX(){return 0}function Uk(e){return e===null?NaN:+e}function*jX(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const FX=Qv(Qr),nu=FX.right;Qv(Uk).center;class vx extends Map{constructor(t,n=HX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(wx(this,t))}has(t){return super.has(wx(this,t))}set(t,n){return super.set(BX(this,t),n)}delete(t){return super.delete(zX(this,t))}}function wx({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function BX({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function zX({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function HX(e){return e!==null&&typeof e=="object"?e.valueOf():e}function VX(e=Qr){if(e===Qr)return jk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function jk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const GX=Math.sqrt(50),qX=Math.sqrt(10),WX=Math.sqrt(2);function of(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=GX?10:o>=qX?5:o>=WX?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?of(e,t,n*2):[s,l,u]}function wg(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?of(t,e,n):of(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function bg(e,t,n){return t=+t,e=+e,n=+n,of(e,t,n)[2]}function _g(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?bg(t,e,n):bg(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function bx(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function _x(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Fk(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?jk:VX(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(t-u*f/l+h)),g=Math.min(r,Math.floor(t+(l-u)*f/l+h));Fk(e,t,m,g,i)}const o=e[t];let a=n,s=r;for(us(e,n,t),i(e[r],o)>0&&us(e,n,r);a<s;){for(us(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[n],o)===0?us(e,n,s):(++s,us(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function us(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function KX(e,t,n){if(e=Float64Array.from(jX(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return _x(e);if(t>=1)return bx(e);var r,i=(r-1)*t,o=Math.floor(i),a=bx(Fk(e,o).subarray(0,o+1)),s=_x(e.subarray(o+1));return a+(s-a)*(i-o)}}function JX(e,t,n=Uk){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function YX(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function bn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ar(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Sg=Symbol("implicit");function Zv(){var e=new vx,t=[],n=[],r=Sg;function i(o){let a=e.get(o);if(a===void 0){if(r!==Sg)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new vx;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Zv(t,n).unknown(r)},bn.apply(i,arguments),i}function vl(){var e=Zv().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete e.unknown;function f(){var h=t().length,m=i<r,g=m?i:r,y=m?r:i;o=(y-g)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),g+=(y-g-o*(h-l))*c,a=o*(1-l),s&&(g=Math.round(g),a=Math.round(a));var b=YX(h).map(function(v){return g+o*v});return n(m?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},e.copy=function(){return vl(t(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},bn.apply(f(),arguments)}function Bk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Bk(t())},e}function Ds(){return Bk(vl.apply(null,arguments).paddingInner(1))}function e0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function zk(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ru(){}var wl=.7,af=1/wl,Yo="\\s*([+-]?\\d+)\\s*",bl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",XX=/^#([0-9a-f]{3,8})$/,QX=new RegExp(`^rgb\\(${Yo},${Yo},${Yo}\\)$`),ZX=new RegExp(`^rgb\\(${qn},${qn},${qn}\\)$`),eQ=new RegExp(`^rgba\\(${Yo},${Yo},${Yo},${bl}\\)$`),tQ=new RegExp(`^rgba\\(${qn},${qn},${qn},${bl}\\)$`),nQ=new RegExp(`^hsl\\(${bl},${qn},${qn}\\)$`),rQ=new RegExp(`^hsla\\(${bl},${qn},${qn},${bl}\\)$`),Sx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};e0(ru,_l,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xx,formatHex:xx,formatHex8:iQ,formatHsl:oQ,formatRgb:Ex,toString:Ex});function xx(){return this.rgb().formatHex()}function iQ(){return this.rgb().formatHex8()}function oQ(){return Hk(this).formatHsl()}function Ex(){return this.rgb().formatRgb()}function _l(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=XX.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Tx(t):n===3?new jt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Bu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Bu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=QX.exec(e))?new jt(t[1],t[2],t[3],1):(t=ZX.exec(e))?new jt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=eQ.exec(e))?Bu(t[1],t[2],t[3],t[4]):(t=tQ.exec(e))?Bu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=nQ.exec(e))?Px(t[1],t[2]/100,t[3]/100,1):(t=rQ.exec(e))?Px(t[1],t[2]/100,t[3]/100,t[4]):Sx.hasOwnProperty(e)?Tx(Sx[e]):e==="transparent"?new jt(NaN,NaN,NaN,0):null}function Tx(e){return new jt(e>>16&255,e>>8&255,e&255,1)}function Bu(e,t,n,r){return r<=0&&(e=t=n=NaN),new jt(e,t,n,r)}function aQ(e){return e instanceof ru||(e=_l(e)),e?(e=e.rgb(),new jt(e.r,e.g,e.b,e.opacity)):new jt}function xg(e,t,n,r){return arguments.length===1?aQ(e):new jt(e,t,n,r??1)}function jt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}e0(jt,xg,zk(ru,{brighter(e){return e=e==null?af:Math.pow(af,e),new jt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wl:Math.pow(wl,e),new jt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new jt(Ui(this.r),Ui(this.g),Ui(this.b),sf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ax,formatHex:Ax,formatHex8:sQ,formatRgb:Cx,toString:Cx}));function Ax(){return`#${Ni(this.r)}${Ni(this.g)}${Ni(this.b)}`}function sQ(){return`#${Ni(this.r)}${Ni(this.g)}${Ni(this.b)}${Ni((isNaN(this.opacity)?1:this.opacity)*255)}`}function Cx(){const e=sf(this.opacity);return`${e===1?"rgb(":"rgba("}${Ui(this.r)}, ${Ui(this.g)}, ${Ui(this.b)}${e===1?")":`, ${e})`}`}function sf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ui(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ni(e){return e=Ui(e),(e<16?"0":"")+e.toString(16)}function Px(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new On(e,t,n,r)}function Hk(e){if(e instanceof On)return new On(e.h,e.s,e.l,e.opacity);if(e instanceof ru||(e=_l(e)),!e)return new On;if(e instanceof On)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new On(a,s,l,e.opacity)}function lQ(e,t,n,r){return arguments.length===1?Hk(e):new On(e,t,n,r??1)}function On(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}e0(On,lQ,zk(ru,{brighter(e){return e=e==null?af:Math.pow(af,e),new On(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wl:Math.pow(wl,e),new On(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new jt(up(e>=240?e-240:e+120,i,r),up(e,i,r),up(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new On(kx(this.h),zu(this.s),zu(this.l),sf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sf(this.opacity);return`${e===1?"hsl(":"hsla("}${kx(this.h)}, ${zu(this.s)*100}%, ${zu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function kx(e){return e=(e||0)%360,e<0?e+360:e}function zu(e){return Math.max(0,Math.min(1,e||0))}function up(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const t0=e=>()=>e;function uQ(e,t){return function(n){return e+n*t}}function cQ(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function fQ(e){return(e=+e)==1?Vk:function(t,n){return n-t?cQ(t,n,e):t0(isNaN(t)?n:t)}}function Vk(e,t){var n=t-e;return n?uQ(e,n):t0(isNaN(e)?t:e)}const Ix=function e(t){var n=fQ(t);function r(i,o){var a=n((i=xg(i)).r,(o=xg(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=Vk(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function dQ(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function hQ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function pQ(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Ga(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function mQ(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function lf(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function gQ(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Ga(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Eg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cp=new RegExp(Eg.source,"g");function yQ(e){return function(){return e}}function vQ(e){return function(t){return e(t)+""}}function wQ(e,t){var n=Eg.lastIndex=cp.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=Eg.exec(e))&&(i=cp.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:lf(r,i)})),n=cp.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?vQ(l[0].x):yQ(t):(t=l.length,function(u){for(var c=0,f;c<t;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Ga(e,t){var n=typeof t,r;return t==null||n==="boolean"?t0(t):(n==="number"?lf:n==="string"?(r=_l(t))?(t=r,Ix):wQ:t instanceof _l?Ix:t instanceof Date?mQ:hQ(t)?dQ:Array.isArray(t)?pQ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?gQ:lf)(e,t)}function n0(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function bQ(e,t){t===void 0&&(t=e,e=Ga);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function _Q(e){return function(){return e}}function uf(e){return+e}var Ox=[0,1];function kt(e){return e}function Tg(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:_Q(isNaN(t)?NaN:.5)}function SQ(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function xQ(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Tg(i,r),o=n(a,o)):(r=Tg(r,i),o=n(o,a)),function(s){return o(r(s))}}function EQ(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Tg(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(s){var l=nu(e,s,1,r)-1;return o[l](i[l](s))}}function iu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Fd(){var e=Ox,t=Ox,n=Ga,r,i,o,a=kt,s,l,u;function c(){var h=Math.min(e.length,t.length);return a!==kt&&(a=SQ(e[0],e[h-1])),s=h>2?EQ:xQ,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(e.map(r),t,n)))(r(a(h)))}return f.invert=function(h){return a(i((u||(u=s(t,e.map(r),lf)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,uf),c()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=n0,c()},f.clamp=function(h){return arguments.length?(a=h?!0:kt,c()):a!==kt},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,m){return r=h,i=m,c()}}function r0(){return Fd()(kt,kt)}function TQ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function cf(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ca(e){return e=cf(Math.abs(e)),e?e[1]:NaN}function AQ(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function CQ(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var PQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sl(e){if(!(t=PQ.exec(e)))throw new Error("invalid format: "+e);var t;return new i0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Sl.prototype=i0.prototype;function i0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}i0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function kQ(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var ff;function IQ(e,t){var n=cf(e,t);if(!n)return ff=void 0,e.toPrecision(t);var r=n[0],i=n[1],o=i-(ff=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+cf(e,Math.max(0,t+o-1))[0]}function Rx(e,t){var n=cf(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Nx={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:TQ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Rx(e*100,t),r:Rx,s:IQ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Mx(e){return e}var $x=Array.prototype.map,Dx=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function OQ(e){var t=e.grouping===void 0||e.thousands===void 0?Mx:AQ($x.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Mx:CQ($x.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=Sl(f);var m=f.fill,g=f.align,y=f.sign,b=f.symbol,v=f.zero,w=f.width,_=f.comma,E=f.precision,S=f.trim,x=f.type;x==="n"?(_=!0,x="g"):Nx[x]||(E===void 0&&(E=12),S=!0,x="g"),(v||m==="0"&&g==="=")&&(v=!0,m="0",g="=");var T=(h&&h.prefix!==void 0?h.prefix:"")+(b==="$"?n:b==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():""),C=(b==="$"?r:/[%p]/.test(x)?a:"")+(h&&h.suffix!==void 0?h.suffix:""),P=Nx[x],I=/[defgprs%]/.test(x);E=E===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function R(O){var D=T,$=C,M,L,z;if(x==="c")$=P(O)+$,O="";else{O=+O;var N=O<0||1/O<0;if(O=isNaN(O)?l:P(Math.abs(O),E),S&&(O=kQ(O)),N&&+O==0&&y!=="+"&&(N=!1),D=(N?y==="("?y:s:y==="-"||y==="("?"":y)+D,$=(x==="s"&&!isNaN(O)&&ff!==void 0?Dx[8+ff/3]:"")+$+(N&&y==="("?")":""),I){for(M=-1,L=O.length;++M<L;)if(z=O.charCodeAt(M),48>z||z>57){$=(z===46?i+O.slice(M+1):O.slice(M))+$,O=O.slice(0,M);break}}}_&&!v&&(O=t(O,1/0));var F=D.length+O.length+$.length,B=F<w?new Array(w-F+1).join(m):"";switch(_&&v&&(O=t(B+O,B.length?w-$.length:1/0),B=""),g){case"<":O=D+O+$+B;break;case"=":O=D+B+O+$;break;case"^":O=B.slice(0,F=B.length>>1)+D+O+$+B.slice(F);break;default:O=B+D+O+$;break}return o(O)}return R.toString=function(){return f+""},R}function c(f,h){var m=Math.max(-8,Math.min(8,Math.floor(ca(h)/3)))*3,g=Math.pow(10,-m),y=u((f=Sl(f),f.type="f",f),{suffix:Dx[8+m/3]});return function(b){return y(g*b)}}return{format:u,formatPrefix:c}}var Hu,o0,Gk;RQ({thousands:",",grouping:[3],currency:["$",""]});function RQ(e){return Hu=OQ(e),o0=Hu.format,Gk=Hu.formatPrefix,Hu}function NQ(e){return Math.max(0,-ca(Math.abs(e)))}function MQ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ca(t)/3)))*3-ca(Math.abs(e)))}function $Q(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ca(t)-ca(e))+1}function qk(e,t,n,r){var i=_g(e,t,n),o;switch(r=Sl(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=MQ(i,a))&&(r.precision=o),Gk(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=$Q(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=NQ(i))&&(r.precision=o-(r.type==="%")*2);break}}return o0(r)}function li(e){var t=e.domain;return e.ticks=function(n){var r=t();return wg(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return qk(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=bg(a,s,n),u===l)return r[i]=a,r[o]=s,t(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function df(){var e=r0();return e.copy=function(){return iu(e,df())},bn.apply(e,arguments),li(e)}function Wk(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,uf),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Wk(e).unknown(t)},e=arguments.length?Array.from(e,uf):[0,1],li(n)}function Kk(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function Lx(e){return Math.log(e)}function Ux(e){return Math.exp(e)}function DQ(e){return-Math.log(-e)}function LQ(e){return-Math.exp(-e)}function UQ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jQ(e){return e===10?UQ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function FQ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function jx(e){return(t,n)=>-e(-t,n)}function a0(e){const t=e(Lx,Ux),n=t.domain;let r=10,i,o;function a(){return i=FQ(r),o=jQ(r),n()[0]<0?(i=jx(i),o=jx(o),e(DQ,LQ)):e(Lx,Ux),t}return t.base=function(s){return arguments.length?(r=+s,a()):r},t.domain=function(s){return arguments.length?(n(s),a()):n()},t.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),m=i(c),g,y;const b=s==null?10:+s;let v=[];if(!(r%1)&&m-h<b){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<r;++g)if(y=h<0?g/o(-h):g*o(h),!(y<u)){if(y>c)break;v.push(y)}}else for(;h<=m;++h)for(g=r-1;g>=1;--g)if(y=h>0?g/o(-h):g*o(h),!(y<u)){if(y>c)break;v.push(y)}v.length*2<b&&(v=wg(u,c,b))}else v=wg(h,m,Math.min(m-h,b)).map(o);return f?v.reverse():v},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Sl(l)).precision==null&&(l.trim=!0),l=o0(l)),s===1/0)return l;const u=Math.max(1,r*s/t.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},t.nice=()=>n(Kk(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function Jk(){const e=a0(Fd()).domain([1,10]);return e.copy=()=>iu(e,Jk()).base(e.base()),bn.apply(e,arguments),e}function Fx(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Bx(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function s0(e){var t=1,n=e(Fx(t),Bx(t));return n.constant=function(r){return arguments.length?e(Fx(t=+r),Bx(t)):t},li(n)}function Yk(){var e=s0(Fd());return e.copy=function(){return iu(e,Yk()).constant(e.constant())},bn.apply(e,arguments)}function zx(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function BQ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function zQ(e){return e<0?-e*e:e*e}function l0(e){var t=e(kt,kt),n=1;function r(){return n===1?e(kt,kt):n===.5?e(BQ,zQ):e(zx(n),zx(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},li(t)}function u0(){var e=l0(Fd());return e.copy=function(){return iu(e,u0()).exponent(e.exponent())},bn.apply(e,arguments),e}function HQ(){return u0.apply(null,arguments).exponent(.5)}function Hx(e){return Math.sign(e)*e*e}function VQ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Xk(){var e=r0(),t=[0,1],n=!1,r;function i(o){var a=VQ(e(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return e.invert(Hx(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,uf)).map(Hx)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Xk(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},bn.apply(i,arguments),li(i)}function Qk(){var e=[],t=[],n=[],r;function i(){var a=0,s=Math.max(1,t.length);for(n=new Array(s-1);++a<s;)n[a-1]=JX(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:t[nu(n,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Qr),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Qk().domain(e).range(t).unknown(r)},bn.apply(o,arguments)}function Zk(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[nu(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return a}return a.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return Zk().domain([e,t]).range(i).unknown(o)},bn.apply(li(a),arguments)}function eI(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[nu(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return eI().domain(e).range(t).unknown(n)},bn.apply(i,arguments)}const fp=new Date,dp=new Date;function rt(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),t(o,s),e(o);while(u<o&&o<a);return l},i.filter=o=>rt(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>(fp.setTime(+o),dp.setTime(+a),e(fp),e(dp),Math.floor(n(fp,dp))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const hf=rt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);hf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?rt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):hf);hf.range;const or=1e3,fn=or*60,ar=fn*60,gr=ar*24,c0=gr*7,Vx=gr*30,hp=gr*365,Mi=rt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*or)},(e,t)=>(t-e)/or,e=>e.getUTCSeconds());Mi.range;const f0=rt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*or)},(e,t)=>{e.setTime(+e+t*fn)},(e,t)=>(t-e)/fn,e=>e.getMinutes());f0.range;const d0=rt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*fn)},(e,t)=>(t-e)/fn,e=>e.getUTCMinutes());d0.range;const h0=rt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*or-e.getMinutes()*fn)},(e,t)=>{e.setTime(+e+t*ar)},(e,t)=>(t-e)/ar,e=>e.getHours());h0.range;const p0=rt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ar)},(e,t)=>(t-e)/ar,e=>e.getUTCHours());p0.range;const ou=rt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*fn)/gr,e=>e.getDate()-1);ou.range;const Bd=rt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gr,e=>e.getUTCDate()-1);Bd.range;const tI=rt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gr,e=>Math.floor(e/gr));tI.range;function to(e){return rt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*fn)/c0)}const zd=to(0),pf=to(1),GQ=to(2),qQ=to(3),fa=to(4),WQ=to(5),KQ=to(6);zd.range;pf.range;GQ.range;qQ.range;fa.range;WQ.range;KQ.range;function no(e){return rt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/c0)}const Hd=no(0),mf=no(1),JQ=no(2),YQ=no(3),da=no(4),XQ=no(5),QQ=no(6);Hd.range;mf.range;JQ.range;YQ.range;da.range;XQ.range;QQ.range;const m0=rt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());m0.range;const g0=rt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());g0.range;const yr=rt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());yr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:rt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});yr.range;const vr=rt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());vr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:rt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});vr.range;function nI(e,t,n,r,i,o){const a=[[Mi,1,or],[Mi,5,5*or],[Mi,15,15*or],[Mi,30,30*or],[o,1,fn],[o,5,5*fn],[o,15,15*fn],[o,30,30*fn],[i,1,ar],[i,3,3*ar],[i,6,6*ar],[i,12,12*ar],[r,1,gr],[r,2,2*gr],[n,1,c0],[t,1,Vx],[t,3,3*Vx],[e,1,hp]];function s(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const m=f&&typeof f.range=="function"?f:l(u,c,f),g=m?m.range(u,+c+1):[];return h?g.reverse():g}function l(u,c,f){const h=Math.abs(c-u)/f,m=Qv(([,,b])=>b).right(a,h);if(m===a.length)return e.every(_g(u/hp,c/hp,f));if(m===0)return hf.every(Math.max(_g(u,c,f),1));const[g,y]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return g.every(y)}return[s,l]}const[ZQ,eZ]=nI(vr,g0,Hd,tI,p0,d0),[tZ,nZ]=nI(yr,m0,zd,ou,h0,f0);function pp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function mp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function cs(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function rZ(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=fs(i),c=ds(i),f=fs(o),h=ds(o),m=fs(a),g=ds(a),y=fs(s),b=ds(s),v=fs(l),w=ds(l),_={a:z,A:N,b:F,B,c:null,d:Yx,e:Yx,f:AZ,g:DZ,G:UZ,H:xZ,I:EZ,j:TZ,L:rI,m:CZ,M:PZ,p:H,q,Q:Zx,s:eE,S:kZ,u:IZ,U:OZ,V:RZ,w:NZ,W:MZ,x:null,X:null,y:$Z,Y:LZ,Z:jZ,"%":Qx},E={a:Z,A:de,b:Ne,B:He,c:null,d:Xx,e:Xx,f:HZ,g:ZZ,G:tee,H:FZ,I:BZ,j:zZ,L:oI,m:VZ,M:GZ,p:nn,q:Mt,Q:Zx,s:eE,S:qZ,u:WZ,U:KZ,V:JZ,w:YZ,W:XZ,x:null,X:null,y:QZ,Y:eee,Z:nee,"%":Qx},S={a:I,A:R,b:O,B:D,c:$,d:Kx,e:Kx,f:wZ,g:Wx,G:qx,H:Jx,I:Jx,j:mZ,L:vZ,m:pZ,M:gZ,p:P,q:hZ,Q:_Z,s:SZ,S:yZ,u:lZ,U:uZ,V:cZ,w:sZ,W:fZ,x:M,X:L,y:Wx,Y:qx,Z:dZ,"%":bZ};_.x=x(n,_),_.X=x(r,_),_.c=x(t,_),E.x=x(n,E),E.X=x(r,E),E.c=x(t,E);function x(J,ae){return function(se){var V=[],je=-1,he=0,Je=J.length,Ye,$t,Pr;for(se instanceof Date||(se=new Date(+se));++je<Je;)J.charCodeAt(je)===37&&(V.push(J.slice(he,je)),($t=Gx[Ye=J.charAt(++je)])!=null?Ye=J.charAt(++je):$t=Ye==="e"?" ":"0",(Pr=ae[Ye])&&(Ye=Pr(se,$t)),V.push(Ye),he=je+1);return V.push(J.slice(he,je)),V.join("")}}function T(J,ae){return function(se){var V=cs(1900,void 0,1),je=C(V,J,se+="",0),he,Je;if(je!=se.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(ae&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(he=mp(cs(V.y,0,1)),Je=he.getUTCDay(),he=Je>4||Je===0?mf.ceil(he):mf(he),he=Bd.offset(he,(V.V-1)*7),V.y=he.getUTCFullYear(),V.m=he.getUTCMonth(),V.d=he.getUTCDate()+(V.w+6)%7):(he=pp(cs(V.y,0,1)),Je=he.getDay(),he=Je>4||Je===0?pf.ceil(he):pf(he),he=ou.offset(he,(V.V-1)*7),V.y=he.getFullYear(),V.m=he.getMonth(),V.d=he.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),Je="Z"in V?mp(cs(V.y,0,1)).getUTCDay():pp(cs(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(Je+5)%7:V.w+V.U*7-(Je+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,mp(V)):pp(V)}}function C(J,ae,se,V){for(var je=0,he=ae.length,Je=se.length,Ye,$t;je<he;){if(V>=Je)return-1;if(Ye=ae.charCodeAt(je++),Ye===37){if(Ye=ae.charAt(je++),$t=S[Ye in Gx?ae.charAt(je++):Ye],!$t||(V=$t(J,se,V))<0)return-1}else if(Ye!=se.charCodeAt(V++))return-1}return V}function P(J,ae,se){var V=u.exec(ae.slice(se));return V?(J.p=c.get(V[0].toLowerCase()),se+V[0].length):-1}function I(J,ae,se){var V=m.exec(ae.slice(se));return V?(J.w=g.get(V[0].toLowerCase()),se+V[0].length):-1}function R(J,ae,se){var V=f.exec(ae.slice(se));return V?(J.w=h.get(V[0].toLowerCase()),se+V[0].length):-1}function O(J,ae,se){var V=v.exec(ae.slice(se));return V?(J.m=w.get(V[0].toLowerCase()),se+V[0].length):-1}function D(J,ae,se){var V=y.exec(ae.slice(se));return V?(J.m=b.get(V[0].toLowerCase()),se+V[0].length):-1}function $(J,ae,se){return C(J,t,ae,se)}function M(J,ae,se){return C(J,n,ae,se)}function L(J,ae,se){return C(J,r,ae,se)}function z(J){return a[J.getDay()]}function N(J){return o[J.getDay()]}function F(J){return l[J.getMonth()]}function B(J){return s[J.getMonth()]}function H(J){return i[+(J.getHours()>=12)]}function q(J){return 1+~~(J.getMonth()/3)}function Z(J){return a[J.getUTCDay()]}function de(J){return o[J.getUTCDay()]}function Ne(J){return l[J.getUTCMonth()]}function He(J){return s[J.getUTCMonth()]}function nn(J){return i[+(J.getUTCHours()>=12)]}function Mt(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var ae=x(J+="",_);return ae.toString=function(){return J},ae},parse:function(J){var ae=T(J+="",!1);return ae.toString=function(){return J},ae},utcFormat:function(J){var ae=x(J+="",E);return ae.toString=function(){return J},ae},utcParse:function(J){var ae=T(J+="",!0);return ae.toString=function(){return J},ae}}}var Gx={"-":"",_:" ",0:"0"},ut=/^\s*\d+/,iZ=/^%/,oZ=/[\\^$*+?|[\]().{}]/g;function ge(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function aZ(e){return e.replace(oZ,"\\$&")}function fs(e){return new RegExp("^(?:"+e.map(aZ).join("|")+")","i")}function ds(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function sZ(e,t,n){var r=ut.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function lZ(e,t,n){var r=ut.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function uZ(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function cZ(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function fZ(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function qx(e,t,n){var r=ut.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Wx(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function dZ(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function hZ(e,t,n){var r=ut.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function pZ(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Kx(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function mZ(e,t,n){var r=ut.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Jx(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function gZ(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function yZ(e,t,n){var r=ut.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function vZ(e,t,n){var r=ut.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function wZ(e,t,n){var r=ut.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function bZ(e,t,n){var r=iZ.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function _Z(e,t,n){var r=ut.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function SZ(e,t,n){var r=ut.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Yx(e,t){return ge(e.getDate(),t,2)}function xZ(e,t){return ge(e.getHours(),t,2)}function EZ(e,t){return ge(e.getHours()%12||12,t,2)}function TZ(e,t){return ge(1+ou.count(yr(e),e),t,3)}function rI(e,t){return ge(e.getMilliseconds(),t,3)}function AZ(e,t){return rI(e,t)+"000"}function CZ(e,t){return ge(e.getMonth()+1,t,2)}function PZ(e,t){return ge(e.getMinutes(),t,2)}function kZ(e,t){return ge(e.getSeconds(),t,2)}function IZ(e){var t=e.getDay();return t===0?7:t}function OZ(e,t){return ge(zd.count(yr(e)-1,e),t,2)}function iI(e){var t=e.getDay();return t>=4||t===0?fa(e):fa.ceil(e)}function RZ(e,t){return e=iI(e),ge(fa.count(yr(e),e)+(yr(e).getDay()===4),t,2)}function NZ(e){return e.getDay()}function MZ(e,t){return ge(pf.count(yr(e)-1,e),t,2)}function $Z(e,t){return ge(e.getFullYear()%100,t,2)}function DZ(e,t){return e=iI(e),ge(e.getFullYear()%100,t,2)}function LZ(e,t){return ge(e.getFullYear()%1e4,t,4)}function UZ(e,t){var n=e.getDay();return e=n>=4||n===0?fa(e):fa.ceil(e),ge(e.getFullYear()%1e4,t,4)}function jZ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ge(t/60|0,"0",2)+ge(t%60,"0",2)}function Xx(e,t){return ge(e.getUTCDate(),t,2)}function FZ(e,t){return ge(e.getUTCHours(),t,2)}function BZ(e,t){return ge(e.getUTCHours()%12||12,t,2)}function zZ(e,t){return ge(1+Bd.count(vr(e),e),t,3)}function oI(e,t){return ge(e.getUTCMilliseconds(),t,3)}function HZ(e,t){return oI(e,t)+"000"}function VZ(e,t){return ge(e.getUTCMonth()+1,t,2)}function GZ(e,t){return ge(e.getUTCMinutes(),t,2)}function qZ(e,t){return ge(e.getUTCSeconds(),t,2)}function WZ(e){var t=e.getUTCDay();return t===0?7:t}function KZ(e,t){return ge(Hd.count(vr(e)-1,e),t,2)}function aI(e){var t=e.getUTCDay();return t>=4||t===0?da(e):da.ceil(e)}function JZ(e,t){return e=aI(e),ge(da.count(vr(e),e)+(vr(e).getUTCDay()===4),t,2)}function YZ(e){return e.getUTCDay()}function XZ(e,t){return ge(mf.count(vr(e)-1,e),t,2)}function QZ(e,t){return ge(e.getUTCFullYear()%100,t,2)}function ZZ(e,t){return e=aI(e),ge(e.getUTCFullYear()%100,t,2)}function eee(e,t){return ge(e.getUTCFullYear()%1e4,t,4)}function tee(e,t){var n=e.getUTCDay();return e=n>=4||n===0?da(e):da.ceil(e),ge(e.getUTCFullYear()%1e4,t,4)}function nee(){return"+0000"}function Qx(){return"%"}function Zx(e){return+e}function eE(e){return Math.floor(+e/1e3)}var po,sI,lI;ree({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ree(e){return po=rZ(e),sI=po.format,po.parse,lI=po.utcFormat,po.utcParse,po}function iee(e){return new Date(e)}function oee(e){return e instanceof Date?+e:+new Date(+e)}function y0(e,t,n,r,i,o,a,s,l,u){var c=r0(),f=c.invert,h=c.domain,m=u(".%L"),g=u(":%S"),y=u("%I:%M"),b=u("%I %p"),v=u("%a %d"),w=u("%b %d"),_=u("%B"),E=u("%Y");function S(x){return(l(x)<x?m:s(x)<x?g:a(x)<x?y:o(x)<x?b:r(x)<x?i(x)<x?v:w:n(x)<x?_:E)(x)}return c.invert=function(x){return new Date(f(x))},c.domain=function(x){return arguments.length?h(Array.from(x,oee)):h().map(iee)},c.ticks=function(x){var T=h();return e(T[0],T[T.length-1],x??10)},c.tickFormat=function(x,T){return T==null?S:u(T)},c.nice=function(x){var T=h();return(!x||typeof x.range!="function")&&(x=t(T[0],T[T.length-1],x??10)),x?h(Kk(T,x)):c},c.copy=function(){return iu(c,y0(e,t,n,r,i,o,a,s,l,u))},c}function aee(){return bn.apply(y0(tZ,nZ,yr,m0,zd,ou,h0,f0,Mi,sI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function see(){return bn.apply(y0(ZQ,eZ,vr,g0,Hd,Bd,p0,d0,Mi,lI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Vd(){var e=0,t=1,n,r,i,o,a=kt,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function c(f){return function(h){var m,g;return arguments.length?([m,g]=h,a=f(m,g),u):[a(0),a(1)]}}return u.range=c(Ga),u.rangeRound=c(n0),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function ui(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function uI(){var e=li(Vd()(kt));return e.copy=function(){return ui(e,uI())},Ar.apply(e,arguments)}function cI(){var e=a0(Vd()).domain([1,10]);return e.copy=function(){return ui(e,cI()).base(e.base())},Ar.apply(e,arguments)}function fI(){var e=s0(Vd());return e.copy=function(){return ui(e,fI()).constant(e.constant())},Ar.apply(e,arguments)}function v0(){var e=l0(Vd());return e.copy=function(){return ui(e,v0()).exponent(e.exponent())},Ar.apply(e,arguments)}function lee(){return v0.apply(null,arguments).exponent(.5)}function dI(){var e=[],t=kt;function n(r){if(r!=null&&!isNaN(r=+r))return t((nu(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Qr),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>KX(e,o/r))},n.copy=function(){return dI(t).domain(e)},Ar.apply(n,arguments)}function Gd(){var e=0,t=.5,n=1,r=1,i,o,a,s,l,u=kt,c,f=!1,h;function m(y){return isNaN(y=+y)?h:(y=.5+((y=+c(y))-o)*(r*y<r*o?s:l),u(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([e,t,n]=y,i=c(e=+e),o=c(t=+t),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m):[e,t,n]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(u=y,m):u};function g(y){return function(b){var v,w,_;return arguments.length?([v,w,_]=b,u=bQ(y,[v,w,_]),m):[u(0),u(.5),u(1)]}}return m.range=g(Ga),m.rangeRound=g(n0),m.unknown=function(y){return arguments.length?(h=y,m):h},function(y){return c=y,i=y(e),o=y(t),a=y(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,m}}function hI(){var e=li(Gd()(kt));return e.copy=function(){return ui(e,hI())},Ar.apply(e,arguments)}function pI(){var e=a0(Gd()).domain([.1,1,10]);return e.copy=function(){return ui(e,pI()).base(e.base())},Ar.apply(e,arguments)}function mI(){var e=s0(Gd());return e.copy=function(){return ui(e,mI()).constant(e.constant())},Ar.apply(e,arguments)}function w0(){var e=l0(Gd());return e.copy=function(){return ui(e,w0()).exponent(e.exponent())},Ar.apply(e,arguments)}function uee(){return w0.apply(null,arguments).exponent(.5)}const tE=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:vl,scaleDiverging:hI,scaleDivergingLog:pI,scaleDivergingPow:w0,scaleDivergingSqrt:uee,scaleDivergingSymlog:mI,scaleIdentity:Wk,scaleImplicit:Sg,scaleLinear:df,scaleLog:Jk,scaleOrdinal:Zv,scalePoint:Ds,scalePow:u0,scaleQuantile:Qk,scaleQuantize:Zk,scaleRadial:Xk,scaleSequential:uI,scaleSequentialLog:cI,scaleSequentialPow:v0,scaleSequentialQuantile:dI,scaleSequentialSqrt:lee,scaleSequentialSymlog:fI,scaleSqrt:HQ,scaleSymlog:Yk,scaleThreshold:eI,scaleTime:aee,scaleUtc:see,tickFormat:qk},Symbol.toStringTag,{value:"Module"}));var cee=Da;function fee(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(a!=null&&(s===void 0?a===a&&!cee(a):n(a,s)))var s=a,l=o}return l}var qd=fee;function dee(e,t){return e>t}var gI=dee,hee=qd,pee=gI,mee=Ha;function gee(e){return e&&e.length?hee(e,mee,pee):void 0}var yee=gee;const Wd=be(yee);function vee(e,t){return e<t}var yI=vee,wee=qd,bee=yI,_ee=Ha;function See(e){return e&&e.length?wee(e,_ee,bee):void 0}var xee=See;const Kd=be(xee);var Eee=Nv,Tee=Yn,Aee=Tk,Cee=Ht;function Pee(e,t){var n=Cee(e)?Eee:Aee;return n(e,Tee(t))}var kee=Pee,Iee=xk,Oee=kee;function Ree(e,t){return Iee(Oee(e,t),1)}var Nee=Ree;const Mee=be(Nee);var $ee=Kv;function Dee(e,t){return $ee(e,t)}var Lee=Dee;const Jd=be(Lee);var qa=1e9,Uee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},_0,$e=!0,vn="[DecimalError] ",ji=vn+"Invalid argument: ",b0=vn+"Exponent out of range: ",Wa=Math.floor,Ei=Math.pow,jee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jt,it=1e7,Oe=7,vI=9007199254740991,gf=Wa(vI/Oe),X={};X.absoluteValue=X.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};X.comparedTo=X.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};X.decimalPlaces=X.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Oe;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};X.dividedBy=X.div=function(e){return cr(this,new this.constructor(e))};X.dividedToIntegerBy=X.idiv=function(e){var t=this,n=t.constructor;return xe(cr(t,new n(e),0,1),n.precision)};X.equals=X.eq=function(e){return!this.cmp(e)};X.exponent=function(){return Ke(this)};X.greaterThan=X.gt=function(e){return this.cmp(e)>0};X.greaterThanOrEqualTo=X.gte=function(e){return this.cmp(e)>=0};X.isInteger=X.isint=function(){return this.e>this.d.length-2};X.isNegative=X.isneg=function(){return this.s<0};X.isPositive=X.ispos=function(){return this.s>0};X.isZero=function(){return this.s===0};X.lessThan=X.lt=function(e){return this.cmp(e)<0};X.lessThanOrEqualTo=X.lte=function(e){return this.cmp(e)<1};X.logarithm=X.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Jt))throw Error(vn+"NaN");if(n.s<1)throw Error(vn+(n.s?"NaN":"-Infinity"));return n.eq(Jt)?new r(0):($e=!1,t=cr(xl(n,o),xl(e,o),o),$e=!0,xe(t,i))};X.minus=X.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_I(t,e):wI(t,(e.s=-e.s,e))};X.modulo=X.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(vn+"NaN");return n.s?($e=!1,t=cr(n,e,0,1).times(e),$e=!0,n.minus(t)):xe(new r(n),i)};X.naturalExponential=X.exp=function(){return bI(this)};X.naturalLogarithm=X.ln=function(){return xl(this)};X.negated=X.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};X.plus=X.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?wI(t,e):_I(t,(e.s=-e.s,e))};X.precision=X.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ji+e);if(t=Ke(i)+1,r=i.d.length-1,n=r*Oe+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};X.squareRoot=X.sqrt=function(){var e,t,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(vn+"NaN")}for(e=Ke(s),$e=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Hn(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Wa((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(cr(s,o,a+2)).times(.5),Hn(o.d).slice(0,a)===(t=Hn(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(xe(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(t!="9999")break;a+=4}return $e=!0,xe(r,n)};X.times=X.mul=function(e){var t,n,r,i,o,a,s,l,u,c=this,f=c.constructor,h=c.d,m=(e=new f(e)).d;if(!c.s||!e.s)return new f(0);for(e.s*=c.s,n=c.e+e.e,l=h.length,u=m.length,l<u&&(o=h,h=m,m=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)s=o[i]+m[r]*h[i-r-1]+t,o[i--]=s%it|0,t=s/it|0;o[i]=(o[i]+t)%it|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,$e?xe(e,f.precision):e};X.toDecimalPlaces=X.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Kn(e,0,qa),t===void 0?t=r.rounding:Kn(t,0,8),xe(n,e+Ke(n)+1,t))};X.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Ki(r,!0):(Kn(e,0,qa),t===void 0?t=i.rounding:Kn(t,0,8),r=xe(new i(r),e+1,t),n=Ki(r,!0,e+1)),n};X.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?Ki(i):(Kn(e,0,qa),t===void 0?t=o.rounding:Kn(t,0,8),r=xe(new o(i),e+Ke(i)+1,t),n=Ki(r.abs(),!1,e+Ke(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};X.toInteger=X.toint=function(){var e=this,t=e.constructor;return xe(new t(e),Ke(e)+1,t.rounding)};X.toNumber=function(){return+this};X.toPower=X.pow=function(e){var t,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(Jt);if(s=new l(s),!s.s){if(e.s<1)throw Error(vn+"Infinity");return s}if(s.eq(Jt))return s;if(r=l.precision,e.eq(Jt))return xe(s,r);if(t=e.e,n=e.d.length-1,a=t>=n,o=s.s,a){if((n=c<0?-c:c)<=vI){for(i=new l(Jt),t=Math.ceil(r/Oe+4),$e=!1;n%2&&(i=i.times(s),rE(i.d,t)),n=Wa(n/2),n!==0;)s=s.times(s),rE(s.d,t);return $e=!0,e.s<0?new l(Jt).div(i):xe(i,r)}}else if(o<0)throw Error(vn+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,$e=!1,i=e.times(xl(s,r+u)),$e=!0,i=bI(i),i.s=o,i};X.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Ke(i),r=Ki(i,n<=o.toExpNeg||n>=o.toExpPos)):(Kn(e,1,qa),t===void 0?t=o.rounding:Kn(t,0,8),i=xe(new o(i),e,t),n=Ke(i),r=Ki(i,e<=n||n<=o.toExpNeg,e)),r};X.toSignificantDigits=X.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Kn(e,1,qa),t===void 0?t=r.rounding:Kn(t,0,8)),xe(new r(n),e,t)};X.toString=X.valueOf=X.val=X.toJSON=X[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ke(e),n=e.constructor;return Ki(e,t<=n.toExpNeg||t>=n.toExpPos)};function wI(e,t){var n,r,i,o,a,s,l,u,c=e.constructor,f=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),$e?xe(t,f):t;if(l=e.d,u=t.d,a=e.e,i=t.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/Oe),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/it|0,l[o]%=it;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,$e?xe(t,f):t}function Kn(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ji+e)}function Hn(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)r=e[t]+"",n=Oe-r.length,n&&(o+=Mr(n)),o+=r;a=e[t],r=a+"",n=Oe-r.length,n&&(o+=Mr(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var cr=function(){function e(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%it|0,a=o/it|0;return a&&r.unshift(a),r}function t(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*it+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,f,h,m,g,y,b,v,w,_,E,S,x,T,C,P=r.constructor,I=r.s==i.s?1:-1,R=r.d,O=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(vn+"Division by zero");for(l=r.e-i.e,T=O.length,S=R.length,m=new P(I),g=m.d=[],u=0;O[u]==(R[u]||0);)++u;if(O[u]>(R[u]||0)&&--l,o==null?w=o=P.precision:a?w=o+(Ke(r)-Ke(i))+1:w=o,w<0)return new P(0);if(w=w/Oe+2|0,u=0,T==1)for(c=0,O=O[0],w++;(u<S||c)&&w--;u++)_=c*it+(R[u]||0),g[u]=_/O|0,c=_%O|0;else{for(c=it/(O[0]+1)|0,c>1&&(O=e(O,c),R=e(R,c),T=O.length,S=R.length),E=T,y=R.slice(0,T),b=y.length;b<T;)y[b++]=0;C=O.slice(),C.unshift(0),x=O[0],O[1]>=it/2&&++x;do c=0,s=t(O,y,T,b),s<0?(v=y[0],T!=b&&(v=v*it+(y[1]||0)),c=v/x|0,c>1?(c>=it&&(c=it-1),f=e(O,c),h=f.length,b=y.length,s=t(f,y,h,b),s==1&&(c--,n(f,T<h?C:O,h))):(c==0&&(s=c=1),f=O.slice()),h=f.length,h<b&&f.unshift(0),n(y,f,b),s==-1&&(b=y.length,s=t(O,y,T,b),s<1&&(c++,n(y,T<b?C:O,b))),b=y.length):s===0&&(c++,y=[0]),g[u++]=c,s&&y[0]?y[b++]=R[E]||0:(y=[R[E]],b=1);while((E++<S||y[0]!==void 0)&&w--)}return g[0]||g.shift(),m.e=l,xe(m,a?o+Ke(m)+1:o)}}();function bI(e,t){var n,r,i,o,a,s,l=0,u=0,c=e.constructor,f=c.precision;if(Ke(e)>16)throw Error(b0+Ke(e));if(!e.s)return new c(Jt);for($e=!1,s=f,a=new c(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(r=Math.log(Ei(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(Jt),c.precision=s;;){if(i=xe(i.times(e),s),n=n.times(++l),a=o.plus(cr(i,n,s)),Hn(a.d).slice(0,s)===Hn(o.d).slice(0,s)){for(;u--;)o=xe(o.times(o),s);return c.precision=f,t==null?($e=!0,xe(o,f)):o}o=a}}function Ke(e){for(var t=e.e*Oe,n=e.d[0];n>=10;n/=10)t++;return t}function gp(e,t,n){if(t>e.LN10.sd())throw $e=!0,n&&(e.precision=n),Error(vn+"LN10 precision limit exceeded");return xe(new e(e.LN10),t)}function Mr(e){for(var t="";e--;)t+="0";return t}function xl(e,t){var n,r,i,o,a,s,l,u,c,f=1,h=10,m=e,g=m.d,y=m.constructor,b=y.precision;if(m.s<1)throw Error(vn+(m.s?"NaN":"-Infinity"));if(m.eq(Jt))return new y(0);if(t==null?($e=!1,u=b):u=t,m.eq(10))return t==null&&($e=!0),gp(y,u);if(u+=h,y.precision=u,n=Hn(g),r=n.charAt(0),o=Ke(m),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Hn(m.d),r=n.charAt(0),f++;o=Ke(m),r>1?(m=new y("0."+n),o++):m=new y(r+"."+n.slice(1))}else return l=gp(y,u+2,b).times(o+""),m=xl(new y(r+"."+n.slice(1)),u-h).plus(l),y.precision=b,t==null?($e=!0,xe(m,b)):m;for(s=a=m=cr(m.minus(Jt),m.plus(Jt),u),c=xe(m.times(m),u),i=3;;){if(a=xe(a.times(c),u),l=s.plus(cr(a,new y(i),u)),Hn(l.d).slice(0,u)===Hn(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(gp(y,u+2,b).times(o+""))),s=cr(s,new y(f),u),y.precision=b,t==null?($e=!0,xe(s,b)):s;s=l,i+=2}}function nE(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Wa(n/Oe),e.d=[],r=(n+1)%Oe,n<0&&(r+=Oe),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Oe;r<i;)e.d.push(+t.slice(r,r+=Oe));t=t.slice(r),r=Oe-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),$e&&(e.e>gf||e.e<-gf))throw Error(b0+n)}else e.s=0,e.e=0,e.d=[0];return e}function xe(e,t,n){var r,i,o,a,s,l,u,c,f=e.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=t-a,r<0)r+=Oe,i=t,u=f[c=0];else{if(c=Math.ceil((r+1)/Oe),o=f.length,c>=o)return e;for(u=o=f[c],a=1;o>=10;o/=10)a++;r%=Oe,i=r-Oe+a}if(n!==void 0&&(o=Ei(10,a-i-1),s=u/o%10|0,l=t<0||f[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Ei(10,a-i):0:f[c-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(o=Ke(e),f.length=1,t=t-o-1,f[0]=Ei(10,(Oe-t%Oe)%Oe),e.e=Wa(-t/Oe)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=Ei(10,Oe-r),f[c]=i>0?(u/Ei(10,a-i)%Ei(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==it&&(f[0]=1,++e.e);break}else{if(f[c]+=o,f[c]!=it)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if($e&&(e.e>gf||e.e<-gf))throw Error(b0+Ke(e));return e}function _I(e,t){var n,r,i,o,a,s,l,u,c,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),$e?xe(t,m):t;if(l=e.d,f=t.d,r=t.e,u=e.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(m/Oe),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}a=0}for(c&&(n=l,l=f,f=n,t.s=-t.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=it-1;--l[o],l[i]+=it}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,$e?xe(t,m):t):new h(0)}function Ki(e,t,n){var r,i=Ke(e),o=Hn(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Mr(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Mr(-i-1)+o,n&&(r=n-a)>0&&(o+=Mr(r))):i>=a?(o+=Mr(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Mr(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Mr(r))),e.s<0?"-"+o:o}function rE(e,t){if(e.length>t)return e.length=t,!0}function SI(e){var t,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ji+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return nE(a,o.toString())}else if(typeof o!="string")throw Error(ji+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,jee.test(o))nE(a,o);else throw Error(ji+o)}if(i.prototype=X,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=SI,i.config=i.set=Fee,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Fee(e){if(!e||typeof e!="object")throw Error(vn+"Object expected");var t,n,r,i=["precision",1,qa,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Wa(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(ji+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ji+n+": "+r);return this}var _0=SI(Uee);Jt=new _0(1);const Se=_0;function Bee(e){return Gee(e)||Vee(e)||Hee(e)||zee()}function zee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hee(e,t){if(e){if(typeof e=="string")return Ag(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ag(e,t)}}function Vee(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Gee(e){if(Array.isArray(e))return Ag(e)}function Ag(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qee=function(t){return t},xI={},EI=function(t){return t===xI},iE=function(t){return function n(){return arguments.length===0||arguments.length===1&&EI(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Wee=function e(t,n){return t===1?n:iE(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==xI}).length;return a>=t?n.apply(void 0,i):e(t-a,iE(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return EI(f)?l.shift():f});return n.apply(void 0,Bee(c).concat(l))}))})},Yd=function(t){return Wee(t.length,t)},Cg=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},Kee=Yd(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),Jee=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return qee;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},Pg=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},TI=function(t){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=t.apply(void 0,o)),r}};function Yee(e){var t;return e===0?t=1:t=Math.floor(new Se(e).abs().log(10).toNumber())+1,t}function Xee(e,t,n){for(var r=new Se(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Qee=Yd(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),Zee=Yd(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),ete=Yd(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Xd={rangeStep:Xee,getDigitCount:Yee,interpolateNumber:Qee,uninterpolateNumber:Zee,uninterpolateTruncation:ete};function kg(e){return rte(e)||nte(e)||AI(e)||tte()}function tte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nte(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function rte(e){if(Array.isArray(e))return Ig(e)}function El(e,t){return ate(e)||ote(e,t)||AI(e,t)||ite()}function ite(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AI(e,t){if(e){if(typeof e=="string")return Ig(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ig(e,t)}}function Ig(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ote(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=e[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function ate(e){if(Array.isArray(e))return e}function CI(e){var t=El(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function PI(e,t,n){if(e.lte(0))return new Se(0);var r=Xd.getDigitCount(e.toNumber()),i=new Se(10).pow(r),o=e.div(i),a=r!==1?.05:.1,s=new Se(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return t?l:new Se(Math.ceil(l))}function ste(e,t,n){var r=1,i=new Se(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new Se(10).pow(Xd.getDigitCount(e)-1),i=new Se(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Se(Math.floor(e)))}else e===0?i=new Se(Math.floor((t-1)/2)):n||(i=new Se(Math.floor(e)));var a=Math.floor((t-1)/2),s=Jee(Kee(function(l){return i.add(new Se(l-a).mul(r)).toNumber()}),Cg);return s(0,t)}function kI(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Se(0),tickMin:new Se(0),tickMax:new Se(0)};var o=PI(new Se(t).sub(e).div(n-1),r,i),a;e<=0&&t>=0?a=new Se(0):(a=new Se(e).add(t).div(2),a=a.sub(new Se(a).mod(o)));var s=Math.ceil(a.sub(e).div(o).toNumber()),l=Math.ceil(new Se(t).sub(a).div(o).toNumber()),u=s+l+1;return u>n?kI(e,t,n,r,i+1):(u<n&&(l=t>0?l+(n-u):l,s=t>0?s:s+(n-u)),{step:o,tickMin:a.sub(new Se(s).mul(o)),tickMax:a.add(new Se(l).mul(o))})}function lte(e){var t=El(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=CI([n,r]),l=El(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(kg(Cg(0,i-1).map(function(){return 1/0}))):[].concat(kg(Cg(0,i-1).map(function(){return-1/0})),[c]);return n>r?Pg(f):f}if(u===c)return ste(u,i,o);var h=kI(u,c,a,o),m=h.step,g=h.tickMin,y=h.tickMax,b=Xd.rangeStep(g,y.add(new Se(.1).mul(m)),m);return n>r?Pg(b):b}function ute(e,t){var n=El(e,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=CI([r,i]),s=El(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(t,2),f=PI(new Se(u).sub(l).div(c-1),o,0),h=[].concat(kg(Xd.rangeStep(new Se(l),new Se(u).sub(new Se(.99).mul(f)),f)),[u]);return r>i?Pg(h):h}var cte=TI(lte),fte=TI(ute),dte="Invariant failed";function Ji(e,t){throw new Error(dte)}var hte=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ha(e){"@babel/helpers - typeof";return ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ha(e)}function yf(){return yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yf.apply(this,arguments)}function pte(e,t){return vte(e)||yte(e,t)||gte(e,t)||mte()}function mte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gte(e,t){if(e){if(typeof e=="string")return oE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oE(e,t)}}function oE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yte(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function vte(e){if(Array.isArray(e))return e}function wte(e,t){if(e==null)return{};var n=bte(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bte(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function _te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ste(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RI(r.key),r)}}function xte(e,t,n){return t&&Ste(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ete(e,t,n){return t=vf(t),Tte(e,II()?Reflect.construct(t,n||[],vf(e).constructor):t.apply(e,n))}function Tte(e,t){if(t&&(ha(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ate(e)}function Ate(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function II(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(II=function(){return!!e})()}function vf(e){return vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vf(e)}function Cte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Og(e,t)}function Og(e,t){return Og=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Og(e,t)}function OI(e,t,n){return t=RI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RI(e){var t=Pte(e,"string");return ha(t)=="symbol"?t:t+""}function Pte(e,t){if(ha(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ha(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qd=function(e){function t(){return _te(this,t),Ete(this,t,arguments)}return Cte(t,e),xte(t,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=wte(r,hte),m=re(h,!1);this.props.direction==="x"&&c.type!=="number"&&Ji();var g=l.map(function(y){var b=u(y,s),v=b.x,w=b.y,_=b.value,E=b.errorVal;if(!E)return null;var S=[],x,T;if(Array.isArray(E)){var C=pte(E,2);x=C[0],T=C[1]}else x=T=E;if(o==="vertical"){var P=c.scale,I=w+i,R=I+a,O=I-a,D=P(_-x),$=P(_+T);S.push({x1:$,y1:R,x2:$,y2:O}),S.push({x1:D,y1:I,x2:$,y2:I}),S.push({x1:D,y1:R,x2:D,y2:O})}else if(o==="horizontal"){var M=f.scale,L=v+i,z=L-a,N=L+a,F=M(_-x),B=M(_+T);S.push({x1:z,y1:B,x2:N,y2:B}),S.push({x1:L,y1:F,x2:L,y2:B}),S.push({x1:z,y1:F,x2:N,y2:F})}return k.createElement(ve,yf({className:"recharts-errorBar",key:"bar-".concat(S.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},m),S.map(function(H){return k.createElement("line",yf({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return k.createElement(ve,{className:"recharts-errorBars"},g)}}])}(k.Component);OI(Qd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});OI(Qd,"displayName","ErrorBar");function Tl(e){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(e)}function aE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aE(Object(n),!0).forEach(function(r){kte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kte(e,t,n){return t=Ite(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ite(e){var t=Ote(e,"string");return Tl(t)=="symbol"?t:t+""}function Ote(e,t){if(Tl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NI=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,o=t.legendContent,a=Wt(n,Xr);if(!a)return null;var s=Xr.defaultProps,l=s!==void 0?mi(mi({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return c.concat(g.map(function(y){return{type:a.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,m=h!==void 0?mi(mi({},h),f.props):{},g=m.dataKey,y=m.name,b=m.legendType,v=m.hide;return{inactive:v,dataKey:g,type:l.iconType||b||"square",color:S0(f),value:y||g,payload:m}}),mi(mi(mi({},l),Xr.getWithHeight(a,i)),{},{payload:u,item:a})};function Al(e){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Al(e)}function sE(e){return $te(e)||Mte(e)||Nte(e)||Rte()}function Rte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nte(e,t){if(e){if(typeof e=="string")return Rg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rg(e,t)}}function Mte(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $te(e){if(Array.isArray(e))return Rg(e)}function Rg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lE(Object(n),!0).forEach(function(r){Xo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xo(e,t,n){return t=Dte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dte(e){var t=Lte(e,"string");return Al(t)=="symbol"?t:t+""}function Lte(e,t){if(Al(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _t(e,t,n){return ue(e)||ue(t)?n:nt(t)?Qt(e,t,n):ie(t)?t(e):n}function Ls(e,t,n,r){var i=Mee(e,function(s){return _t(s,t)});if(n==="number"){var o=i.filter(function(s){return W(s)||parseFloat(s)});return o.length?[Kd(o),Wd(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!ue(s)}):i;return a.map(function(s){return nt(s)||s instanceof Date?s:""})}var Ute=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Ct(f-c)!==Ct(h-f)){var g=[];if(Ct(h-f)===Ct(l[1]-l[0])){m=h;var y=f+l[1]-l[0];g[0]=Math.min(y,(y+c)/2),g[1]=Math.max(y,(y+c)/2)}else{m=c;var b=h+l[1]-l[0];g[0]=Math.min(f,(b+f)/2),g[1]=Math.max(f,(b+f)/2)}var v=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>v[0]&&t<=v[1]||t>=g[0]&&t<=g[1]){a=i[u].index;break}}else{var w=Math.min(c,h),_=Math.max(c,h);if(t>(w+f)/2&&t<=(_+f)/2){a=i[u].index;break}}}else for(var E=0;E<s;E++)if(E===0&&t<=(r[E].coordinate+r[E+1].coordinate)/2||E>0&&E<s-1&&t>(r[E].coordinate+r[E-1].coordinate)/2&&t<=(r[E].coordinate+r[E+1].coordinate)/2||E===s-1&&t>(r[E].coordinate+r[E-1].coordinate)/2){a=r[E].index;break}return a},S0=function(t){var n,r=t,i=r.type.displayName,o=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ze(ze({},t.type.defaultProps),t.props):t.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},jte=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,f=Object.keys(c),h=0,m=f.length;h<m;h++){var g=c[f[h]],y=g.items,b=g.cateAxisId,v=y.filter(function(T){return ur(T.type).indexOf("Bar")>=0});if(v&&v.length){var w=v[0].type.defaultProps,_=w!==void 0?ze(ze({},w),v[0].props):v[0].props,E=_.barSize,S=_[b];a[S]||(a[S]=[]);var x=ue(E)?n:E;a[S].push({item:v[0],stackList:v.slice(1),barSize:ue(x)?void 0:Pt(x,r,0)})}}return a},Fte=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,o=t.sizeList,a=o===void 0?[]:o,s=t.maxBarSize,l=a.length;if(l<1)return null;var u=Pt(n,i,0,!0),c,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,m=i/l,g=a.reduce(function(E,S){return E+S.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&m>0&&(h=!0,m*=.9,g=l*m);var y=(i-g)/2>>0,b={offset:y-u,size:0};c=a.reduce(function(E,S){var x={item:S.item,position:{offset:b.offset+b.size+u,size:h?m:S.barSize}},T=[].concat(sE(E),[x]);return b=T[T.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){T.push({item:C,position:b})}),T},f)}else{var v=Pt(r,i,0,!0);i-2*v-(l-1)*u<=0&&(u=0);var w=(i-2*v-(l-1)*u)/l;w>1&&(w>>=0);var _=s===+s?Math.min(w,s):w;c=a.reduce(function(E,S,x){var T=[].concat(sE(E),[{item:S.item,position:{offset:v+(w+u)*x+(w-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){T.push({item:C,position:T[T.length-1].position})}),T},f)}return c},Bte=function(t,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=NI({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,m=u.align,g=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&g==="middle")&&m!=="center"&&W(t[m]))return ze(ze({},t),{},Xo({},m,t[m]+(f||0)));if((y==="horizontal"||y==="vertical"&&m==="center")&&g!=="middle"&&W(t[g]))return ze(ze({},t),{},Xo({},g,t[g]+(h||0)))}return t},zte=function(t,n,r){return ue(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},MI=function(t,n,r,i,o){var a=n.props.children,s=pn(a,Qd).filter(function(u){return zte(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return t.reduce(function(u,c){var f=_t(c,r);if(ue(f))return u;var h=Array.isArray(f)?[Kd(f),Wd(f)]:[f,f],m=l.reduce(function(g,y){var b=_t(c,y,0),v=h[0]-Math.abs(Array.isArray(b)?b[0]:b),w=h[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(v,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},Hte=function(t,n,r,i,o){var a=n.map(function(s){return MI(t,s,r,o,i)}).filter(function(s){return!ue(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},$I=function(t,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&MI(t,l,u,i)||Ls(t,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},DI=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},LI=function(t,n,r,i){if(i)return t.map(function(l){return l.coordinate});var o,a,s=t.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},sr=function(t,n,r){if(!t)return null;var i=t.scale,o=t.duplicateDomain,a=t.type,s=t.range,l=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Ct(s[0]-s[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var c=(t.ticks||t.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!Zl(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},yp=new WeakMap,Vu=function(t,n){if(typeof n!="function")return t;yp.has(t)||yp.set(t,new WeakMap);var r=yp.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},UI=function(t,n,r){var i=t.scale,o=t.type,a=t.layout,s=t.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:vl(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:df(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Ds(),realScaleType:"point"}:o==="category"?{scale:vl(),realScaleType:"band"}:{scale:df(),realScaleType:"linear"};if(Gi(i)){var l="scale".concat(Rd(i));return{scale:(tE[l]||Ds)(),realScaleType:tE[l]?l:"point"}}return ie(i)?{scale:i}:{scale:Ds(),realScaleType:"point"}},uE=1e-4,jI=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),o=Math.min(i[0],i[1])-uE,a=Math.max(i[0],i[1])+uE,s=t(n[0]),l=t(n[r-1]);(s<o||s>a||l<o||l>a)&&t.domain([n[0],n[r-1]])}},Vte=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},Gte=function(t,n){if(!n||n.length!==2||!W(n[0])||!W(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[t[0],t[1]];return(!W(t[0])||t[0]<r)&&(o[0]=r),(!W(t[1])||t[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},qte=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Zl(t[s][r][1])?t[s][r][0]:t[s][r][1];l>=0?(t[s][r][0]=o,t[s][r][1]=o+l,o=t[s][r][1]):(t[s][r][0]=a,t[s][r][1]=a+l,a=t[s][r][1])}},Wte=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Zl(t[a][r][1])?t[a][r][0]:t[a][r][1];s>=0?(t[a][r][0]=o,t[a][r][1]=o+s,o=t[a][r][1]):(t[a][r][0]=0,t[a][r][1]=0)}},Kte={sign:qte,expand:h8,none:oa,silhouette:p8,wiggle:m8,positive:Wte},Jte=function(t,n,r){var i=n.map(function(s){return s.props.dataKey}),o=Kte[r],a=d8().keys(i).value(function(s,l){return+_t(s,l,0)}).order(rg).offset(o);return a(t)},Yte=function(t,n,r,i,o,a){if(!t)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?ze(ze({},h.type.defaultProps),h.props):h.props,y=g.stackId,b=g.hide;if(b)return f;var v=g[r],w=f[v]||{hasStack:!1,stackGroups:{}};if(nt(y)){var _=w.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),w.hasStack=!0,w.stackGroups[y]=_}else w.stackGroups[eu("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return ze(ze({},f),{},Xo({},v,w))},l),c={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(y,b){var v=m.stackGroups[b];return ze(ze({},y),{},Xo({},b,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:Jte(t,v.items,o)}))},g)}return ze(ze({},f),{},Xo({},h,m))},c)},FI=function(t,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=t.domain();if(!u.length)return null;var c=cte(u,o,s);return t.domain([Kd(c),Wd(c)]),{niceTicks:c}}if(o&&i==="number"){var f=t.domain(),h=fte(f,o,s);return{niceTicks:h}}return null},cE=function(t){var n=t.axis,r=t.ticks,i=t.offset,o=t.bandSize,a=t.entry,s=t.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=_t(a,n.dataKey,n.domain[s]);return ue(l)?null:n.scale(l)-o/2+i},Xte=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Qte=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ze(ze({},t.type.defaultProps),t.props):t.props,o=i.stackId;if(nt(o)){var a=n[o];if(a){var s=a.items.indexOf(t);return s>=0?a.stackedData[s]:null}}return null},Zte=function(t){return t.reduce(function(n,r){return[Kd(r.concat([n[0]]).filter(W)),Wd(r.concat([n[1]]).filter(W))]},[1/0,-1/0])},BI=function(t,n,r){return Object.keys(t).reduce(function(i,o){var a=t[o],s=a.stackedData,l=s.reduce(function(u,c){var f=Zte(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},fE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ng=function(t,n,r){if(ie(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(W(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(fE.test(t[0])){var o=+fE.exec(t[0])[1];i[0]=n[0]-o}else ie(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(W(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(dE.test(t[1])){var a=+dE.exec(t[1])[1];i[1]=n[1]+a}else ie(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},wf=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var o=Yv(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},hE=function(t,n,r){return!t||!t.length||Jd(t,Qt(r,"type.defaultProps.domain"))?n:t},zI=function(t,n){var r=t.type.defaultProps?ze(ze({},t.type.defaultProps),t.props):t.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return ze(ze({},re(t,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:S0(t),value:_t(n,i),type:l,payload:n,chartType:u,hide:c})};function Cl(e){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(e)}function pE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pE(Object(n),!0).forEach(function(r){HI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HI(e,t,n){return t=ene(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ene(e){var t=tne(e,"string");return Cl(t)=="symbol"?t:t+""}function tne(e,t){if(Cl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nne(e,t){return ane(e)||one(e,t)||ine(e,t)||rne()}function rne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ine(e,t){if(e){if(typeof e=="string")return mE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mE(e,t)}}function mE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function one(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function ane(e){if(Array.isArray(e))return e}var bf=Math.PI/180,sne=function(t){return t*180/Math.PI},Pe=function(t,n,r,i){return{x:t+Math.cos(-bf*i)*r,y:n+Math.sin(-bf*i)*r}},VI=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},lne=function(t,n,r,i,o){var a=t.width,s=t.height,l=t.startAngle,u=t.endAngle,c=Pt(t.cx,a,a/2),f=Pt(t.cy,s,s/2),h=VI(a,s,r),m=Pt(t.innerRadius,h,0),g=Pt(t.outerRadius,h,h*.8),y=Object.keys(n);return y.reduce(function(b,v){var w=n[v],_=w.domain,E=w.reversed,S;if(ue(w.range))i==="angleAxis"?S=[l,u]:i==="radiusAxis"&&(S=[m,g]),E&&(S=[S[1],S[0]]);else{S=w.range;var x=S,T=nne(x,2);l=T[0],u=T[1]}var C=UI(w,o),P=C.realScaleType,I=C.scale;I.domain(_).range(S),jI(I);var R=FI(I,tr(tr({},w),{},{realScaleType:P})),O=tr(tr(tr({},w),R),{},{range:S,radius:g,realScaleType:P,scale:I,cx:c,cy:f,innerRadius:m,outerRadius:g,startAngle:l,endAngle:u});return tr(tr({},b),{},HI({},v,O))},{})},une=function(t,n){var r=t.x,i=t.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},cne=function(t,n){var r=t.x,i=t.y,o=n.cx,a=n.cy,s=une({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:sne(u),angleInRadian:u}},fne=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},dne=function(t,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return t+s*360},gE=function(t,n){var r=t.x,i=t.y,o=cne({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=fne(n),f=c.startAngle,h=c.endAngle,m=s,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?tr(tr({},n),{},{radius:a,angle:dne(m,n)}):null},GI=function(t){return!j.isValidElement(t)&&!ie(t)&&typeof t!="boolean"?t.className:""};function Pl(e){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(e)}var hne=["offset"];function pne(e){return vne(e)||yne(e)||gne(e)||mne()}function mne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gne(e,t){if(e){if(typeof e=="string")return Mg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mg(e,t)}}function yne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vne(e){if(Array.isArray(e))return Mg(e)}function Mg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wne(e,t){if(e==null)return{};var n=bne(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bne(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function yE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yE(Object(n),!0).forEach(function(r){_ne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _ne(e,t,n){return t=Sne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sne(e){var t=xne(e,"string");return Pl(t)=="symbol"?t:t+""}function xne(e,t){if(Pl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kl(){return kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kl.apply(this,arguments)}var Ene=function(t){var n=t.value,r=t.formatter,i=ue(t.children)?n:t.children;return ie(r)?r(i):i},Tne=function(t,n){var r=Ct(n-t),i=Math.min(Math.abs(n-t),360);return r*i},Ane=function(t,n,r){var i=t.position,o=t.viewBox,a=t.offset,s=t.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,m=l.startAngle,g=l.endAngle,y=l.clockWise,b=(f+h)/2,v=Tne(m,g),w=v>=0?1:-1,_,E;i==="insideStart"?(_=m+w*a,E=y):i==="insideEnd"?(_=g-w*a,E=!y):i==="end"&&(_=g+w*a,E=y),E=v<=0?E:!E;var S=Pe(u,c,b,_),x=Pe(u,c,b,_+(E?1:-1)*359),T="M".concat(S.x,",").concat(S.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(E?0:1,`,
    `).concat(x.x,",").concat(x.y),C=ue(t.id)?eu("recharts-radial-line-"):t.id;return k.createElement("text",kl({},r,{dominantBaseline:"central",className:le("recharts-radial-bar-label",s)}),k.createElement("defs",null,k.createElement("path",{id:C,d:T})),k.createElement("textPath",{xlinkHref:"#".concat(C)},n))},Cne=function(t){var n=t.viewBox,r=t.offset,i=t.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,h=(c+f)/2;if(i==="outside"){var m=Pe(a,s,u+r,h),g=m.x,y=m.y;return{x:g,y,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,v=Pe(a,s,b,h),w=v.x,_=v.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Pne=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,o=t.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,f=c>=0?1:-1,h=f*i,m=f>0?"end":"start",g=f>0?"start":"end",y=u>=0?1:-1,b=y*i,v=y>0?"end":"start",w=y>0?"start":"end";if(o==="top"){var _={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return Qe(Qe({},_),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var E={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:g};return Qe(Qe({},E),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var S={x:s-b,y:l+c/2,textAnchor:v,verticalAnchor:"middle"};return Qe(Qe({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(o==="right"){var x={x:s+u+b,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return Qe(Qe({},x),r?{width:Math.max(r.x+r.width-x.x,0),height:c}:{})}var T=r?{width:u,height:c}:{};return o==="insideLeft"?Qe({x:s+b,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},T):o==="insideRight"?Qe({x:s+u-b,y:l+c/2,textAnchor:v,verticalAnchor:"middle"},T):o==="insideTop"?Qe({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:g},T):o==="insideBottom"?Qe({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:m},T):o==="insideTopLeft"?Qe({x:s+b,y:l+h,textAnchor:w,verticalAnchor:g},T):o==="insideTopRight"?Qe({x:s+u-b,y:l+h,textAnchor:v,verticalAnchor:g},T):o==="insideBottomLeft"?Qe({x:s+b,y:l+c-h,textAnchor:w,verticalAnchor:m},T):o==="insideBottomRight"?Qe({x:s+u-b,y:l+c-h,textAnchor:v,verticalAnchor:m},T):La(o)&&(W(o.x)||Ri(o.x))&&(W(o.y)||Ri(o.y))?Qe({x:s+Pt(o.x,u),y:l+Pt(o.y,c),textAnchor:"end",verticalAnchor:"end"},T):Qe({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},T)},kne=function(t){return"cx"in t&&W(t.cx)};function at(e){var t=e.offset,n=t===void 0?5:t,r=wne(e,hne),i=Qe({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!o||ue(s)&&ue(l)&&!j.isValidElement(u)&&!ie(u))return null;if(j.isValidElement(u))return j.cloneElement(u,i);var m;if(ie(u)){if(m=j.createElement(u,i),j.isValidElement(m))return m}else m=Ene(i);var g=kne(o),y=re(i,!0);if(g&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Ane(i,m,y);var b=g?Cne(i):Pne(i);return k.createElement(Wi,kl({className:le("recharts-label",f)},y,b,{breakAll:h}),m)}at.displayName="Label";var qI=function(t){var n=t.cx,r=t.cy,i=t.angle,o=t.startAngle,a=t.endAngle,s=t.r,l=t.radius,u=t.innerRadius,c=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,y=t.width,b=t.height,v=t.clockWise,w=t.labelViewBox;if(w)return w;if(W(y)&&W(b)){if(W(f)&&W(h))return{x:f,y:h,width:y,height:b};if(W(m)&&W(g))return{x:m,y:g,width:y,height:b}}return W(f)&&W(h)?{x:f,y:h,width:0,height:0}:W(n)&&W(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:v}:t.viewBox?t.viewBox:{}},Ine=function(t,n){return t?t===!0?k.createElement(at,{key:"label-implicit",viewBox:n}):nt(t)?k.createElement(at,{key:"label-implicit",viewBox:n,value:t}):j.isValidElement(t)?t.type===at?j.cloneElement(t,{key:"label-implicit",viewBox:n}):k.createElement(at,{key:"label-implicit",content:t,viewBox:n}):ie(t)?k.createElement(at,{key:"label-implicit",content:t,viewBox:n}):La(t)?k.createElement(at,kl({viewBox:n},t,{key:"label-implicit"})):null:null},One=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,o=qI(t),a=pn(i,at).map(function(l,u){return j.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=Ine(t.label,n||o);return[s].concat(pne(a))};at.parseViewBox=qI;at.renderCallByParent=One;function Rne(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Nne=Rne;const Mne=be(Nne);function Il(e){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Il(e)}var $ne=["valueAccessor"],Dne=["data","dataKey","clockWise","id","textBreakAll"];function Lne(e){return Bne(e)||Fne(e)||jne(e)||Une()}function Une(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jne(e,t){if(e){if(typeof e=="string")return $g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $g(e,t)}}function Fne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bne(e){if(Array.isArray(e))return $g(e)}function $g(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _f(){return _f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_f.apply(this,arguments)}function vE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(n),!0).forEach(function(r){zne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zne(e,t,n){return t=Hne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hne(e){var t=Vne(e,"string");return Il(t)=="symbol"?t:t+""}function Vne(e,t){if(Il(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bE(e,t){if(e==null)return{};var n=Gne(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Gne(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var qne=function(t){return Array.isArray(t.value)?Mne(t.value):t.value};function Zr(e){var t=e.valueAccessor,n=t===void 0?qne:t,r=bE(e,$ne),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=bE(r,Dne);return!i||!i.length?null:k.createElement(ve,{className:"recharts-label-list"},i.map(function(c,f){var h=ue(o)?n(c,f):_t(c&&c.payload,o),m=ue(s)?{}:{id:"".concat(s,"-").concat(f)};return k.createElement(at,_f({},re(c,!0),u,m,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:at.parseViewBox(ue(a)?c:wE(wE({},c),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}Zr.displayName="LabelList";function Wne(e,t){return e?e===!0?k.createElement(Zr,{key:"labelList-implicit",data:t}):k.isValidElement(e)||ie(e)?k.createElement(Zr,{key:"labelList-implicit",data:t,content:e}):La(e)?k.createElement(Zr,_f({data:t},e,{key:"labelList-implicit"})):null:null}function Kne(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=pn(r,Zr).map(function(a,s){return j.cloneElement(a,{data:t,key:"labelList-".concat(s)})});if(!n)return i;var o=Wne(e.label,t);return[o].concat(Lne(i))}Zr.renderCallByParent=Kne;function Ol(e){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ol(e)}function Dg(){return Dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dg.apply(this,arguments)}function _E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_E(Object(n),!0).forEach(function(r){Jne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_E(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jne(e,t,n){return t=Yne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yne(e){var t=Xne(e,"string");return Ol(t)=="symbol"?t:t+""}function Xne(e,t){if(Ol(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qne=function(t,n){var r=Ct(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},Gu=function(t){var n=t.cx,r=t.cy,i=t.radius,o=t.angle,a=t.sign,s=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/bf,h=u?o:o+a*f,m=Pe(n,r,c,h),g=Pe(n,r,i,h),y=u?o-a*f:o,b=Pe(n,r,c*Math.cos(f*bf),y);return{center:m,circleTangency:g,lineTangency:b,theta:f}},WI=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.startAngle,s=t.endAngle,l=Qne(a,s),u=a+l,c=Pe(n,r,o,a),f=Pe(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=Pe(n,r,i,a),g=Pe(n,r,i,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},Zne=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,o=t.outerRadius,a=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,c=t.endAngle,f=Ct(c-u),h=Gu({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),m=h.circleTangency,g=h.lineTangency,y=h.theta,b=Gu({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:a,cornerIsExternal:l}),v=b.circleTangency,w=b.lineTangency,_=b.theta,E=l?Math.abs(u-c):Math.abs(u-c)-y-_;if(E<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):WI({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(E>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var x=Gu({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),T=x.circleTangency,C=x.lineTangency,P=x.theta,I=Gu({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),R=I.circleTangency,O=I.lineTangency,D=I.theta,$=l?Math.abs(u-c):Math.abs(u-c)-P-D;if($<0&&a===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(f>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},ere={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},KI=function(t){var n=SE(SE({},ere),t),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(a<o||c===f)return null;var m=le("recharts-sector",h),g=a-o,y=Pt(s,g,0,!0),b;return y>0&&Math.abs(c-f)<360?b=Zne({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(y,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):b=WI({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:f}),k.createElement("path",Dg({},re(n,!0),{className:m,d:b,role:"img"}))};function Rl(e){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(e)}function Lg(){return Lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lg.apply(this,arguments)}function xE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(n),!0).forEach(function(r){tre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tre(e,t,n){return t=nre(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nre(e){var t=rre(e,"string");return Rl(t)=="symbol"?t:t+""}function rre(e,t){if(Rl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TE={curveBasisClosed:t8,curveBasisOpen:n8,curveBasis:e8,curveBumpX:Fq,curveBumpY:Bq,curveLinearClosed:r8,curveLinear:Md,curveMonotoneX:i8,curveMonotoneY:o8,curveNatural:a8,curveStep:s8,curveStepAfter:u8,curveStepBefore:l8},qu=function(t){return t.x===+t.x&&t.y===+t.y},hs=function(t){return t.x},ps=function(t){return t.y},ire=function(t,n){if(ie(t))return t;var r="curve".concat(Rd(t));return(r==="curveMonotone"||r==="curveBump")&&n?TE["".concat(r).concat(n==="vertical"?"Y":"X")]:TE[r]||Md},ore=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,o=i===void 0?[]:i,a=t.baseLine,s=t.layout,l=t.connectNulls,u=l===void 0?!1:l,c=ire(r,s),f=u?o.filter(function(y){return qu(y)}):o,h;if(Array.isArray(a)){var m=u?a.filter(function(y){return qu(y)}):a,g=f.map(function(y,b){return EE(EE({},y),{},{base:m[b]})});return s==="vertical"?h=Du().y(ps).x1(hs).x0(function(y){return y.base.x}):h=Du().x(hs).y1(ps).y0(function(y){return y.base.y}),h.defined(qu).curve(c),h(g)}return s==="vertical"&&W(a)?h=Du().y(ps).x1(hs).x0(a):W(a)?h=Du().x(hs).y1(ps).y0(a):h=zP().x(hs).y(ps),h.defined(qu).curve(c),h(f)},Ug=function(t){var n=t.className,r=t.points,i=t.path,o=t.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?ore(t):i;return j.createElement("path",Lg({},re(t,!1),Vc(t),{className:le("recharts-curve",n),d:a,ref:o}))},JI={exports:{}},are="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",sre=are,lre=sre;function YI(){}function XI(){}XI.resetWarningCache=YI;var ure=function(){function e(r,i,o,a,s,l){if(l!==lre){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:XI,resetWarningCache:YI};return n.PropTypes=n,n};JI.exports=ure();var cre=JI.exports;const ye=be(cre),{getOwnPropertyNames:fre,getOwnPropertySymbols:dre}=Object,{hasOwnProperty:hre}=Object.prototype;function vp(e,t){return function(r,i,o){return e(r,i,o)&&t(r,i,o)}}function Wu(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);const{cache:o}=i,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);const l=e(n,r,i);return o.delete(n),o.delete(r),l}}function pre(e){return e!=null?e[Symbol.toStringTag]:void 0}function AE(e){return fre(e).concat(dre(e))}const mre=Object.hasOwn||((e,t)=>hre.call(e,t));function ro(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const gre="__v",yre="__o",vre="_owner",{getOwnPropertyDescriptor:CE,keys:PE}=Object;function wre(e,t){return e.byteLength===t.byteLength&&Sf(new Uint8Array(e),new Uint8Array(t))}function bre(e,t,n){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function _re(e,t){return e.byteLength===t.byteLength&&Sf(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function Sre(e,t){return ro(e.getTime(),t.getTime())}function xre(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Ere(e,t){return e===t}function kE(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),o=e.entries();let a,s,l=0;for(;(a=o.next())&&!a.done;){const u=t.entries();let c=!1,f=0;for(;(s=u.next())&&!s.done;){if(i[f]){f++;continue}const h=a.value,m=s.value;if(n.equals(h[0],m[0],l,f,e,t,n)&&n.equals(h[1],m[1],h[0],m[0],e,t,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}const Tre=ro;function Are(e,t,n){const r=PE(e);let i=r.length;if(PE(t).length!==i)return!1;for(;i-- >0;)if(!QI(e,t,n,r[i]))return!1;return!0}function ms(e,t,n){const r=AE(e);let i=r.length;if(AE(t).length!==i)return!1;let o,a,s;for(;i-- >0;)if(o=r[i],!QI(e,t,n,o)||(a=CE(e,o),s=CE(t,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function Cre(e,t){return ro(e.valueOf(),t.valueOf())}function Pre(e,t){return e.source===t.source&&e.flags===t.flags}function IE(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),o=e.values();let a,s;for(;(a=o.next())&&!a.done;){const l=t.values();let u=!1,c=0;for(;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(a.value,s.value,a.value,s.value,e,t,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Sf(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function kre(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function QI(e,t,n,r){return(r===vre||r===yre||r===gre)&&(e.$$typeof||t.$$typeof)?!0:mre(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}const Ire="[object ArrayBuffer]",Ore="[object Arguments]",Rre="[object Boolean]",Nre="[object DataView]",Mre="[object Date]",$re="[object Error]",Dre="[object Map]",Lre="[object Number]",Ure="[object Object]",jre="[object RegExp]",Fre="[object Set]",Bre="[object String]",zre={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Hre="[object URL]",Vre=Object.prototype.toString;function Gre({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:s,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:m,unknownTagComparators:g}){return function(b,v,w){if(b===v)return!0;if(b==null||v==null)return!1;const _=typeof b;if(_!==typeof v)return!1;if(_!=="object")return _==="number"?s(b,v,w):_==="function"?o(b,v,w):!1;const E=b.constructor;if(E!==v.constructor)return!1;if(E===Object)return l(b,v,w);if(Array.isArray(b))return t(b,v,w);if(E===Date)return r(b,v,w);if(E===RegExp)return c(b,v,w);if(E===Map)return a(b,v,w);if(E===Set)return f(b,v,w);const S=Vre.call(b);if(S===Mre)return r(b,v,w);if(S===jre)return c(b,v,w);if(S===Dre)return a(b,v,w);if(S===Fre)return f(b,v,w);if(S===Ure)return typeof b.then!="function"&&typeof v.then!="function"&&l(b,v,w);if(S===Hre)return m(b,v,w);if(S===$re)return i(b,v,w);if(S===Ore)return l(b,v,w);if(zre[S])return h(b,v,w);if(S===Ire)return e(b,v,w);if(S===Nre)return n(b,v,w);if(S===Rre||S===Lre||S===Bre)return u(b,v,w);if(g){let x=g[S];if(!x){const T=pre(b);T&&(x=g[T])}if(x)return x(b,v,w)}return!1}}function qre({circular:e,createCustomConfig:t,strict:n}){let r={areArrayBuffersEqual:wre,areArraysEqual:n?ms:bre,areDataViewsEqual:_re,areDatesEqual:Sre,areErrorsEqual:xre,areFunctionsEqual:Ere,areMapsEqual:n?vp(kE,ms):kE,areNumbersEqual:Tre,areObjectsEqual:n?ms:Are,arePrimitiveWrappersEqual:Cre,areRegExpsEqual:Pre,areSetsEqual:n?vp(IE,ms):IE,areTypedArraysEqual:n?vp(Sf,ms):Sf,areUrlsEqual:kre,unknownTagComparators:void 0};if(t&&(r=Object.assign({},r,t(r))),e){const i=Wu(r.areArraysEqual),o=Wu(r.areMapsEqual),a=Wu(r.areObjectsEqual),s=Wu(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:s})}return r}function Wre(e){return function(t,n,r,i,o,a,s){return e(t,n,s)}}function Kre({circular:e,comparator:t,createState:n,equals:r,strict:i}){if(n)return function(s,l){const{cache:u=e?new WeakMap:void 0,meta:c}=n();return t(s,l,{cache:u,equals:r,meta:c,strict:i})};if(e)return function(s,l){return t(s,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(s,l){return t(s,l,o)}}const Jre=ci();ci({strict:!0});ci({circular:!0});ci({circular:!0,strict:!0});ci({createInternalComparator:()=>ro});ci({strict:!0,createInternalComparator:()=>ro});ci({circular:!0,createInternalComparator:()=>ro});ci({circular:!0,createInternalComparator:()=>ro,strict:!0});function ci(e={}){const{circular:t=!1,createInternalComparator:n,createState:r,strict:i=!1}=e,o=qre(e),a=Gre(o),s=n?n(a):Wre(a);return Kre({circular:t,comparator:a,createState:r,equals:s,strict:i})}function Yre(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function OE(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>t?(e(o),n=-1):Yre(i)};requestAnimationFrame(r)}function jg(e){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jg(e)}function Xre(e){return tie(e)||eie(e)||Zre(e)||Qre()}function Qre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zre(e,t){if(e){if(typeof e=="string")return RE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RE(e,t)}}function RE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tie(e){if(Array.isArray(e))return e}function nie(){var e={},t=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=Xre(a),l=s[0],u=s.slice(1);if(typeof l=="number"){OE(i.bind(null,u),l);return}i(l),OE(i.bind(null,u));return}jg(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function Nl(e){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nl(e)}function NE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ME(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NE(Object(n),!0).forEach(function(r){ZI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZI(e,t,n){return t=rie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rie(e){var t=iie(e,"string");return Nl(t)==="symbol"?t:String(t)}function iie(e,t){if(Nl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Nl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oie=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},aie=function(t){return t},sie=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Us=function(t,n){return Object.keys(n).reduce(function(r,i){return ME(ME({},r),{},ZI({},i,t(i,n[i])))},{})},$E=function(t,n,r){return t.map(function(i){return"".concat(sie(i)," ").concat(n,"ms ").concat(r)}).join(",")};function lie(e,t){return fie(e)||cie(e,t)||eO(e,t)||uie()}function uie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cie(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function fie(e){if(Array.isArray(e))return e}function die(e){return mie(e)||pie(e)||eO(e)||hie()}function hie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eO(e,t){if(e){if(typeof e=="string")return Fg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fg(e,t)}}function pie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mie(e){if(Array.isArray(e))return Fg(e)}function Fg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xf=1e-4,tO=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},nO=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},DE=function(t,n){return function(r){var i=tO(t,n);return nO(i,r)}},gie=function(t,n){return function(r){var i=tO(t,n),o=[].concat(die(i.map(function(a,s){return a*s}).slice(1)),[0]);return nO(o,r)}},LE=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),c=lie(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var f=DE(i,a),h=DE(o,s),m=gie(i,a),g=function(v){return v>1?1:v<0?0:v},y=function(v){for(var w=v>1?1:v,_=w,E=0;E<8;++E){var S=f(_)-w,x=m(_);if(Math.abs(S-w)<xf||x<xf)return h(_);_=g(_-S/x)}return h(_)};return y.isStepper=!1,y},yie=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,o=i===void 0?8:i,a=t.dt,s=a===void 0?17:a,l=function(c,f,h){var m=-(c-f)*r,g=h*o,y=h+(m-g)*s/1e3,b=h*s/1e3+c;return Math.abs(b-f)<xf&&Math.abs(y)<xf?[f,0]:[b,y]};return l.isStepper=!0,l.dt=s,l},vie=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return LE(i);case"spring":return yie();default:if(i.split("(")[0]==="cubic-bezier")return LE(i)}return typeof i=="function"?i:null};function Ml(e){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ml(e)}function UE(e){return _ie(e)||bie(e)||rO(e)||wie()}function wie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _ie(e){if(Array.isArray(e))return zg(e)}function jE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(n),!0).forEach(function(r){Bg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bg(e,t,n){return t=Sie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sie(e){var t=xie(e,"string");return Ml(t)==="symbol"?t:String(t)}function xie(e,t){if(Ml(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ml(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eie(e,t){return Cie(e)||Aie(e,t)||rO(e,t)||Tie()}function Tie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rO(e,t){if(e){if(typeof e=="string")return zg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zg(e,t)}}function zg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Aie(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Cie(e){if(Array.isArray(e))return e}var Ef=function(t,n,r){return t+(n-t)*r},Hg=function(t){var n=t.from,r=t.to;return n!==r},Pie=function e(t,n,r){var i=Us(function(o,a){if(Hg(a)){var s=t(a.from,a.to,a.velocity),l=Eie(s,2),u=l[0],c=l[1];return dt(dt({},a),{},{from:u,velocity:c})}return a},n);return r<1?Us(function(o,a){return Hg(a)?dt(dt({},a),{},{velocity:Ef(a.velocity,i[o].velocity,r),from:Ef(a.from,i[o].from,r)}):a},n):e(t,i,r-1)};const kie=function(e,t,n,r,i){var o=oie(e,t),a=o.reduce(function(b,v){return dt(dt({},b),{},Bg({},v,[e[v],t[v]]))},{}),s=o.reduce(function(b,v){return dt(dt({},b),{},Bg({},v,{from:e[v],velocity:0,to:t[v]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return Us(function(v,w){return w.from},s)},m=function(){return!Object.values(s).filter(Hg).length},g=function(v){u||(u=v);var w=v-u,_=w/n.dt;s=Pie(n,s,_),i(dt(dt(dt({},e),t),h())),u=v,m()||(l=requestAnimationFrame(f))},y=function(v){c||(c=v);var w=(v-c)/r,_=Us(function(S,x){return Ef.apply(void 0,UE(x).concat([n(w)]))},a);if(i(dt(dt(dt({},e),t),_)),w<1)l=requestAnimationFrame(f);else{var E=Us(function(S,x){return Ef.apply(void 0,UE(x).concat([n(1)]))},a);i(dt(dt(dt({},e),t),E))}};return f=n.isStepper?g:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function pa(e){"@babel/helpers - typeof";return pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pa(e)}var Iie=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Oie(e,t){if(e==null)return{};var n=Rie(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Rie(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function wp(e){return Die(e)||$ie(e)||Mie(e)||Nie()}function Nie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mie(e,t){if(e){if(typeof e=="string")return Vg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vg(e,t)}}function $ie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Die(e){if(Array.isArray(e))return Vg(e)}function Vg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FE(Object(n),!0).forEach(function(r){xs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xs(e,t,n){return t=iO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iO(r.key),r)}}function jie(e,t,n){return t&&Uie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iO(e){var t=Fie(e,"string");return pa(t)==="symbol"?t:String(t)}function Fie(e,t){if(pa(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(pa(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gg(e,t)}function Gg(e,t){return Gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gg(e,t)}function zie(e){var t=Hie();return function(){var r=Tf(e),i;if(t){var o=Tf(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return qg(this,i)}}function qg(e,t){if(t&&(pa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wg(e)}function Wg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tf(e){return Tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tf(e)}var wr=function(e){Bie(n,e);var t=zie(n);function n(r,i){var o;Lie(this,n),o=t.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,f=a.steps,h=a.children,m=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Wg(o)),o.changeStyle=o.changeStyle.bind(Wg(o)),!s||m<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),qg(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},qg(o);o.state={style:l?xs({},l,u):u}}else o.state={style:{}};return o}return jie(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,h=this.state.style;if(s){if(!a){var m={style:l?xs({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(m);return}if(!(Jre(i.to,c)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=g||u?f:i.to;if(this.state&&h){var b={style:l?xs({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(b)}this.runAnimation(Sn(Sn({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=kie(a,s,vie(u),l,this.changeStyle),g=function(){o.stopJSAnimation=m()};this.manager.start([h,c,g,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,f=u.duration,h=f===void 0?0:f,m=function(y,b,v){if(v===0)return y;var w=b.duration,_=b.easing,E=_===void 0?"ease":_,S=b.style,x=b.properties,T=b.onAnimationEnd,C=v>0?a[v-1]:b,P=x||Object.keys(S);if(typeof E=="function"||E==="spring")return[].concat(wp(y),[o.runJSAnimation.bind(o,{from:C.style,to:S,duration:w,easing:E}),w]);var I=$E(P,w,E),R=Sn(Sn(Sn({},C.style),S),{},{transition:I});return[].concat(wp(y),[R,w,T]).filter(aie)};return this.manager.start([l].concat(wp(a.reduce(m,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=nie());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=s?xs({},s,l):l,b=$E(Object.keys(y),a,u);g.start([c,o,Sn(Sn({},y),{},{transition:b}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Oie(i,Iie),u=j.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var f=function(m){var g=m.props,y=g.style,b=y===void 0?{}:y,v=g.className,w=j.cloneElement(m,Sn(Sn({},l),{},{style:Sn(Sn({},b),c),className:v}));return w};return u===1?f(j.Children.only(o)):k.createElement("div",null,j.Children.map(o,function(h){return f(h)}))}}]),n}(j.PureComponent);wr.displayName="Animate";wr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};wr.propTypes={from:ye.oneOfType([ye.object,ye.string]),to:ye.oneOfType([ye.object,ye.string]),attributeName:ye.string,duration:ye.number,begin:ye.number,easing:ye.oneOfType([ye.string,ye.func]),steps:ye.arrayOf(ye.shape({duration:ye.number.isRequired,style:ye.object.isRequired,easing:ye.oneOfType([ye.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ye.func]),properties:ye.arrayOf("string"),onAnimationEnd:ye.func})),children:ye.oneOfType([ye.node,ye.func]),isActive:ye.bool,canBegin:ye.bool,onAnimationEnd:ye.func,shouldReAnimate:ye.bool,onAnimationStart:ye.func,onAnimationReStart:ye.func};function $l(e){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$l(e)}function Af(){return Af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Af.apply(this,arguments)}function Vie(e,t){return Kie(e)||Wie(e,t)||qie(e,t)||Gie()}function Gie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qie(e,t){if(e){if(typeof e=="string")return BE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BE(e,t)}}function BE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wie(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Kie(e){if(Array.isArray(e))return e}function zE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zE(Object(n),!0).forEach(function(r){Jie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jie(e,t,n){return t=Yie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yie(e){var t=Xie(e,"string");return $l(t)=="symbol"?t:t+""}function Xie(e,t){if($l(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VE=function(t,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=o[h]>a?a:o[h];c="M".concat(t,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(n)),c+="L ".concat(t+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+s*f[1])),c+="L ".concat(t+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+r-l*f[2],",").concat(n+i)),c+="L ".concat(t+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+i-s*f[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var g=Math.min(a,o);c="M ".concat(t,",").concat(n+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+l*g,",").concat(n,`
            L `).concat(t+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+r,",").concat(n+s*g,`
            L `).concat(t+r,",").concat(n+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+r-l*g,",").concat(n+i,`
            L `).concat(t+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(n+i-s*g," Z")}else c="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Qie=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),f=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},Zie={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},x0=function(t){var n=HE(HE({},Zie),t),r=j.useRef(),i=j.useState(-1),o=Vie(i,2),a=o[0],s=o[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&s(E)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,m=n.className,g=n.animationEasing,y=n.animationDuration,b=n.animationBegin,v=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var _=le("recharts-rectangle",m);return w?k.createElement(wr,{canBegin:a>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:y,animationEasing:g,isActive:w},function(E){var S=E.width,x=E.height,T=E.x,C=E.y;return k.createElement(wr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:v,easing:g},k.createElement("path",Af({},re(n,!0),{className:_,d:VE(T,C,S,x,h),ref:r})))}):k.createElement("path",Af({},re(n,!0),{className:_,d:VE(l,u,c,f,h)}))},eoe=["points","className","baseLinePoints","connectNulls"];function Do(){return Do=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Do.apply(this,arguments)}function toe(e,t){if(e==null)return{};var n=noe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function noe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function GE(e){return aoe(e)||ooe(e)||ioe(e)||roe()}function roe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ioe(e,t){if(e){if(typeof e=="string")return Kg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kg(e,t)}}function ooe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aoe(e){if(Array.isArray(e))return Kg(e)}function Kg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qE=function(t){return t&&t.x===+t.x&&t.y===+t.y},soe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){qE(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),qE(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},js=function(t,n){var r=soe(t);n&&(r=[r.reduce(function(o,a){return[].concat(GE(o),GE(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},loe=function(t,n,r){var i=js(t,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(js(n.reverse(),r).slice(1))},uoe=function(t){var n=t.points,r=t.className,i=t.baseLinePoints,o=t.connectNulls,a=toe(t,eoe);if(!n||!n.length)return null;var s=le("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",u=loe(n,i,o);return k.createElement("g",{className:s},k.createElement("path",Do({},re(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),l?k.createElement("path",Do({},re(a,!0),{fill:"none",d:js(n,o)})):null,l?k.createElement("path",Do({},re(a,!0),{fill:"none",d:js(i,o)})):null)}var c=js(n,o);return k.createElement("path",Do({},re(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",className:s,d:c}))};function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jg.apply(this,arguments)}var E0=function(t){var n=t.cx,r=t.cy,i=t.r,o=t.className,a=le("recharts-dot",o);return n===+n&&r===+r&&i===+i?j.createElement("circle",Jg({},re(t,!1),Vc(t),{className:a,cx:n,cy:r,r:i})):null};function Dl(e){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dl(e)}var coe=["x","y","top","left","width","height","className"];function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yg.apply(this,arguments)}function WE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function foe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WE(Object(n),!0).forEach(function(r){doe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function doe(e,t,n){return t=hoe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hoe(e){var t=poe(e,"string");return Dl(t)=="symbol"?t:t+""}function poe(e,t){if(Dl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function moe(e,t){if(e==null)return{};var n=goe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function goe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var yoe=function(t,n,r,i,o,a){return"M".concat(t,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},voe=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,o=i===void 0?0:i,a=t.top,s=a===void 0?0:a,l=t.left,u=l===void 0?0:l,c=t.width,f=c===void 0?0:c,h=t.height,m=h===void 0?0:h,g=t.className,y=moe(t,coe),b=foe({x:r,y:o,top:s,left:u,width:f,height:m},y);return!W(r)||!W(o)||!W(f)||!W(m)||!W(s)||!W(u)?null:k.createElement("path",Yg({},re(b,!0),{className:le("recharts-cross",g),d:yoe(r,o,f,m,s,u)}))},woe=qd,boe=gI,_oe=Yn;function Soe(e,t){return e&&e.length?woe(e,_oe(t),boe):void 0}var xoe=Soe;const Eoe=be(xoe);var Toe=qd,Aoe=Yn,Coe=yI;function Poe(e,t){return e&&e.length?Toe(e,Aoe(t),Coe):void 0}var koe=Poe;const Ioe=be(koe);var Ooe=["cx","cy","angle","ticks","axisLine"],Roe=["ticks","tick","angle","tickFormatter","stroke"];function ma(e){"@babel/helpers - typeof";return ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ma(e)}function Fs(){return Fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fs.apply(this,arguments)}function KE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(n),!0).forEach(function(r){Zd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JE(e,t){if(e==null)return{};var n=Noe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Noe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Moe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aO(r.key),r)}}function $oe(e,t,n){return t&&YE(e.prototype,t),n&&YE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Doe(e,t,n){return t=Cf(t),Loe(e,oO()?Reflect.construct(t,n||[],Cf(e).constructor):t.apply(e,n))}function Loe(e,t){if(t&&(ma(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uoe(e)}function Uoe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oO=function(){return!!e})()}function Cf(e){return Cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cf(e)}function joe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xg(e,t)}function Xg(e,t){return Xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xg(e,t)}function Zd(e,t,n){return t=aO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aO(e){var t=Foe(e,"string");return ma(t)=="symbol"?t:t+""}function Foe(e,t){if(ma(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ma(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eh=function(e){function t(){return Moe(this,t),Doe(this,t,arguments)}return joe(t,e),$oe(t,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return Pe(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=Eoe(s,function(c){return c.coordinate||0}),u=Ioe(s,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,u=JE(r,Ooe),c=s.reduce(function(g,y){return[Math.min(g[0],y.coordinate),Math.max(g[1],y.coordinate)]},[1/0,-1/0]),f=Pe(i,o,c[0],a),h=Pe(i,o,c[1],a),m=gi(gi(gi({},re(u,!1)),{},{fill:"none"},re(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return k.createElement("line",Fs({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=JE(i,Roe),f=this.getTickTextAnchor(),h=re(c,!1),m=re(a,!1),g=o.map(function(y,b){var v=r.getTickValueCoord(y),w=gi(gi(gi(gi({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:b},v),{},{payload:y});return k.createElement(ve,Fs({className:le("recharts-polar-radius-axis-tick",GI(a)),key:"tick-".concat(y.coordinate)},qi(r.props,y,b)),t.renderTickItem(a,w,l?l(y.value,b):y.value))});return k.createElement(ve,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:k.createElement(ve,{className:le("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),at.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return k.isValidElement(r)?a=k.cloneElement(r,i):ie(r)?a=r(i):a=k.createElement(Wi,Fs({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(j.PureComponent);Zd(eh,"displayName","PolarRadiusAxis");Zd(eh,"axisType","radiusAxis");Zd(eh,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ga(e){"@babel/helpers - typeof";return ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ga(e)}function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ci.apply(this,arguments)}function XE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XE(Object(n),!0).forEach(function(r){th(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Boe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lO(r.key),r)}}function zoe(e,t,n){return t&&QE(e.prototype,t),n&&QE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hoe(e,t,n){return t=Pf(t),Voe(e,sO()?Reflect.construct(t,n||[],Pf(e).constructor):t.apply(e,n))}function Voe(e,t){if(t&&(ga(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Goe(e)}function Goe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sO=function(){return!!e})()}function Pf(e){return Pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pf(e)}function qoe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qg(e,t)}function Qg(e,t){return Qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qg(e,t)}function th(e,t,n){return t=lO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lO(e){var t=Woe(e,"string");return ga(t)=="symbol"?t:t+""}function Woe(e,t){if(ga(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ga(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Koe=Math.PI/180,ZE=1e-5,nh=function(e){function t(){return Boe(this,t),Hoe(this,t,arguments)}return qoe(t,e),zoe(t,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,f=Pe(o,a,s,r.coordinate),h=Pe(o,a,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*Koe),a;return o>ZE?a=i==="outer"?"start":"end":o<-ZE?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,u=yi(yi({},re(this.props,!1)),{},{fill:"none"},re(s,!1));if(l==="circle")return k.createElement(E0,Ci({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:a}));var c=this.props.ticks,f=c.map(function(h){return Pe(i,o,a,h.coordinate)});return k.createElement(uoe,Ci({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=re(this.props,!1),f=re(a,!1),h=yi(yi({},c),{},{fill:"none"},re(s,!1)),m=o.map(function(g,y){var b=r.getTickLineCoord(g),v=r.getTickTextAnchor(g),w=yi(yi(yi({textAnchor:v},c),{},{stroke:"none",fill:u},f),{},{index:y,payload:g,x:b.x2,y:b.y2});return k.createElement(ve,Ci({className:le("recharts-polar-angle-axis-tick",GI(a)),key:"tick-".concat(g.coordinate)},qi(r.props,g,y)),s&&k.createElement("line",Ci({className:"recharts-polar-angle-axis-tick-line"},h,b)),a&&t.renderTickItem(a,w,l?l(g.value,y):g.value))});return k.createElement(ve,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:k.createElement(ve,{className:le("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return k.isValidElement(r)?a=k.cloneElement(r,i):ie(r)?a=r(i):a=k.createElement(Wi,Ci({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(j.PureComponent);th(nh,"displayName","PolarAngleAxis");th(nh,"axisType","angleAxis");th(nh,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Joe=dk,Yoe=Joe(Object.getPrototypeOf,Object),Xoe=Yoe,Qoe=Er,Zoe=Xoe,eae=Tr,tae="[object Object]",nae=Function.prototype,rae=Object.prototype,uO=nae.toString,iae=rae.hasOwnProperty,oae=uO.call(Object);function aae(e){if(!eae(e)||Qoe(e)!=tae)return!1;var t=Zoe(e);if(t===null)return!0;var n=iae.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&uO.call(n)==oae}var sae=aae;const lae=be(sae);var uae=Er,cae=Tr,fae="[object Boolean]";function dae(e){return e===!0||e===!1||cae(e)&&uae(e)==fae}var hae=dae;const pae=be(hae);function Ll(e){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kf.apply(this,arguments)}function mae(e,t){return wae(e)||vae(e,t)||yae(e,t)||gae()}function gae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yae(e,t){if(e){if(typeof e=="string")return eT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eT(e,t)}}function eT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vae(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function wae(e){if(Array.isArray(e))return e}function tT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tT(Object(n),!0).forEach(function(r){bae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bae(e,t,n){return t=_ae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ae(e){var t=Sae(e,"string");return Ll(t)=="symbol"?t:t+""}function Sae(e,t){if(Ll(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rT=function(t,n,r,i,o){var a=r-i,s;return s="M ".concat(t,",").concat(n),s+="L ".concat(t+r,",").concat(n),s+="L ".concat(t+r-a/2,",").concat(n+o),s+="L ".concat(t+r-a/2-i,",").concat(n+o),s+="L ".concat(t,",").concat(n," Z"),s},xae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Eae=function(t){var n=nT(nT({},xae),t),r=j.useRef(),i=j.useState(-1),o=mae(i,2),a=o[0],s=o[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,g=n.animationEasing,y=n.animationDuration,b=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var w=le("recharts-trapezoid",m);return v?k.createElement(wr,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:y,animationEasing:g,isActive:v},function(_){var E=_.upperWidth,S=_.lowerWidth,x=_.height,T=_.x,C=_.y;return k.createElement(wr,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:g},k.createElement("path",kf({},re(n,!0),{className:w,d:rT(T,C,E,S,x),ref:r})))}):k.createElement("g",null,k.createElement("path",kf({},re(n,!0),{className:w,d:rT(l,u,c,f,h)})))},Tae=["option","shapeType","propTransformer","activeClassName","isActive"];function Ul(e){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(e)}function Aae(e,t){if(e==null)return{};var n=Cae(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Cae(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function iT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function If(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iT(Object(n),!0).forEach(function(r){Pae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pae(e,t,n){return t=kae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kae(e){var t=Iae(e,"string");return Ul(t)=="symbol"?t:t+""}function Iae(e,t){if(Ul(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oae(e,t){return If(If({},t),e)}function Rae(e,t){return e==="symbols"}function oT(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return k.createElement(x0,n);case"trapezoid":return k.createElement(Eae,n);case"sector":return k.createElement(KI,n);case"symbols":if(Rae(t))return k.createElement(zv,n);break;default:return null}}function Nae(e){return j.isValidElement(e)?e.props:e}function cO(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?Oae:r,o=e.activeClassName,a=o===void 0?"recharts-active-shape":o,s=e.isActive,l=Aae(e,Tae),u;if(j.isValidElement(t))u=j.cloneElement(t,If(If({},l),Nae(t)));else if(ie(t))u=t(l);else if(lae(t)&&!pae(t)){var c=i(t,l);u=k.createElement(oT,{shapeType:n,elementProps:c})}else{var f=l;u=k.createElement(oT,{shapeType:n,elementProps:f})}return s?k.createElement(ve,{className:a},u):u}function rh(e,t){return t!=null&&"trapezoids"in e.props}function ih(e,t){return t!=null&&"sectors"in e.props}function jl(e,t){return t!=null&&"points"in e.props}function Mae(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,o=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&o}function $ae(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function Dae(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function Lae(e,t){var n;return rh(e,t)?n=Mae:ih(e,t)?n=$ae:jl(e,t)&&(n=Dae),n}function Uae(e,t){var n;return rh(e,t)?n="trapezoids":ih(e,t)?n="sectors":jl(e,t)&&(n="points"),n}function jae(e,t){if(rh(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(ih(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return jl(e,t)?t.payload:{}}function Fae(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=Uae(n,t),o=jae(n,t),a=r.filter(function(l,u){var c=Jd(o,l),f=n.props[i].filter(function(g){var y=Lae(n,t);return y(g,t)}),h=n.props[i].indexOf(f[f.length-1]),m=u===h;return c&&m}),s=r.indexOf(a[a.length-1]);return s}var cc;function ya(e){"@babel/helpers - typeof";return ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ya(e)}function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lo.apply(this,arguments)}function aT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(n),!0).forEach(function(r){un(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dO(r.key),r)}}function zae(e,t,n){return t&&sT(e.prototype,t),n&&sT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hae(e,t,n){return t=Of(t),Vae(e,fO()?Reflect.construct(t,n||[],Of(e).constructor):t.apply(e,n))}function Vae(e,t){if(t&&(ya(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gae(e)}function Gae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fO=function(){return!!e})()}function Of(e){return Of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Of(e)}function qae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zg(e,t)}function Zg(e,t){return Zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zg(e,t)}function un(e,t,n){return t=dO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dO(e){var t=Wae(e,"string");return ya(t)=="symbol"?t:t+""}function Wae(e,t){if(ya(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ya(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cr=function(e){function t(n){var r;return Bae(this,t),r=Hae(this,t,[n]),un(r,"pieRef",null),un(r,"sectorRefs",[]),un(r,"id",eu("recharts-pie-")),un(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ie(i)&&i()}),un(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ie(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return qae(t,e),zae(t,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,u=o.valueKey,c=re(this.props,!1),f=re(a,!1),h=re(s,!1),m=a&&a.offsetRadius||20,g=r.map(function(y,b){var v=(y.startAngle+y.endAngle)/2,w=Pe(y.cx,y.cy,y.outerRadius+m,v),_=Te(Te(Te(Te({},c),y),{},{stroke:"none"},f),{},{index:b,textAnchor:t.getTextAnchor(w.x,y.cx)},w),E=Te(Te(Te(Te({},c),y),{},{fill:"none",stroke:y.fill},h),{},{index:b,points:[Pe(y.cx,y.cy,y.outerRadius,v),w]}),S=l;return ue(l)&&ue(u)?S="value":ue(l)&&(S=u),k.createElement(ve,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},s&&t.renderLabelLineItem(s,E,"line"),t.renderLabelItem(a,_,_t(y,S)))});return k.createElement(ve,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(c),h=l&&i.hasActiveIndex()?l:null,m=f?a:h,g=Te(Te({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return k.createElement(ve,Lo({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},qi(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),k.createElement(cO,Lo({option:m,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return k.createElement(wr,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var y=g.t,b=[],v=o&&o[0],w=v.startAngle;return o.forEach(function(_,E){var S=h&&h[E],x=E>0?Qt(_,"paddingAngle",0):0;if(S){var T=Nr(S.endAngle-S.startAngle,_.endAngle-_.startAngle),C=Te(Te({},_),{},{startAngle:w+x,endAngle:w+T(y)+x});b.push(C),w=C.endAngle}else{var P=_.endAngle,I=_.startAngle,R=Nr(0,P-I),O=R(y),D=Te(Te({},_),{},{startAngle:w+x,endAngle:w+O+x});b.push(D),w=D.endAngle}}),k.createElement(ve,null,r.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!Jd(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,f=i.innerRadius,h=i.outerRadius,m=i.isAnimationActive,g=this.state.isAnimationFinished;if(o||!a||!a.length||!W(u)||!W(c)||!W(f)||!W(h))return null;var y=le("recharts-pie",s);return k.createElement(ve,{tabIndex:this.props.rootTabIndex,className:y,ref:function(v){r.pieRef=v}},this.renderSectors(),l&&this.renderLabels(a),at.renderCallByParent(this.props,null,!1),(!m||g)&&Zr.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(k.isValidElement(r))return k.cloneElement(r,i);if(ie(r))return r(i);var a=le("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return k.createElement(Ug,Lo({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(k.isValidElement(r))return k.cloneElement(r,i);var a=o;if(ie(r)&&(a=r(i),k.isValidElement(a)))return a;var s=le("recharts-pie-label-text",typeof r!="boolean"&&!ie(r)?r.className:"");return k.createElement(Wi,Lo({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(j.PureComponent);cc=Cr;un(Cr,"displayName","Pie");un(Cr,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Va.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});un(Cr,"parseDeltaAngle",function(e,t){var n=Ct(t-e),r=Math.min(Math.abs(t-e),360);return n*r});un(Cr,"getRealPieData",function(e){var t=e.data,n=e.children,r=re(e,!1),i=pn(n,jd);return t&&t.length?t.map(function(o,a){return Te(Te(Te({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return Te(Te({},r),o.props)}):[]});un(Cr,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,i=t.width,o=t.height,a=VI(i,o),s=r+Pt(e.cx,i,i/2),l=n+Pt(e.cy,o,o/2),u=Pt(e.innerRadius,a,0),c=Pt(e.outerRadius,a,a*.8),f=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:f}});un(Cr,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?Te(Te({},t.type.defaultProps),t.props):t.props,i=cc.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,f=r.valueKey,h=r.tooltipType,m=Math.abs(r.minAngle),g=cc.parseCoordinateOfPie(r,n),y=cc.parseDeltaAngle(a,s),b=Math.abs(y),v=u;ue(u)&&ue(f)?(Dn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):ue(u)&&(Dn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var w=i.filter(function(C){return _t(C,v,0)!==0}).length,_=(b>=360?w:w-1)*l,E=b-w*m-_,S=i.reduce(function(C,P){var I=_t(P,v,0);return C+(W(I)?I:0)},0),x;if(S>0){var T;x=i.map(function(C,P){var I=_t(C,v,0),R=_t(C,c,P),O=(W(I)?I:0)/S,D;P?D=T.endAngle+Ct(y)*l*(I!==0?1:0):D=a;var $=D+Ct(y)*((I!==0?m:0)+O*E),M=(D+$)/2,L=(g.innerRadius+g.outerRadius)/2,z=[{name:R,value:I,payload:C,dataKey:v,type:h}],N=Pe(g.cx,g.cy,L,M);return T=Te(Te(Te({percent:O,cornerRadius:o,name:R,tooltipPayload:z,midAngle:M,middleRadius:L,tooltipPosition:N},C),g),{},{value:_t(C,v),startAngle:D,endAngle:$,payload:C,paddingAngle:Ct(y)*l}),T})}return Te(Te({},g),{},{sectors:x,data:i})});var Kae=Math.ceil,Jae=Math.max;function Yae(e,t,n,r){for(var i=-1,o=Jae(Kae((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a}var Xae=Yae,Qae=Ok,lT=1/0,Zae=17976931348623157e292;function ese(e){if(!e)return e===0?e:0;if(e=Qae(e),e===lT||e===-lT){var t=e<0?-1:1;return t*Zae}return e===e?e:0}var hO=ese,tse=Xae,nse=Ud,bp=hO;function rse(e){return function(t,n,r){return r&&typeof r!="number"&&nse(t,n,r)&&(n=r=void 0),t=bp(t),n===void 0?(n=t,t=0):n=bp(n),r=r===void 0?t<n?1:-1:bp(r),tse(t,n,r,e)}}var ise=rse,ose=ise,ase=ose(),sse=ase;const Rf=be(sse);function Fl(e){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(e)}function uT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uT(Object(n),!0).forEach(function(r){pO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pO(e,t,n){return t=lse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lse(e){var t=use(e,"string");return Fl(t)=="symbol"?t:t+""}function use(e,t){if(Fl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cse=["Webkit","Moz","O","ms"],fse=function(t,n){var r=t.replace(/(\w)/,function(o){return o.toUpperCase()}),i=cse.reduce(function(o,a){return cT(cT({},o),{},pO({},a+r,n))},{});return i[t]=n,i};function va(e){"@babel/helpers - typeof";return va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},va(e)}function Nf(){return Nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nf.apply(this,arguments)}function fT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _p(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(n),!0).forEach(function(r){Gt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gO(r.key),r)}}function hse(e,t,n){return t&&dT(e.prototype,t),n&&dT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pse(e,t,n){return t=Mf(t),mse(e,mO()?Reflect.construct(t,n||[],Mf(e).constructor):t.apply(e,n))}function mse(e,t){if(t&&(va(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gse(e)}function gse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mO=function(){return!!e})()}function Mf(e){return Mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mf(e)}function yse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ey(e,t)}function ey(e,t){return ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ey(e,t)}function Gt(e,t,n){return t=gO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gO(e){var t=vse(e,"string");return va(t)=="symbol"?t:t+""}function vse(e,t){if(va(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(va(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wse=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,o=t.x,a=t.width,s=t.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Ds().domain(Rf(0,l)).range([o,o+a-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},hT=function(t){return t.changedTouches&&!!t.changedTouches.length},wa=function(e){function t(n){var r;return dse(this,t),r=pse(this,t,[n]),Gt(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Gt(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Gt(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),Gt(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Gt(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Gt(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Gt(r,"handleSlideDragStart",function(i){var o=hT(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return yse(t,e),hse(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,o),h=Math.max(i,o),m=t.getIndexInRange(a,f),g=t.getIndexInRange(a,h);return{startIndex:m-m%l,endIndex:g===c?c:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=_t(o[r],s,r);return ie(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,m=l.endIndex,g=l.onChange,y=r.pageX-o;y>0?y=Math.min(y,u+c-f-s,u+c-f-a):y<0&&(y=Math.max(y,u-a,u-s));var b=this.getIndex({startX:a+y,endX:s+y});(b.startIndex!==h||b.endIndex!==m)&&g&&g(b),this.setState({startX:a+y,endX:s+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=hT(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,f=c.x,h=c.width,m=c.travellerWidth,g=c.onChange,y=c.gap,b=c.data,v={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,f+h-m-u):w<0&&(w=Math.max(w,f-u)),v[a]=u+w;var _=this.getIndex(v),E=_.startIndex,S=_.endIndex,x=function(){var C=b.length-1;return a==="startX"&&(s>l?E%y===0:S%y===0)||s<l&&S===C||a==="endX"&&(s>l?S%y===0:E%y===0)||s>l&&S===C};this.setState(Gt(Gt({},a,u+w),"brushMoveStartX",r.pageX),function(){g&&x()&&g(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var m=s[h];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(Gt({},i,m),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return k.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=j.Children.only(u);return f?k.cloneElement(f,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,m=l.ariaLabel,g=l.data,y=l.startIndex,b=l.endIndex,v=Math.max(r,this.props.x),w=_p(_p({},re(this.props,!1)),{},{x:v,y:u,width:c,height:f}),_=m||"Min value: ".concat((o=g[y])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=g[b])===null||a===void 0?void 0:a.name);return k.createElement(ve,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),s.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return k.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,m=5,g={pointerEvents:"none",fill:u};return k.createElement(ve,{className:"recharts-brush-texts"},k.createElement(Wi,Nf({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:a+s/2},g),this.getTextOfTick(i)),k.createElement(Wi,Nf({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+m,y:a+s/2},g),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,g=h.endX,y=h.isTextActive,b=h.isSlideMoving,v=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!W(s)||!W(l)||!W(u)||!W(c)||u<=0||c<=0)return null;var _=le("recharts-brush",o),E=k.Children.count(a)===1,S=fse("userSelect","none");return k.createElement(ve,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(y||b||v||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return k.createElement(k.Fragment,null,k.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),k.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),k.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return k.isValidElement(r)?o=k.cloneElement(r,i):ie(r)?o=r(i):o=t.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return _p({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?wse({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(j.PureComponent);Gt(wa,"displayName","Brush");Gt(wa,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var bse=Jv;function _se(e,t){var n;return bse(e,function(r,i,o){return n=t(r,i,o),!n}),!!n}var Sse=_se,xse=ik,Ese=Yn,Tse=Sse,Ase=Ht,Cse=Ud;function Pse(e,t,n){var r=Ase(e)?xse:Tse;return n&&Cse(e,t,n)&&(t=void 0),r(e,Ese(t))}var kse=Pse;const Ise=be(kse);var Wn=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},pT=Ak;function Ose(e,t,n){t=="__proto__"&&pT?pT(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Rse=Ose,Nse=Rse,Mse=Ek,$se=Yn;function Dse(e,t){var n={};return t=$se(t),Mse(e,function(r,i,o){Nse(n,i,t(r,i,o))}),n}var Lse=Dse;const Use=be(Lse);function jse(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var Fse=jse,Bse=Jv;function zse(e,t){var n=!0;return Bse(e,function(r,i,o){return n=!!t(r,i,o),n}),n}var Hse=zse,Vse=Fse,Gse=Hse,qse=Yn,Wse=Ht,Kse=Ud;function Jse(e,t,n){var r=Wse(e)?Vse:Gse;return n&&Kse(e,t,n)&&(t=void 0),r(e,qse(t))}var Yse=Jse;const yO=be(Yse);var Xse=["x","y"];function Bl(e){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ty.apply(this,arguments)}function mT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(n),!0).forEach(function(r){Qse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qse(e,t,n){return t=Zse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zse(e){var t=ele(e,"string");return Bl(t)=="symbol"?t:t+""}function ele(e,t){if(Bl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tle(e,t){if(e==null)return{};var n=nle(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nle(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function rle(e,t){var n=e.x,r=e.y,i=tle(e,Xse),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(t.height||i.height),c=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return gs(gs(gs(gs(gs({},t),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:h,name:t.name,radius:t.radius})}function gT(e){return k.createElement(cO,ty({shapeType:"rectangle",propTransformer:rle,activeClassName:"recharts-active-bar"},e))}var ile=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var o=W(r)||A4(r);return o?t(r,i):(o||Ji(),n)}},ole=["value","background"],vO;function ba(e){"@babel/helpers - typeof";return ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ba(e)}function ale(e,t){if(e==null)return{};var n=sle(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sle(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function $f(){return $f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$f.apply(this,arguments)}function yT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(n),!0).forEach(function(r){Br(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bO(r.key),r)}}function ule(e,t,n){return t&&vT(e.prototype,t),n&&vT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cle(e,t,n){return t=Df(t),fle(e,wO()?Reflect.construct(t,n||[],Df(e).constructor):t.apply(e,n))}function fle(e,t){if(t&&(ba(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dle(e)}function dle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wO=function(){return!!e})()}function Df(e){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Df(e)}function hle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ny(e,t)}function ny(e,t){return ny=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ny(e,t)}function Br(e,t,n){return t=bO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bO(e){var t=ple(e,"string");return ba(t)=="symbol"?t:t+""}function ple(e,t){if(ba(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ba(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ni=function(e){function t(){var n;lle(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=cle(this,t,[].concat(i)),Br(n,"state",{isAnimationFinished:!1}),Br(n,"id",eu("recharts-bar-")),Br(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Br(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return hle(t,e),ule(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=re(this.props,!1);return r&&r.map(function(f,h){var m=h===l,g=m?u:a,y=Ge(Ge(Ge({},c),f),{},{isActive:m,option:g,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return k.createElement(ve,$f({className:"recharts-bar-rectangle"},qi(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),k.createElement(gT,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return k.createElement(wr,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,y=o.map(function(b,v){var w=h&&h[v];if(w){var _=Nr(w.x,b.x),E=Nr(w.y,b.y),S=Nr(w.width,b.width),x=Nr(w.height,b.height);return Ge(Ge({},b),{},{x:_(g),y:E(g),width:S(g),height:x(g)})}if(a==="horizontal"){var T=Nr(0,b.height),C=T(g);return Ge(Ge({},b),{},{y:b.y+b.height-C,height:C})}var P=Nr(0,b.width),I=P(g);return Ge(Ge({},b),{},{width:I})});return k.createElement(ve,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Jd(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=re(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,h=ale(u,ole);if(!f)return null;var m=Ge(Ge(Ge(Ge(Ge({},h),{},{fill:"#eee"},f),l),qi(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return k.createElement(gT,$f({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=pn(c,Qd);if(!f)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,m=function(b,v){var w=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:w,errorVal:_t(b,v)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return k.createElement(ve,g,f.map(function(y){return k.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,m=r.isAnimationActive,g=r.background,y=r.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,v=le("recharts-bar",a),w=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,E=w||_,S=ue(y)?this.id:y;return k.createElement(ve,{className:v},w||_?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(S)},k.createElement("rect",{x:w?u:u-f/2,y:_?c:c-h/2,width:w?f:f*2,height:_?h:h*2}))):null,k.createElement(ve,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,S),(!m||b)&&Zr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(j.PureComponent);vO=ni;Br(ni,"displayName","Bar");Br(ni,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Va.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Br(ni,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,c=e.dataStartIndex,f=e.displayedData,h=e.offset,m=Vte(r,n);if(!m)return null;var g=t.layout,y=n.type.defaultProps,b=y!==void 0?Ge(Ge({},y),n.props):n.props,v=b.dataKey,w=b.children,_=b.minPointSize,E=g==="horizontal"?a:o,S=u?E.scale.domain():null,x=Xte({numericAxis:E}),T=pn(w,jd),C=f.map(function(P,I){var R,O,D,$,M,L;u?R=Gte(u[c+I],S):(R=_t(P,v),Array.isArray(R)||(R=[x,R]));var z=ile(_,vO.defaultProps.minPointSize)(R[1],I);if(g==="horizontal"){var N,F=[a.scale(R[0]),a.scale(R[1])],B=F[0],H=F[1];O=cE({axis:o,ticks:s,bandSize:i,offset:m.offset,entry:P,index:I}),D=(N=H??B)!==null&&N!==void 0?N:void 0,$=m.size;var q=B-H;if(M=Number.isNaN(q)?0:q,L={x:O,y:a.y,width:$,height:a.height},Math.abs(z)>0&&Math.abs(M)<Math.abs(z)){var Z=Ct(M||z)*(Math.abs(z)-Math.abs(M));D-=Z,M+=Z}}else{var de=[o.scale(R[0]),o.scale(R[1])],Ne=de[0],He=de[1];if(O=Ne,D=cE({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:P,index:I}),$=He-Ne,M=m.size,L={x:o.x,y:D,width:o.width,height:M},Math.abs(z)>0&&Math.abs($)<Math.abs(z)){var nn=Ct($||z)*(Math.abs(z)-Math.abs($));$+=nn}}return Ge(Ge(Ge({},P),{},{x:O,y:D,width:$,height:M,value:u?R:R[1],payload:P,background:L},T&&T[I]&&T[I].props),{},{tooltipPayload:[zI(n,P)],tooltipPosition:{x:O+$/2,y:D+M/2}})});return Ge({data:C,layout:g},h)});function zl(e){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(e)}function mle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_O(r.key),r)}}function gle(e,t,n){return t&&wT(e.prototype,t),n&&wT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(n),!0).forEach(function(r){oh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oh(e,t,n){return t=_O(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _O(e){var t=yle(e,"string");return zl(t)=="symbol"?t:t+""}function yle(e,t){if(zl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vle=function(t,n,r,i,o){var a=t.width,s=t.height,l=t.layout,u=t.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Wt(u,ni);return c.reduce(function(m,g){var y=n[g],b=y.orientation,v=y.domain,w=y.padding,_=w===void 0?{}:w,E=y.mirror,S=y.reversed,x="".concat(b).concat(E?"Mirror":""),T,C,P,I,R;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var O=v[1]-v[0],D=1/0,$=y.categoricalDomain.sort(k4);if($.forEach(function(de,Ne){Ne>0&&(D=Math.min((de||0)-($[Ne-1]||0),D))}),Number.isFinite(D)){var M=D/O,L=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(T=M*L/2),y.padding==="no-gap"){var z=Pt(t.barCategoryGap,M*L),N=M*L/2;T=N-z-(N-z)/L*z}}}i==="xAxis"?C=[r.left+(_.left||0)+(T||0),r.left+r.width-(_.right||0)-(T||0)]:i==="yAxis"?C=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(T||0),r.top+r.height-(_.bottom||0)-(T||0)]:C=y.range,S&&(C=[C[1],C[0]]);var F=UI(y,o,h),B=F.scale,H=F.realScaleType;B.domain(v).range(C),jI(B);var q=FI(B,kn(kn({},y),{},{realScaleType:H}));i==="xAxis"?(R=b==="top"&&!E||b==="bottom"&&E,P=r.left,I=f[x]-R*y.height):i==="yAxis"&&(R=b==="left"&&!E||b==="right"&&E,P=f[x]-R*y.width,I=r.top);var Z=kn(kn(kn({},y),q),{},{realScaleType:H,x:P,y:I,scale:B,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return Z.bandSize=wf(Z,q),!y.hide&&i==="xAxis"?f[x]+=(R?-1:1)*Z.height:y.hide||(f[x]+=(R?-1:1)*Z.width),kn(kn({},m),{},oh({},g,Z))},{})},SO=function(t,n){var r=t.x,i=t.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},wle=function(t){var n=t.x1,r=t.y1,i=t.x2,o=t.y2;return SO({x:n,y:r},{x:i,y:o})},xO=function(){function e(t){mle(this,e),this.scale=t}return gle(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])}();oh(xO,"EPS",1e-4);var T0=function(t){var n=Object.keys(t).reduce(function(r,i){return kn(kn({},r),{},oh({},i,xO.create(t[i])))},{});return kn(kn({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Use(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return yO(i,function(o,a){return n[a].isInRange(o)})}})};function ble(e){return(e%180+180)%180}var _le=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=ble(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Sle=Yn,xle=tu,Ele=Dd;function Tle(e){return function(t,n,r){var i=Object(t);if(!xle(t)){var o=Sle(n);t=Ele(t),n=function(s){return o(i[s],s,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}}var Ale=Tle,Cle=hO;function Ple(e){var t=Cle(e),n=t%1;return t===t?n?t-n:t:0}var kle=Ple,Ile=vk,Ole=Yn,Rle=kle,Nle=Math.max;function Mle(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:Rle(n);return i<0&&(i=Nle(r+i,0)),Ile(e,Ole(t),i)}var $le=Mle,Dle=Ale,Lle=$le,Ule=Dle(Lle),jle=Ule;const Fle=be(jle);var Ble=RG(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),A0=j.createContext(void 0),C0=j.createContext(void 0),EO=j.createContext(void 0),TO=j.createContext({}),AO=j.createContext(void 0),CO=j.createContext(0),PO=j.createContext(0),_T=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=t.clipPathId,s=t.children,l=t.width,u=t.height,c=Ble(o);return k.createElement(A0.Provider,{value:r},k.createElement(C0.Provider,{value:i},k.createElement(TO.Provider,{value:o},k.createElement(EO.Provider,{value:c},k.createElement(AO.Provider,{value:a},k.createElement(CO.Provider,{value:u},k.createElement(PO.Provider,{value:l},s)))))))},zle=function(){return j.useContext(AO)},kO=function(t){var n=j.useContext(A0);n==null&&Ji();var r=n[t];return r==null&&Ji(),r},Hle=function(){var t=j.useContext(A0);return Ur(t)},Vle=function(){var t=j.useContext(C0),n=Fle(t,function(r){return yO(r.domain,Number.isFinite)});return n||Ur(t)},IO=function(t){var n=j.useContext(C0);n==null&&Ji();var r=n[t];return r==null&&Ji(),r},Gle=function(){var t=j.useContext(EO);return t},qle=function(){return j.useContext(TO)},P0=function(){return j.useContext(PO)},k0=function(){return j.useContext(CO)};function _a(e){"@babel/helpers - typeof";return _a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_a(e)}function Wle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kle(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RO(r.key),r)}}function Jle(e,t,n){return t&&Kle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yle(e,t,n){return t=Lf(t),Xle(e,OO()?Reflect.construct(t,n||[],Lf(e).constructor):t.apply(e,n))}function Xle(e,t){if(t&&(_a(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qle(e)}function Qle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OO=function(){return!!e})()}function Lf(e){return Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lf(e)}function Zle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ry(e,t)}function ry(e,t){return ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ry(e,t)}function ST(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ST(Object(n),!0).forEach(function(r){I0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ST(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I0(e,t,n){return t=RO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RO(e){var t=eue(e,"string");return _a(t)=="symbol"?t:t+""}function eue(e,t){if(_a(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_a(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function tue(e,t){return oue(e)||iue(e,t)||rue(e,t)||nue()}function nue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rue(e,t){if(e){if(typeof e=="string")return ET(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ET(e,t)}}function ET(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iue(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function oue(e){if(Array.isArray(e))return e}function iy(){return iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iy.apply(this,arguments)}var aue=function(t,n){var r;return k.isValidElement(t)?r=k.cloneElement(t,n):ie(t)?r=t(n):r=k.createElement("line",iy({},n,{className:"recharts-reference-line-line"})),r},sue=function(t,n,r,i,o,a,s,l,u){var c=o.x,f=o.y,h=o.width,m=o.height;if(r){var g=u.y,y=t.y.apply(g,{position:a});if(Wn(u,"discard")&&!t.y.isInRange(y))return null;var b=[{x:c+h,y},{x:c,y}];return l==="left"?b.reverse():b}if(n){var v=u.x,w=t.x.apply(v,{position:a});if(Wn(u,"discard")&&!t.x.isInRange(w))return null;var _=[{x:w,y:f+m},{x:w,y:f}];return s==="top"?_.reverse():_}if(i){var E=u.segment,S=E.map(function(x){return t.apply(x,{position:a})});return Wn(u,"discard")&&Ise(S,function(x){return!t.isInRange(x)})?null:S}return null};function lue(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,o=e.yAxisId,a=e.shape,s=e.className,l=e.alwaysShow,u=zle(),c=kO(i),f=IO(o),h=Gle();if(!u||!h)return null;Dn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=T0({x:c.scale,y:f.scale}),g=nt(t),y=nt(n),b=r&&r.length===2,v=sue(m,g,y,b,h,e.position,c.orientation,f.orientation,e);if(!v)return null;var w=tue(v,2),_=w[0],E=_.x,S=_.y,x=w[1],T=x.x,C=x.y,P=Wn(e,"hidden")?"url(#".concat(u,")"):void 0,I=xT(xT({clipPath:P},re(e,!0)),{},{x1:E,y1:S,x2:T,y2:C});return k.createElement(ve,{className:le("recharts-reference-line",s)},aue(a,I),at.renderCallByParent(e,wle({x1:E,y1:S,x2:T,y2:C})))}var O0=function(e){function t(){return Wle(this,t),Yle(this,t,arguments)}return Zle(t,e),Jle(t,[{key:"render",value:function(){return k.createElement(lue,this.props)}}])}(k.Component);I0(O0,"displayName","ReferenceLine");I0(O0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oy.apply(this,arguments)}function Sa(e){"@babel/helpers - typeof";return Sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sa(e)}function TT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function AT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(n),!0).forEach(function(r){ah(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MO(r.key),r)}}function fue(e,t,n){return t&&cue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function due(e,t,n){return t=Uf(t),hue(e,NO()?Reflect.construct(t,n||[],Uf(e).constructor):t.apply(e,n))}function hue(e,t){if(t&&(Sa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pue(e)}function pue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NO=function(){return!!e})()}function Uf(e){return Uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uf(e)}function mue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ay(e,t)}function ay(e,t){return ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ay(e,t)}function ah(e,t,n){return t=MO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MO(e){var t=gue(e,"string");return Sa(t)=="symbol"?t:t+""}function gue(e,t){if(Sa(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Sa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yue=function(t){var n=t.x,r=t.y,i=t.xAxis,o=t.yAxis,a=T0({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return Wn(t,"discard")&&!a.isInRange(s)?null:s},sh=function(e){function t(){return uue(this,t),due(this,t,arguments)}return mue(t,e),fue(t,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=nt(i),c=nt(o);if(Dn(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=yue(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,y=g.shape,b=g.className,v=Wn(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=AT(AT({clipPath:v},re(this.props,!0)),{},{cx:h,cy:m});return k.createElement(ve,{className:le("recharts-reference-dot",b)},t.renderDot(y,w),at.renderCallByParent(this.props,{x:h-a,y:m-a,width:2*a,height:2*a}))}}])}(k.Component);ah(sh,"displayName","ReferenceDot");ah(sh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ah(sh,"renderDot",function(e,t){var n;return k.isValidElement(e)?n=k.cloneElement(e,t):ie(e)?n=e(t):n=k.createElement(E0,oy({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sy.apply(this,arguments)}function xa(e){"@babel/helpers - typeof";return xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xa(e)}function CT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CT(Object(n),!0).forEach(function(r){lh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DO(r.key),r)}}function bue(e,t,n){return t&&wue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _ue(e,t,n){return t=jf(t),Sue(e,$O()?Reflect.construct(t,n||[],jf(e).constructor):t.apply(e,n))}function Sue(e,t){if(t&&(xa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xue(e)}function xue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($O=function(){return!!e})()}function jf(e){return jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jf(e)}function Eue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ly(e,t)}function ly(e,t){return ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ly(e,t)}function lh(e,t,n){return t=DO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DO(e){var t=Tue(e,"string");return xa(t)=="symbol"?t:t+""}function Tue(e,t){if(xa(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Aue=function(t,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var h=T0({x:c.scale,y:f.scale}),m={x:t?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Wn(o,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:SO(m,g)},uh=function(e){function t(){return vue(this,t),_ue(this,t,arguments)}return Eue(t,e),bue(t,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Dn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=nt(i),h=nt(o),m=nt(a),g=nt(s),y=this.props.shape;if(!f&&!h&&!m&&!g&&!y)return null;var b=Aue(f,h,m,g,this.props);if(!b&&!y)return null;var v=Wn(this.props,"hidden")?"url(#".concat(c,")"):void 0;return k.createElement(ve,{className:le("recharts-reference-area",l)},t.renderRect(y,PT(PT({clipPath:v},re(this.props,!0)),b)),at.renderCallByParent(this.props,b))}}])}(k.Component);lh(uh,"displayName","ReferenceArea");lh(uh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});lh(uh,"renderRect",function(e,t){var n;return k.isValidElement(e)?n=k.cloneElement(e,t):ie(e)?n=e(t):n=k.createElement(x0,sy({},t,{className:"recharts-reference-area-rect"})),n});function LO(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function Cue(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return _le(r,n)}function Pue(e,t,n){var r=n==="width",i=e.x,o=e.y,a=e.width,s=e.height;return t===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function Ff(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function kue(e,t){return LO(e,t+1)}function Iue(e,t,n,r,i){for(var o=(r||[]).slice(),a=t.start,s=t.end,l=0,u=1,c=a,f=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:LO(r,u)};var y=l,b,v=function(){return b===void 0&&(b=n(g,y)),b},w=g.coordinate,_=l===0||Ff(e,w,v,c,s);_||(l=0,c=a,u+=1),_&&(c=w+e*(v()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function Hl(e){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}function kT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kT(Object(n),!0).forEach(function(r){Oue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oue(e,t,n){return t=Rue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rue(e){var t=Nue(e,"string");return Hl(t)=="symbol"?t:t+""}function Nue(e,t){if(Hl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mue(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=t.start,l=t.end,u=function(h){var m=o[h],g,y=function(){return g===void 0&&(g=n(m,h)),g};if(h===a-1){var b=e*(m.coordinate+e*y()/2-l);o[h]=m=vt(vt({},m),{},{tickCoord:b>0?m.coordinate-b*e:m.coordinate})}else o[h]=m=vt(vt({},m),{},{tickCoord:m.coordinate});var v=Ff(e,m.tickCoord,y,s,l);v&&(l=m.tickCoord-e*(y()/2+i),o[h]=vt(vt({},m),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function $ue(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=t.start,u=t.end;if(o){var c=r[s-1],f=n(c,s-1),h=e*(c.coordinate+e*f/2-u);a[s-1]=c=vt(vt({},c),{},{tickCoord:h>0?c.coordinate-h*e:c.coordinate});var m=Ff(e,c.tickCoord,function(){return f},l,u);m&&(u=c.tickCoord-e*(f/2+i),a[s-1]=vt(vt({},c),{},{isShow:!0}))}for(var g=o?s-1:s,y=function(w){var _=a[w],E,S=function(){return E===void 0&&(E=n(_,w)),E};if(w===0){var x=e*(_.coordinate-e*S()/2-l);a[w]=_=vt(vt({},_),{},{tickCoord:x<0?_.coordinate-x*e:_.coordinate})}else a[w]=_=vt(vt({},_),{},{tickCoord:_.coordinate});var T=Ff(e,_.tickCoord,S,l,u);T&&(l=_.tickCoord+e*(S()/2+i),a[w]=vt(vt({},_),{},{isShow:!0}))},b=0;b<g;b++)y(b);return a}function R0(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,l=e.interval,u=e.tickFormatter,c=e.unit,f=e.angle;if(!i||!i.length||!r)return[];if(W(l)||Va.isSsr)return kue(i,typeof l=="number"&&W(l)?l:0);var h=[],m=s==="top"||s==="bottom"?"width":"height",g=c&&m==="width"?$s(c,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=function(_,E){var S=ie(u)?u(_.value,E):_.value;return m==="width"?Cue($s(S,{fontSize:t,letterSpacing:n}),g,f):$s(S,{fontSize:t,letterSpacing:n})[m]},b=i.length>=2?Ct(i[1].coordinate-i[0].coordinate):1,v=Pue(o,b,m);return l==="equidistantPreserveStart"?Iue(b,v,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=$ue(b,v,y,i,a,l==="preserveStartEnd"):h=Mue(b,v,y,i,a),h.filter(function(w){return w.isShow}))}var Due=["viewBox"],Lue=["viewBox"],Uue=["ticks"];function Ea(e){"@babel/helpers - typeof";return Ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ea(e)}function Uo(){return Uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uo.apply(this,arguments)}function IT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(n),!0).forEach(function(r){N0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sp(e,t){if(e==null)return{};var n=jue(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jue(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Fue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jO(r.key),r)}}function Bue(e,t,n){return t&&OT(e.prototype,t),n&&OT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zue(e,t,n){return t=Bf(t),Hue(e,UO()?Reflect.construct(t,n||[],Bf(e).constructor):t.apply(e,n))}function Hue(e,t){if(t&&(Ea(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vue(e)}function Vue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UO=function(){return!!e})()}function Bf(e){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bf(e)}function Gue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uy(e,t)}function uy(e,t){return uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uy(e,t)}function N0(e,t,n){return t=jO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jO(e){var t=que(e,"string");return Ea(t)=="symbol"?t:t+""}function que(e,t){if(Ea(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ea(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ka=function(e){function t(n){var r;return Fue(this,t),r=zue(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return Gue(t,e),Bue(t,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=Sp(r,Due),s=this.props,l=s.viewBox,u=Sp(s,Lue);return!Jo(o,l)||!Jo(a,u)||!Jo(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,m,g,y,b,v,w,_=f?-1:1,E=r.tickSize||c,S=W(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=g=r.coordinate,b=a+ +!f*l,y=b-_*E,w=y-_*h,v=S;break;case"left":y=b=r.coordinate,g=o+ +!f*s,m=g-_*E,v=m-_*h,w=S;break;case"right":y=b=r.coordinate,g=o+ +f*s,m=g+_*E,v=m+_*h,w=S;break;default:m=g=r.coordinate,b=a+ +f*l,y=b+_*E,w=y+_*h,v=S;break}return{line:{x1:m,y1:y,x2:g,y2:b},tick:{x:v,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=Xe(Xe(Xe({},re(this.props,!1)),re(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=Xe(Xe({},f),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);f=Xe(Xe({},f),{},{x1:i+m*a,y1:o,x2:i+m*a,y2:o+s})}return k.createElement("line",Uo({},f,{className:le("recharts-cartesian-axis-line",Qt(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,h=s.unit,m=R0(Xe(Xe({},this.props),{},{ticks:r}),i,o),g=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=re(this.props,!1),v=re(c,!1),w=Xe(Xe({},b),{},{fill:"none"},re(l,!1)),_=m.map(function(E,S){var x=a.getTickLineCoord(E),T=x.line,C=x.tick,P=Xe(Xe(Xe(Xe({textAnchor:g,verticalAnchor:y},b),{},{stroke:"none",fill:u},v),C),{},{index:S,payload:E,visibleTicksCount:m.length,tickFormatter:f});return k.createElement(ve,Uo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},qi(a.props,E,S)),l&&k.createElement("line",Uo({},w,T,{className:le("recharts-cartesian-axis-tick-line",Qt(l,"className"))})),c&&t.renderTickItem(c,P,"".concat(ie(f)?f(E.value,S):E.value).concat(h||"")))});return k.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,m=Sp(f,Uue),g=h;return ie(l)&&(g=h&&h.length>0?l(this.props):l(m)),a<=0||s<=0||!g||!g.length?null:k.createElement(ve,{className:le("recharts-cartesian-axis",u),ref:function(b){r.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),at.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a,s=le(i.className,"recharts-cartesian-axis-tick-value");return k.isValidElement(r)?a=k.cloneElement(r,Xe(Xe({},i),{},{className:s})):ie(r)?a=r(Xe(Xe({},i),{},{className:s})):a=k.createElement(Wi,Uo({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(j.Component);N0(Ka,"displayName","CartesianAxis");N0(Ka,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Wue=["x1","y1","x2","y2","key"],Kue=["offset"];function Yi(e){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(e)}function RT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RT(Object(n),!0).forEach(function(r){Jue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jue(e,t,n){return t=Yue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yue(e){var t=Xue(e,"string");return Yi(t)=="symbol"?t:t+""}function Xue(e,t){if(Yi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$i.apply(this,arguments)}function NT(e,t){if(e==null)return{};var n=Que(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Que(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Zue=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,i=t.x,o=t.y,a=t.width,s=t.height,l=t.ry;return k.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function FO(e,t){var n;if(k.isValidElement(e))n=k.cloneElement(e,t);else if(ie(e))n=e(t);else{var r=t.x1,i=t.y1,o=t.x2,a=t.y2,s=t.key,l=NT(t,Wue),u=re(l,!1);u.offset;var c=NT(u,Kue);n=k.createElement("line",$i({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function ece(e){var t=e.x,n=e.width,r=e.horizontal,i=r===void 0?!0:r,o=e.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=bt(bt({},e),{},{x1:t,y1:s,x2:t+n,y2:s,key:"line-".concat(l),index:l});return FO(i,u)});return k.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function tce(e){var t=e.y,n=e.height,r=e.vertical,i=r===void 0?!0:r,o=e.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=bt(bt({},e),{},{x1:s,y1:t,x2:s,y2:t+n,key:"line-".concat(l),index:l});return FO(i,u)});return k.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function nce(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,o=e.width,a=e.height,s=e.horizontalPoints,l=e.horizontal,u=l===void 0?!0:l;if(!u||!t||!t.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==c[0]&&c.unshift(0);var f=c.map(function(h,m){var g=!c[m+1],y=g?i+a-h:c[m+1]-h;if(y<=0)return null;var b=m%t.length;return k.createElement("rect",{key:"react-".concat(m),y:h,x:r,height:y,width:o,stroke:"none",fill:t[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function rce(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,o=e.x,a=e.y,s=e.width,l=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,m){return h-m});o!==c[0]&&c.unshift(0);var f=c.map(function(h,m){var g=!c[m+1],y=g?o+s-h:c[m+1]-h;if(y<=0)return null;var b=m%r.length;return k.createElement("rect",{key:"react-".concat(m),x:h,y:a,width:y,height:l,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var ice=function(t,n){var r=t.xAxis,i=t.width,o=t.height,a=t.offset;return LI(R0(bt(bt(bt({},Ka.defaultProps),r),{},{ticks:sr(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},oce=function(t,n){var r=t.yAxis,i=t.width,o=t.height,a=t.offset;return LI(R0(bt(bt(bt({},Ka.defaultProps),r),{},{ticks:sr(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},mo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function BO(e){var t,n,r,i,o,a,s=P0(),l=k0(),u=qle(),c=bt(bt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:mo.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:mo.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:mo.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:mo.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:mo.vertical,verticalFill:(a=e.verticalFill)!==null&&a!==void 0?a:mo.verticalFill,x:W(e.x)?e.x:u.left,y:W(e.y)?e.y:u.top,width:W(e.width)?e.width:u.width,height:W(e.height)?e.height:u.height}),f=c.x,h=c.y,m=c.width,g=c.height,y=c.syncWithTicks,b=c.horizontalValues,v=c.verticalValues,w=Hle(),_=Vle();if(!W(m)||m<=0||!W(g)||g<=0||!W(f)||f!==+f||!W(h)||h!==+h)return null;var E=c.verticalCoordinatesGenerator||ice,S=c.horizontalCoordinatesGenerator||oce,x=c.horizontalPoints,T=c.verticalPoints;if((!x||!x.length)&&ie(S)){var C=b&&b.length,P=S({yAxis:_?bt(bt({},_),{},{ticks:C?b:_.ticks}):void 0,width:s,height:l,offset:u},C?!0:y);Dn(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Yi(P),"]")),Array.isArray(P)&&(x=P)}if((!T||!T.length)&&ie(E)){var I=v&&v.length,R=E({xAxis:w?bt(bt({},w),{},{ticks:I?v:w.ticks}):void 0,width:s,height:l,offset:u},I?!0:y);Dn(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Yi(R),"]")),Array.isArray(R)&&(T=R)}return k.createElement("g",{className:"recharts-cartesian-grid"},k.createElement(Zue,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),k.createElement(ece,$i({},c,{offset:u,horizontalPoints:x,xAxis:w,yAxis:_})),k.createElement(tce,$i({},c,{offset:u,verticalPoints:T,xAxis:w,yAxis:_})),k.createElement(nce,$i({},c,{horizontalPoints:x})),k.createElement(rce,$i({},c,{verticalPoints:T})))}BO.displayName="CartesianGrid";function Ta(e){"@babel/helpers - typeof";return Ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ta(e)}function ace(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VO(r.key),r)}}function lce(e,t,n){return t&&sce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uce(e,t,n){return t=zf(t),cce(e,zO()?Reflect.construct(t,n||[],zf(e).constructor):t.apply(e,n))}function cce(e,t){if(t&&(Ta(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fce(e)}function fce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zO=function(){return!!e})()}function zf(e){return zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zf(e)}function dce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cy(e,t)}function cy(e,t){return cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cy(e,t)}function HO(e,t,n){return t=VO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VO(e){var t=hce(e,"string");return Ta(t)=="symbol"?t:t+""}function hce(e,t){if(Ta(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ta(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fy.apply(this,arguments)}function pce(e){var t=e.xAxisId,n=P0(),r=k0(),i=kO(t);return i==null?null:j.createElement(Ka,fy({},i,{className:le("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return sr(a,!0)}}))}var ch=function(e){function t(){return ace(this,t),uce(this,t,arguments)}return dce(t,e),lce(t,[{key:"render",value:function(){return j.createElement(pce,this.props)}}])}(j.Component);HO(ch,"displayName","XAxis");HO(ch,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Aa(e){"@babel/helpers - typeof";return Aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Aa(e)}function mce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,WO(r.key),r)}}function yce(e,t,n){return t&&gce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vce(e,t,n){return t=Hf(t),wce(e,GO()?Reflect.construct(t,n||[],Hf(e).constructor):t.apply(e,n))}function wce(e,t){if(t&&(Aa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bce(e)}function bce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GO=function(){return!!e})()}function Hf(e){return Hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hf(e)}function _ce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dy(e,t)}function dy(e,t){return dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dy(e,t)}function qO(e,t,n){return t=WO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WO(e){var t=Sce(e,"string");return Aa(t)=="symbol"?t:t+""}function Sce(e,t){if(Aa(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Aa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hy.apply(this,arguments)}var xce=function(t){var n=t.yAxisId,r=P0(),i=k0(),o=IO(n);return o==null?null:j.createElement(Ka,hy({},o,{className:le("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return sr(s,!0)}}))},fh=function(e){function t(){return mce(this,t),vce(this,t,arguments)}return _ce(t,e),yce(t,[{key:"render",value:function(){return j.createElement(xce,this.props)}}])}(j.Component);qO(fh,"displayName","YAxis");qO(fh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function MT(e){return Cce(e)||Ace(e)||Tce(e)||Ece()}function Ece(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tce(e,t){if(e){if(typeof e=="string")return py(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return py(e,t)}}function Ace(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Cce(e){if(Array.isArray(e))return py(e)}function py(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var my=function(t,n,r,i,o){var a=pn(t,O0),s=pn(t,sh),l=[].concat(MT(a),MT(s)),u=pn(t,uh),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(y,b){if(b.props[c]===r&&Wn(b.props,"extendDomain")&&W(b.props[f])){var v=b.props[f];return[Math.min(y[0],v),Math.max(y[1],v)]}return y},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(y,b){if(b.props[c]===r&&Wn(b.props,"extendDomain")&&W(b.props[m])&&W(b.props[g])){var v=b.props[m],w=b.props[g];return[Math.min(y[0],v,w),Math.max(y[1],v,w)]}return y},h)}return o&&o.length&&(h=o.reduce(function(y,b){return W(b)?[Math.min(y[0],b),Math.max(y[1],b)]:y},h)),h},KO={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,f||l,h),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)t.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,h,m,g){var y=n?n+u:u;if(!this._events[y])return!1;var b=this._events[y],v=arguments.length,w,_;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),v){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,f),!0;case 4:return b.fn.call(b.context,c,f,h),!0;case 5:return b.fn.call(b.context,c,f,h,m),!0;case 6:return b.fn.call(b.context,c,f,h,m,g),!0}for(_=1,w=new Array(v-1);_<v;_++)w[_-1]=arguments[_];b.fn.apply(b.context,w)}else{var E=b.length,S;for(_=0;_<E;_++)switch(b[_].once&&this.removeListener(u,b[_].fn,void 0,!0),v){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,c);break;case 3:b[_].fn.call(b[_].context,c,f);break;case 4:b[_].fn.call(b[_].context,c,f,h);break;default:if(!w)for(S=1,w=new Array(v-1);S<v;S++)w[S-1]=arguments[S];b[_].fn.apply(b[_].context,w)}}return!0},s.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!c)return a(this,m),this;var g=this._events[m];if(g.fn)g.fn===c&&(!h||g.once)&&(!f||g.context===f)&&a(this,m);else{for(var y=0,b=[],v=g.length;y<v;y++)(g[y].fn!==c||h&&!g[y].once||f&&g[y].context!==f)&&b.push(g[y]);b.length?this._events[m]=b.length===1?b[0]:b:a(this,m)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(KO);var Pce=KO.exports;const kce=be(Pce);var xp=new kce,Ep="recharts.syncMouseEvents";function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function Ice(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,JO(r.key),r)}}function Rce(e,t,n){return t&&Oce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tp(e,t,n){return t=JO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JO(e){var t=Nce(e,"string");return Vl(t)=="symbol"?t:t+""}function Nce(e,t){if(Vl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mce=function(){function e(){Ice(this,e),Tp(this,"activeIndex",0),Tp(this,"coordinateList",[]),Tp(this,"layout","horizontal")}return Rce(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function $ce(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&W(r)&&W(i))return!0}return!1}function Dce(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function YO(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,o=e.endAngle,a=Pe(t,n,r,i),s=Pe(t,n,r,o);return{points:[a,s],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function Lce(e,t,n){var r,i,o,a;if(e==="horizontal")r=t.x,o=r,i=n.top,a=n.top+n.height;else if(e==="vertical")i=t.y,a=i,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,l=t.cy,u=t.innerRadius,c=t.outerRadius,f=t.angle,h=Pe(s,l,u,f),m=Pe(s,l,c,f);r=h.x,i=h.y,o=m.x,a=m.y}else return YO(t);return[{x:r,y:i},{x:o,y:a}]}function Gl(e){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}function $T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ku(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(n),!0).forEach(function(r){Uce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$T(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uce(e,t,n){return t=jce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jce(e){var t=Fce(e,"string");return Gl(t)=="symbol"?t:t+""}function Fce(e,t){if(Gl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bce(e){var t,n,r=e.element,i=e.tooltipEventType,o=e.isActive,a=e.activeCoordinate,s=e.activePayload,l=e.offset,u=e.activeTooltipIndex,c=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var g,y=Ug;if(h==="ScatterChart")g=a,y=voe;else if(h==="BarChart")g=Dce(f,a,l,c),y=x0;else if(f==="radial"){var b=YO(a),v=b.cx,w=b.cy,_=b.radius,E=b.startAngle,S=b.endAngle;g={cx:v,cy:w,startAngle:E,endAngle:S,innerRadius:_,outerRadius:_},y=KI}else g={points:Lce(f,a,l)},y=Ug;var x=Ku(Ku(Ku(Ku({stroke:"#ccc",pointerEvents:"none"},l),g),re(m,!1)),{},{payload:s,payloadIndex:u,className:le("recharts-tooltip-cursor",m.className)});return j.isValidElement(m)?j.cloneElement(m,x):j.createElement(y,x)}var zce=["item"],Hce=["children","className","width","height","style","compact","title","desc"];function Ca(e){"@babel/helpers - typeof";return Ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ca(e)}function jo(){return jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jo.apply(this,arguments)}function DT(e,t){return qce(e)||Gce(e,t)||QO(e,t)||Vce()}function Vce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gce(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function qce(e){if(Array.isArray(e))return e}function LT(e,t){if(e==null)return{};var n=Wce(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Wce(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Kce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZO(r.key),r)}}function Yce(e,t,n){return t&&Jce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xce(e,t,n){return t=Vf(t),Qce(e,XO()?Reflect.construct(t,n||[],Vf(e).constructor):t.apply(e,n))}function Qce(e,t){if(t&&(Ca(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zce(e)}function Zce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XO=function(){return!!e})()}function Vf(e){return Vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vf(e)}function efe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gy(e,t)}function gy(e,t){return gy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gy(e,t)}function Pa(e){return rfe(e)||nfe(e)||QO(e)||tfe()}function tfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QO(e,t){if(e){if(typeof e=="string")return yy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yy(e,t)}}function nfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rfe(e){if(Array.isArray(e))return yy(e)}function yy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(n),!0).forEach(function(r){ee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ee(e,t,n){return t=ZO(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZO(e){var t=ife(e,"string");return Ca(t)=="symbol"?t:t+""}function ife(e,t){if(Ca(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ca(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ofe={xAxis:["bottom","top"],yAxis:["left","right"]},afe={width:"100%",height:"100%"},eR={x:0,y:0};function Ju(e){return e}var sfe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},lfe=function(t,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var a=o.coordinate,s=i.radius;return U(U(U({},i),Pe(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return U(U(U({},i),Pe(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return eR},dh=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Pa(s),Pa(u)):s},[]);return a.length>0?a:t&&t.length&&W(i)&&W(o)?t.slice(i,o+1):[]};function tR(e){return e==="number"?[0,"auto"]:void 0}var vy=function(t,n,r,i){var o=t.graphicalItems,a=t.tooltipAxis,s=dh(n,t);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var m=f===void 0?s:f;h=qm(m,a.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(Pa(l),[zI(u,h)]):l},[])},jT=function(t,n,r,i){var o=i||{x:t.chartX,y:t.chartY},a=sfe(o,r),s=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,c=Ute(a,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=vy(t,n,c,f),m=lfe(r,s,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},ufe=function(t,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=t.layout,f=t.children,h=t.stackOffset,m=DI(c,o);return r.reduce(function(g,y){var b,v=y.type.defaultProps!==void 0?U(U({},y.type.defaultProps),y.props):y.props,w=v.type,_=v.dataKey,E=v.allowDataOverflow,S=v.allowDuplicatedCategory,x=v.scale,T=v.ticks,C=v.includeHidden,P=v[a];if(g[P])return g;var I=dh(t.data,{graphicalItems:i.filter(function(q){var Z,de=a in q.props?q.props[a]:(Z=q.type.defaultProps)===null||Z===void 0?void 0:Z[a];return de===P}),dataStartIndex:l,dataEndIndex:u}),R=I.length,O,D,$;$ce(v.domain,E,w)&&(O=Ng(v.domain,null,E),m&&(w==="number"||x!=="auto")&&($=Ls(I,_,"category")));var M=tR(w);if(!O||O.length===0){var L,z=(L=v.domain)!==null&&L!==void 0?L:M;if(_){if(O=Ls(I,_,w),w==="category"&&m){var N=P4(O);S&&N?(D=O,O=Rf(0,R)):S||(O=hE(z,O,y).reduce(function(q,Z){return q.indexOf(Z)>=0?q:[].concat(Pa(q),[Z])},[]))}else if(w==="category")S?O=O.filter(function(q){return q!==""&&!ue(q)}):O=hE(z,O,y).reduce(function(q,Z){return q.indexOf(Z)>=0||Z===""||ue(Z)?q:[].concat(Pa(q),[Z])},[]);else if(w==="number"){var F=Hte(I,i.filter(function(q){var Z,de,Ne=a in q.props?q.props[a]:(Z=q.type.defaultProps)===null||Z===void 0?void 0:Z[a],He="hide"in q.props?q.props.hide:(de=q.type.defaultProps)===null||de===void 0?void 0:de.hide;return Ne===P&&(C||!He)}),_,o,c);F&&(O=F)}m&&(w==="number"||x!=="auto")&&($=Ls(I,_,"category"))}else m?O=Rf(0,R):s&&s[P]&&s[P].hasStack&&w==="number"?O=h==="expand"?[0,1]:BI(s[P].stackGroups,l,u):O=$I(I,i.filter(function(q){var Z=a in q.props?q.props[a]:q.type.defaultProps[a],de="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return Z===P&&(C||!de)}),w,c,!0);if(w==="number")O=my(f,O,P,o,T),z&&(O=Ng(z,O,E));else if(w==="category"&&z){var B=z,H=O.every(function(q){return B.indexOf(q)>=0});H&&(O=B)}}return U(U({},g),{},ee({},P,U(U({},v),{},{axisType:o,domain:O,categoricalDomain:$,duplicateDomain:D,originalDomain:(b=v.domain)!==null&&b!==void 0?b:M,isCategorical:m,layout:c})))},{})},cfe=function(t,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=t.layout,f=t.children,h=dh(t.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=h.length,g=DI(c,o),y=-1;return r.reduce(function(b,v){var w=v.type.defaultProps!==void 0?U(U({},v.type.defaultProps),v.props):v.props,_=w[a],E=tR("number");if(!b[_]){y++;var S;return g?S=Rf(0,m):s&&s[_]&&s[_].hasStack?(S=BI(s[_].stackGroups,l,u),S=my(f,S,_,o)):(S=Ng(E,$I(h,r.filter(function(x){var T,C,P=a in x.props?x.props[a]:(T=x.type.defaultProps)===null||T===void 0?void 0:T[a],I="hide"in x.props?x.props.hide:(C=x.type.defaultProps)===null||C===void 0?void 0:C.hide;return P===_&&!I}),"number",c),i.defaultProps.allowDataOverflow),S=my(f,S,_,o)),U(U({},b),{},ee({},_,U(U({axisType:o},i.defaultProps),{},{hide:!0,orientation:Qt(ofe,"".concat(o,".").concat(y%2),null),domain:S,originalDomain:E,isCategorical:g,layout:c})))}return b},{})},ffe=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=t.children,f="".concat(i,"Id"),h=pn(c,o),m={};return h&&h.length?m=ufe(t,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(m=cfe(t,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},dfe=function(t){var n=Ur(t),r=sr(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Yv(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:wf(n,r)}},FT=function(t){var n=t.children,r=t.defaultShowTooltip,i=Wt(n,wa),o=0,a=0;return t.data&&t.data.length!==0&&(a=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},hfe=function(t){return!t||!t.length?!1:t.some(function(n){var r=ur(n&&n.type);return r&&r.indexOf("Bar")>=0})},BT=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},pfe=function(t,n){var r=t.props,i=t.graphicalItems,o=t.xAxisMap,a=o===void 0?{}:o,s=t.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,h=r.margin||{},m=Wt(f,wa),g=Wt(f,Xr),y=Object.keys(l).reduce(function(S,x){var T=l[x],C=T.orientation;return!T.mirror&&!T.hide?U(U({},S),{},ee({},C,S[C]+T.width)):S},{left:h.left||0,right:h.right||0}),b=Object.keys(a).reduce(function(S,x){var T=a[x],C=T.orientation;return!T.mirror&&!T.hide?U(U({},S),{},ee({},C,Qt(S,"".concat(C))+T.height)):S},{top:h.top||0,bottom:h.bottom||0}),v=U(U({},b),y),w=v.bottom;m&&(v.bottom+=m.props.height||wa.defaultProps.height),g&&n&&(v=Bte(v,i,r,n));var _=u-v.left-v.right,E=c-v.top-v.bottom;return U(U({brushBottom:w},v),{},{width:Math.max(_,0),height:Math.max(E,0)})},mfe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},nR=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,o=i===void 0?"axis":i,a=t.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=t.axisComponents,u=t.legendContent,c=t.formatAxisMap,f=t.defaultProps,h=function(v,w){var _=w.graphicalItems,E=w.stackGroups,S=w.offset,x=w.updateId,T=w.dataStartIndex,C=w.dataEndIndex,P=v.barSize,I=v.layout,R=v.barGap,O=v.barCategoryGap,D=v.maxBarSize,$=BT(I),M=$.numericAxisName,L=$.cateAxisName,z=hfe(_),N=[];return _.forEach(function(F,B){var H=dh(v.data,{graphicalItems:[F],dataStartIndex:T,dataEndIndex:C}),q=F.type.defaultProps!==void 0?U(U({},F.type.defaultProps),F.props):F.props,Z=q.dataKey,de=q.maxBarSize,Ne=q["".concat(M,"Id")],He=q["".concat(L,"Id")],nn={},Mt=l.reduce(function(fi,di){var hh=w["".concat(di.axisType,"Map")],M0=q["".concat(di.axisType,"Id")];hh&&hh[M0]||di.axisType==="zAxis"||Ji();var $0=hh[M0];return U(U({},fi),{},ee(ee({},di.axisType,$0),"".concat(di.axisType,"Ticks"),sr($0)))},nn),J=Mt[L],ae=Mt["".concat(L,"Ticks")],se=E&&E[Ne]&&E[Ne].hasStack&&Qte(F,E[Ne].stackGroups),V=ur(F.type).indexOf("Bar")>=0,je=wf(J,ae),he=[],Je=z&&jte({barSize:P,stackGroups:E,totalSize:mfe(Mt,L)});if(V){var Ye,$t,Pr=ue(de)?D:de,io=(Ye=($t=wf(J,ae,!0))!==null&&$t!==void 0?$t:Pr)!==null&&Ye!==void 0?Ye:0;he=Fte({barGap:R,barCategoryGap:O,bandSize:io!==je?io:je,sizeList:Je[He],maxBarSize:Pr}),io!==je&&(he=he.map(function(fi){return U(U({},fi),{},{position:U(U({},fi.position),{},{offset:fi.position.offset-io/2})})}))}var au=F&&F.type&&F.type.getComposedData;au&&N.push({props:U(U({},au(U(U({},Mt),{},{displayedData:H,props:v,dataKey:Z,item:F,bandSize:je,barPosition:he,offset:S,stackedData:se,layout:I,dataStartIndex:T,dataEndIndex:C}))),{},ee(ee(ee({key:F.key||"item-".concat(B)},M,Mt[M]),L,Mt[L]),"animationId",x)),childIndex:F4(F,v.children),item:F})}),N},m=function(v,w){var _=v.props,E=v.dataStartIndex,S=v.dataEndIndex,x=v.updateId;if(!sS({props:_}))return null;var T=_.children,C=_.layout,P=_.stackOffset,I=_.data,R=_.reverseStackOrder,O=BT(C),D=O.numericAxisName,$=O.cateAxisName,M=pn(T,r),L=Yte(I,M,"".concat(D,"Id"),"".concat($,"Id"),P,R),z=l.reduce(function(q,Z){var de="".concat(Z.axisType,"Map");return U(U({},q),{},ee({},de,ffe(_,U(U({},Z),{},{graphicalItems:M,stackGroups:Z.axisType===D&&L,dataStartIndex:E,dataEndIndex:S}))))},{}),N=pfe(U(U({},z),{},{props:_,graphicalItems:M}),w==null?void 0:w.legendBBox);Object.keys(z).forEach(function(q){z[q]=c(_,z[q],N,q.replace("Map",""),n)});var F=z["".concat($,"Map")],B=dfe(F),H=h(_,U(U({},z),{},{dataStartIndex:E,dataEndIndex:S,updateId:x,graphicalItems:M,stackGroups:L,offset:N}));return U(U({formattedGraphicalItems:H,graphicalItems:M,offset:N,stackGroups:L},B),z)},g=function(b){function v(w){var _,E,S;return Kce(this,v),S=Xce(this,v,[w]),ee(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ee(S,"accessibilityManager",new Mce),ee(S,"handleLegendBBoxUpdate",function(x){if(x){var T=S.state,C=T.dataStartIndex,P=T.dataEndIndex,I=T.updateId;S.setState(U({legendBBox:x},m({props:S.props,dataStartIndex:C,dataEndIndex:P,updateId:I},U(U({},S.state),{},{legendBBox:x}))))}}),ee(S,"handleReceiveSyncEvent",function(x,T,C){if(S.props.syncId===x){if(C===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(T)}}),ee(S,"handleBrushChange",function(x){var T=x.startIndex,C=x.endIndex;if(T!==S.state.dataStartIndex||C!==S.state.dataEndIndex){var P=S.state.updateId;S.setState(function(){return U({dataStartIndex:T,dataEndIndex:C},m({props:S.props,dataStartIndex:T,dataEndIndex:C,updateId:P},S.state))}),S.triggerSyncEvent({dataStartIndex:T,dataEndIndex:C})}}),ee(S,"handleMouseEnter",function(x){var T=S.getMouseInfo(x);if(T){var C=U(U({},T),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var P=S.props.onMouseEnter;ie(P)&&P(C,x)}}),ee(S,"triggeredAfterMouseMove",function(x){var T=S.getMouseInfo(x),C=T?U(U({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(C),S.triggerSyncEvent(C);var P=S.props.onMouseMove;ie(P)&&P(C,x)}),ee(S,"handleItemMouseEnter",function(x){S.setState(function(){return{isTooltipActive:!0,activeItem:x,activePayload:x.tooltipPayload,activeCoordinate:x.tooltipPosition||{x:x.cx,y:x.cy}}})}),ee(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),ee(S,"handleMouseMove",function(x){x.persist(),S.throttleTriggeredAfterMouseMove(x)}),ee(S,"handleMouseLeave",function(x){S.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};S.setState(T),S.triggerSyncEvent(T);var C=S.props.onMouseLeave;ie(C)&&C(T,x)}),ee(S,"handleOuterEvent",function(x){var T=j4(x),C=Qt(S.props,"".concat(T));if(T&&ie(C)){var P,I;/.*touch.*/i.test(T)?I=S.getMouseInfo(x.changedTouches[0]):I=S.getMouseInfo(x),C((P=I)!==null&&P!==void 0?P:{},x)}}),ee(S,"handleClick",function(x){var T=S.getMouseInfo(x);if(T){var C=U(U({},T),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var P=S.props.onClick;ie(P)&&P(C,x)}}),ee(S,"handleMouseDown",function(x){var T=S.props.onMouseDown;if(ie(T)){var C=S.getMouseInfo(x);T(C,x)}}),ee(S,"handleMouseUp",function(x){var T=S.props.onMouseUp;if(ie(T)){var C=S.getMouseInfo(x);T(C,x)}}),ee(S,"handleTouchMove",function(x){x.changedTouches!=null&&x.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(x.changedTouches[0])}),ee(S,"handleTouchStart",function(x){x.changedTouches!=null&&x.changedTouches.length>0&&S.handleMouseDown(x.changedTouches[0])}),ee(S,"handleTouchEnd",function(x){x.changedTouches!=null&&x.changedTouches.length>0&&S.handleMouseUp(x.changedTouches[0])}),ee(S,"handleDoubleClick",function(x){var T=S.props.onDoubleClick;if(ie(T)){var C=S.getMouseInfo(x);T(C,x)}}),ee(S,"handleContextMenu",function(x){var T=S.props.onContextMenu;if(ie(T)){var C=S.getMouseInfo(x);T(C,x)}}),ee(S,"triggerSyncEvent",function(x){S.props.syncId!==void 0&&xp.emit(Ep,S.props.syncId,x,S.eventEmitterSymbol)}),ee(S,"applySyncEvent",function(x){var T=S.props,C=T.layout,P=T.syncMethod,I=S.state.updateId,R=x.dataStartIndex,O=x.dataEndIndex;if(x.dataStartIndex!==void 0||x.dataEndIndex!==void 0)S.setState(U({dataStartIndex:R,dataEndIndex:O},m({props:S.props,dataStartIndex:R,dataEndIndex:O,updateId:I},S.state)));else if(x.activeTooltipIndex!==void 0){var D=x.chartX,$=x.chartY,M=x.activeTooltipIndex,L=S.state,z=L.offset,N=L.tooltipTicks;if(!z)return;if(typeof P=="function")M=P(N,x);else if(P==="value"){M=-1;for(var F=0;F<N.length;F++)if(N[F].value===x.activeLabel){M=F;break}}var B=U(U({},z),{},{x:z.left,y:z.top}),H=Math.min(D,B.x+B.width),q=Math.min($,B.y+B.height),Z=N[M]&&N[M].value,de=vy(S.state,S.props.data,M),Ne=N[M]?{x:C==="horizontal"?N[M].coordinate:H,y:C==="horizontal"?q:N[M].coordinate}:eR;S.setState(U(U({},x),{},{activeLabel:Z,activeCoordinate:Ne,activePayload:de,activeTooltipIndex:M}))}else S.setState(x)}),ee(S,"renderCursor",function(x){var T,C=S.state,P=C.isTooltipActive,I=C.activeCoordinate,R=C.activePayload,O=C.offset,D=C.activeTooltipIndex,$=C.tooltipAxisBandSize,M=S.getTooltipEventType(),L=(T=x.props.active)!==null&&T!==void 0?T:P,z=S.props.layout,N=x.key||"_recharts-cursor";return k.createElement(Bce,{key:N,activeCoordinate:I,activePayload:R,activeTooltipIndex:D,chartName:n,element:x,isActive:L,layout:z,offset:O,tooltipAxisBandSize:$,tooltipEventType:M})}),ee(S,"renderPolarAxis",function(x,T,C){var P=Qt(x,"type.axisType"),I=Qt(S.state,"".concat(P,"Map")),R=x.type.defaultProps,O=R!==void 0?U(U({},R),x.props):x.props,D=I&&I[O["".concat(P,"Id")]];return j.cloneElement(x,U(U({},D),{},{className:le(P,D.className),key:x.key||"".concat(T,"-").concat(C),ticks:sr(D,!0)}))}),ee(S,"renderPolarGrid",function(x){var T=x.props,C=T.radialLines,P=T.polarAngles,I=T.polarRadius,R=S.state,O=R.radiusAxisMap,D=R.angleAxisMap,$=Ur(O),M=Ur(D),L=M.cx,z=M.cy,N=M.innerRadius,F=M.outerRadius;return j.cloneElement(x,{polarAngles:Array.isArray(P)?P:sr(M,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(I)?I:sr($,!0).map(function(B){return B.coordinate}),cx:L,cy:z,innerRadius:N,outerRadius:F,key:x.key||"polar-grid",radialLines:C})}),ee(S,"renderLegend",function(){var x=S.state.formattedGraphicalItems,T=S.props,C=T.children,P=T.width,I=T.height,R=S.props.margin||{},O=P-(R.left||0)-(R.right||0),D=NI({children:C,formattedGraphicalItems:x,legendWidth:O,legendContent:u});if(!D)return null;var $=D.item,M=LT(D,zce);return j.cloneElement($,U(U({},M),{},{chartWidth:P,chartHeight:I,margin:R,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),ee(S,"renderTooltip",function(){var x,T=S.props,C=T.children,P=T.accessibilityLayer,I=Wt(C,Pn);if(!I)return null;var R=S.state,O=R.isTooltipActive,D=R.activeCoordinate,$=R.activePayload,M=R.activeLabel,L=R.offset,z=(x=I.props.active)!==null&&x!==void 0?x:O;return j.cloneElement(I,{viewBox:U(U({},L),{},{x:L.left,y:L.top}),active:z,label:M,payload:z?$:[],coordinate:D,accessibilityLayer:P})}),ee(S,"renderBrush",function(x){var T=S.props,C=T.margin,P=T.data,I=S.state,R=I.offset,O=I.dataStartIndex,D=I.dataEndIndex,$=I.updateId;return j.cloneElement(x,{key:x.key||"_recharts-brush",onChange:Vu(S.handleBrushChange,x.props.onChange),data:P,x:W(x.props.x)?x.props.x:R.left,y:W(x.props.y)?x.props.y:R.top+R.height+R.brushBottom-(C.bottom||0),width:W(x.props.width)?x.props.width:R.width,startIndex:O,endIndex:D,updateId:"brush-".concat($)})}),ee(S,"renderReferenceElement",function(x,T,C){if(!x)return null;var P=S,I=P.clipPathId,R=S.state,O=R.xAxisMap,D=R.yAxisMap,$=R.offset,M=x.type.defaultProps||{},L=x.props,z=L.xAxisId,N=z===void 0?M.xAxisId:z,F=L.yAxisId,B=F===void 0?M.yAxisId:F;return j.cloneElement(x,{key:x.key||"".concat(T,"-").concat(C),xAxis:O[N],yAxis:D[B],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:I})}),ee(S,"renderActivePoints",function(x){var T=x.item,C=x.activePoint,P=x.basePoint,I=x.childIndex,R=x.isRange,O=[],D=T.props.key,$=T.item.type.defaultProps!==void 0?U(U({},T.item.type.defaultProps),T.item.props):T.item.props,M=$.activeDot,L=$.dataKey,z=U(U({index:I,dataKey:L,cx:C.x,cy:C.y,r:4,fill:S0(T.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},re(M,!1)),Vc(M));return O.push(v.renderActiveDot(M,z,"".concat(D,"-activePoint-").concat(I))),P?O.push(v.renderActiveDot(M,U(U({},z),{},{cx:P.x,cy:P.y}),"".concat(D,"-basePoint-").concat(I))):R&&O.push(null),O}),ee(S,"renderGraphicChild",function(x,T,C){var P=S.filterFormatItem(x,T,C);if(!P)return null;var I=S.getTooltipEventType(),R=S.state,O=R.isTooltipActive,D=R.tooltipAxis,$=R.activeTooltipIndex,M=R.activeLabel,L=S.props.children,z=Wt(L,Pn),N=P.props,F=N.points,B=N.isRange,H=N.baseLine,q=P.item.type.defaultProps!==void 0?U(U({},P.item.type.defaultProps),P.item.props):P.item.props,Z=q.activeDot,de=q.hide,Ne=q.activeBar,He=q.activeShape,nn=!!(!de&&O&&z&&(Z||Ne||He)),Mt={};I!=="axis"&&z&&z.props.trigger==="click"?Mt={onClick:Vu(S.handleItemMouseEnter,x.props.onClick)}:I!=="axis"&&(Mt={onMouseLeave:Vu(S.handleItemMouseLeave,x.props.onMouseLeave),onMouseEnter:Vu(S.handleItemMouseEnter,x.props.onMouseEnter)});var J=j.cloneElement(x,U(U({},P.props),Mt));function ae(di){return typeof D.dataKey=="function"?D.dataKey(di.payload):null}if(nn)if($>=0){var se,V;if(D.dataKey&&!D.allowDuplicatedCategory){var je=typeof D.dataKey=="function"?ae:"payload.".concat(D.dataKey.toString());se=qm(F,je,M),V=B&&H&&qm(H,je,M)}else se=F==null?void 0:F[$],V=B&&H&&H[$];if(He||Ne){var he=x.props.activeIndex!==void 0?x.props.activeIndex:$;return[j.cloneElement(x,U(U(U({},P.props),Mt),{},{activeIndex:he})),null,null]}if(!ue(se))return[J].concat(Pa(S.renderActivePoints({item:P,activePoint:se,basePoint:V,childIndex:$,isRange:B})))}else{var Je,Ye=(Je=S.getItemByXY(S.state.activeCoordinate))!==null&&Je!==void 0?Je:{graphicalItem:J},$t=Ye.graphicalItem,Pr=$t.item,io=Pr===void 0?x:Pr,au=$t.childIndex,fi=U(U(U({},P.props),Mt),{},{activeIndex:au});return[j.cloneElement(io,fi),null,null]}return B?[J,null,null]:[J,null]}),ee(S,"renderCustomized",function(x,T,C){return j.cloneElement(x,U(U({key:"recharts-customized-".concat(C)},S.props),S.state))}),ee(S,"renderMap",{CartesianGrid:{handler:Ju,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Ju},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Ju},YAxis:{handler:Ju},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:eu("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=Rk(S.triggeredAfterMouseMove,(E=w.throttleDelay)!==null&&E!==void 0?E:1e3/60),S.state={},S}return efe(v,b),Yce(v,[{key:"componentDidMount",value:function(){var _,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,E=_.children,S=_.data,x=_.height,T=_.layout,C=Wt(E,Pn);if(C){var P=C.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,R=vy(this.state,S,P,I),O=this.state.tooltipTicks[P].coordinate,D=(this.state.offset.top+x)/2,$=T==="horizontal",M=$?{x:O,y:D}:{y:O,x:D},L=this.state.formattedGraphicalItems.find(function(N){var F=N.item;return F.type.name==="Scatter"});L&&(M=U(U({},M),L.props.points[P].tooltipPosition),R=L.props.points[P].tooltipPayload);var z={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:I,activePayload:R,activeCoordinate:M};this.setState(z),this.renderCursor(C),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,x;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(x=this.props.margin.top)!==null&&x!==void 0?x:0}})}return null}},{key:"componentDidUpdate",value:function(_){Km([Wt(_.children,Pn)],[Wt(this.props.children,Pn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Wt(this.props.children,Pn);if(_&&typeof _.props.shared=="boolean"){var E=_.props.shared?"axis":"item";return s.indexOf(E)>=0?E:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var E=this.container,S=E.getBoundingClientRect(),x=dX(S),T={chartX:Math.round(_.pageX-x.left),chartY:Math.round(_.pageY-x.top)},C=S.width/E.offsetWidth||1,P=this.inRange(T.chartX,T.chartY,C);if(!P)return null;var I=this.state,R=I.xAxisMap,O=I.yAxisMap,D=this.getTooltipEventType(),$=jT(this.state,this.props.data,this.props.layout,P);if(D!=="axis"&&R&&O){var M=Ur(R).scale,L=Ur(O).scale,z=M&&M.invert?M.invert(T.chartX):null,N=L&&L.invert?L.invert(T.chartY):null;return U(U({},T),{},{xValue:z,yValue:N},$)}return $?U(U({},T),$):null}},{key:"inRange",value:function(_,E){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,x=this.props.layout,T=_/S,C=E/S;if(x==="horizontal"||x==="vertical"){var P=this.state.offset,I=T>=P.left&&T<=P.left+P.width&&C>=P.top&&C<=P.top+P.height;return I?{x:T,y:C}:null}var R=this.state,O=R.angleAxisMap,D=R.radiusAxisMap;if(O&&D){var $=Ur(O);return gE({x:T,y:C},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,E=this.getTooltipEventType(),S=Wt(_,Pn),x={};S&&E==="axis"&&(S.props.trigger==="click"?x={onClick:this.handleClick}:x={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Vc(this.props,this.handleOuterEvent);return U(U({},T),x)}},{key:"addListener",value:function(){xp.on(Ep,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){xp.removeListener(Ep,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,E,S){for(var x=this.state.formattedGraphicalItems,T=0,C=x.length;T<C;T++){var P=x[T];if(P.item===_||P.props.key===_.key||E===ur(P.item.type)&&S===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,E=this.state.offset,S=E.left,x=E.top,T=E.height,C=E.width;return k.createElement("defs",null,k.createElement("clipPath",{id:_},k.createElement("rect",{x:S,y:x,height:T,width:C})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(E,S){var x=DT(S,2),T=x[0],C=x[1];return U(U({},E),{},ee({},T,C.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(E,S){var x=DT(S,2),T=x[0],C=x[1];return U(U({},E),{},ee({},T,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[_])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(_){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[_])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(_){var E=this.state,S=E.formattedGraphicalItems,x=E.activeItem;if(S&&S.length)for(var T=0,C=S.length;T<C;T++){var P=S[T],I=P.props,R=P.item,O=R.type.defaultProps!==void 0?U(U({},R.type.defaultProps),R.props):R.props,D=ur(R.type);if(D==="Bar"){var $=(I.data||[]).find(function(N){return Qie(_,N)});if($)return{graphicalItem:P,payload:$}}else if(D==="RadialBar"){var M=(I.data||[]).find(function(N){return gE(_,N)});if(M)return{graphicalItem:P,payload:M}}else if(rh(P,x)||ih(P,x)||jl(P,x)){var L=Fae({graphicalItem:P,activeTooltipItem:x,itemData:O.data}),z=O.activeIndex===void 0?L:O.activeIndex;return{graphicalItem:U(U({},P),{},{childIndex:z}),payload:jl(P,x)?O.data[L]:P.props.data[L]}}}return null}},{key:"render",value:function(){var _=this;if(!sS(this))return null;var E=this.props,S=E.children,x=E.className,T=E.width,C=E.height,P=E.style,I=E.compact,R=E.title,O=E.desc,D=LT(E,Hce),$=re(D,!1);if(I)return k.createElement(_T,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},k.createElement(Ym,jo({},$,{width:T,height:C,title:R,desc:O}),this.renderClipPath(),uS(S,this.renderMap)));if(this.props.accessibilityLayer){var M,L;$.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,$.role=(L=this.props.role)!==null&&L!==void 0?L:"application",$.onKeyDown=function(N){_.accessibilityManager.keyboardEvent(N)},$.onFocus=function(){_.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return k.createElement(_T,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},k.createElement("div",jo({className:le("recharts-wrapper",x),style:U({position:"relative",cursor:"default",width:T,height:C},P)},z,{ref:function(F){_.container=F}}),k.createElement(Ym,jo({},$,{width:T,height:C,title:R,desc:O,style:afe}),this.renderClipPath(),uS(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);ee(g,"displayName",n),ee(g,"defaultProps",U({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ee(g,"getDerivedStateFromProps",function(b,v){var w=b.dataKey,_=b.data,E=b.children,S=b.width,x=b.height,T=b.layout,C=b.stackOffset,P=b.margin,I=v.dataStartIndex,R=v.dataEndIndex;if(v.updateId===void 0){var O=FT(b);return U(U(U({},O),{},{updateId:0},m(U(U({props:b},O),{},{updateId:0}),v)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:x,prevLayout:T,prevStackOffset:C,prevMargin:P,prevChildren:E})}if(w!==v.prevDataKey||_!==v.prevData||S!==v.prevWidth||x!==v.prevHeight||T!==v.prevLayout||C!==v.prevStackOffset||!Jo(P,v.prevMargin)){var D=FT(b),$={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},M=U(U({},jT(v,_,T)),{},{updateId:v.updateId+1}),L=U(U(U({},D),$),M);return U(U(U({},L),m(U({props:b},L),v)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:x,prevLayout:T,prevStackOffset:C,prevMargin:P,prevChildren:E})}if(!Km(E,v.prevChildren)){var z,N,F,B,H=Wt(E,wa),q=H&&(z=(N=H.props)===null||N===void 0?void 0:N.startIndex)!==null&&z!==void 0?z:I,Z=H&&(F=(B=H.props)===null||B===void 0?void 0:B.endIndex)!==null&&F!==void 0?F:R,de=q!==I||Z!==R,Ne=!ue(_),He=Ne&&!de?v.updateId:v.updateId+1;return U(U({updateId:He},m(U(U({props:b},v),{},{updateId:He,dataStartIndex:q,dataEndIndex:Z}),v)),{},{prevChildren:E,dataStartIndex:q,dataEndIndex:Z})}return null}),ee(g,"renderActiveDot",function(b,v,w){var _;return j.isValidElement(b)?_=j.cloneElement(b,v):ie(b)?_=b(v):_=k.createElement(E0,v),k.createElement(ve,{className:"recharts-active-dot",key:w},_)});var y=j.forwardRef(function(v,w){return k.createElement(g,jo({},v,{ref:w}))});return y.displayName=g.displayName,y},gfe=nR({chartName:"BarChart",GraphicalChild:ni,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ch},{axisType:"yAxis",AxisComp:fh}],formatAxisMap:vle}),yfe=nR({chartName:"PieChart",GraphicalChild:Cr,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:nh},{axisType:"radiusAxis",AxisComp:eh}],formatAxisMap:lne,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const zT=["#0ea5e9","#4f46e5","#8b5cf6"],vfe=({data:e})=>{const t=Math.PI/180,n=({cx:r,cy:i,midAngle:o,innerRadius:a,outerRadius:s,percent:l,index:u})=>{const c=a+(s-a)*.5,f=r+c*Math.cos(-o*t),h=i+c*Math.sin(-o*t);return l*100<5?null:A.jsx("text",{x:f,y:h,fill:"white",textAnchor:f>r?"start":"end",dominantBaseline:"central",className:"text-xs font-bold",children:`${(l*100).toFixed(0)}%`})};return A.jsx(Nk,{width:"100%",height:"100%",children:A.jsxs(yfe,{children:[A.jsx(Cr,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:n,outerRadius:"80%",fill:"#8884d8",dataKey:"value",children:e.map((r,i)=>A.jsx(jd,{fill:zT[i%zT.length]},`cell-${i}`))}),A.jsx(Pn,{contentStyle:{backgroundColor:"#ffffff",borderColor:"#e5e7eb",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)",color:"#1f2937"},itemStyle:{color:"#1f2937"}}),A.jsx(Xr,{wrapperStyle:{paddingTop:"20px"}})]})})},wfe=({data:e})=>A.jsx(Nk,{width:"100%",height:"100%",children:A.jsxs(gfe,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[A.jsx(BO,{strokeDasharray:"3 3",stroke:"#e5e7eb",vertical:!1}),A.jsx(ch,{dataKey:"name",stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1}),A.jsx(fh,{stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1}),A.jsx(Pn,{cursor:{fill:"#f3f4f6"},contentStyle:{backgroundColor:"#ffffff",borderColor:"#e5e7eb",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)",color:"#1f2937"},itemStyle:{color:"#1f2937"}}),A.jsx(Xr,{wrapperStyle:{paddingTop:"20px"}}),A.jsx(ni,{dataKey:"dostawy",fill:"#0ea5e9",name:"Dostawy",radius:[4,4,0,0]}),A.jsx(ni,{dataKey:"zlecenia",fill:"#4f46e5",name:"Zlecenia",radius:[4,4,0,0]})]})}),HT=({title:e,children:t})=>A.jsxs("div",{className:"bg-card p-6 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700",children:[A.jsx("h3",{className:"text-xl font-semibold mb-4 text-text",children:e}),A.jsx("div",{className:"h-64 md:h-80",children:t})]}),bfe=({analysis:e,isLoading:t,onGenerate:n})=>A.jsxs("div",{className:"bg-white dark:bg-card p-6 rounded-xl shadow-lg border border-indigo-50 dark:border-gray-700 relative overflow-hidden h-full flex flex-col",children:[A.jsxs("div",{className:"flex items-center justify-between mb-4 relative z-10",children:[A.jsxs("h3",{className:"text-xl font-bold text-text flex items-center gap-2",children:[A.jsx("div",{className:"p-1.5 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg text-primary",children:A.jsx(Gm,{size:20})}),"Analityk AI"]}),A.jsxs("button",{onClick:n,disabled:t,className:"text-xs font-bold bg-primary text-white px-4 py-2 rounded-full hover:bg-primary/90 transition-colors flex items-center gap-2 shadow-sm",children:[t?A.jsx(hP,{size:14,className:"animate-spin"}):A.jsx(B3,{size:14}),e?"Odwie analiz":"Generuj analiz"]})]}),A.jsx("div",{className:"relative z-10 flex-grow",children:t?A.jsxs("div",{className:"flex flex-col items-center justify-center h-full min-h-[100px] text-primary animate-pulse",children:[A.jsx(Gm,{size:32,className:"mb-3"}),A.jsx("p",{className:"text-sm font-medium",children:"Analizuj wydajno procesu..."})]}):e?A.jsx("div",{className:"prose prose-sm text-text max-w-none dark:prose-invert",children:e.split(`
`).map((r,i)=>{if(r.startsWith("- ")||r.startsWith("* "))return A.jsx("li",{className:"ml-4 list-disc marker:text-primary",children:r.replace(/[-*] /,"")},i);if(r.trim().length===0)return A.jsx("br",{},i);const o=r.split("**");return A.jsx("p",{className:"mb-2 leading-relaxed",children:o.map((a,s)=>s%2===1?A.jsx("strong",{className:"text-primary font-bold bg-indigo-50 dark:bg-indigo-900/20 px-1 rounded",children:a},s):a)},i)})}):A.jsx("div",{className:"flex flex-col justify-center h-full min-h-[100px]",children:A.jsxs("p",{className:"text-text-secondary italic bg-gray-50 dark:bg-gray-800/50 p-4 rounded-lg border border-gray-100 dark:border-gray-700 text-center",children:['"Kliknij ',A.jsx("strong",{children:"Generuj"}),', aby otrzyma porady operacyjne oparte na Twoich wynikach."']})})})]}),_fe=({result:e,inputData:t,aiAnalysis:n,isAiLoading:r,onGenerateAiAnalysis:i})=>{if(!e)return A.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-card rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-8 text-center",children:[A.jsx(gP,{size:64,className:"text-text-secondary mb-4"}),A.jsx("h3",{className:"text-2xl font-bold mb-2 text-text",children:"Oczekiwanie na dane"}),A.jsx("p",{className:"text-text-secondary max-w-sm",children:'Wprowad dane w formularzu po lewej stronie i kliknij "Oblicz FTE", aby zobaczy wyniki wg standardw.'})]});if(e.error)return A.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-card rounded-xl shadow-lg border border-red-200 dark:border-red-800 p-8 text-center",children:[A.jsx(q_,{size:64,className:"text-red-500 mb-4"}),A.jsx("h3",{className:"text-2xl font-bold mb-2 text-red-600 dark:text-red-400",children:"Bd Walidacji"}),A.jsx("p",{className:"text-text text-lg font-medium mb-2",children:e.error}),A.jsx("p",{className:"text-text-secondary text-sm max-w-md",children:"Popraw zaznaczone wartoci w formularzu, aby dokona oblicze."})]});if(e.total===0&&(t.deliveries>0||t.orders>0))return A.jsxs("div",{className:"flex flex-col items-center justify-center h-full bg-card rounded-xl shadow-lg border border-red-200 dark:border-red-800 p-8 text-center",children:[A.jsx(q_,{size:64,className:"text-red-500 mb-4"}),A.jsx("h3",{className:"text-2xl font-bold mb-2 text-red-600 dark:text-red-400",children:"Bd w danych"}),A.jsx("p",{className:"text-text-secondary max-w-sm",children:"Sprawd, czy normy wydajnociowe (np. dostawy na godzin) nie wynosz zero przy dodatnim wolumenie."})]});const o=[{name:"Odbir",value:e.receivers},{name:"Kompletacja",value:e.pickers},{name:"Pakowanie",value:e.packers}],a=[{name:"Praca",dostawy:t.deliveries,zlecenia:t.orders}],s=e.total<t.currentEmployees,l=e.needed>0?"text-primary":"text-green-600";return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[A.jsxs("div",{className:"p-6 bg-card rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 text-center flex flex-col justify-between h-full",children:[A.jsxs("div",{className:"flex justify-between items-start mb-4",children:[A.jsxs("div",{className:"text-left",children:[A.jsx("h2",{className:"text-lg font-semibold text-text-secondary",children:"Zapotrzebowanie (FTE)"}),A.jsx("p",{className:"text-xs text-text-secondary",children:"Full Time Equivalent"})]}),A.jsxs("div",{className:"text-right bg-blue-50 border border-blue-100 p-3 rounded-lg shadow-sm",children:[A.jsxs("p",{className:"text-xs text-blue-600 font-semibold flex items-center justify-end gap-1 mb-1",children:[A.jsx(dP,{size:14})," Efektywny czas pracy"]}),A.jsxs("p",{className:"font-mono font-bold text-xl text-blue-900",children:[e.effectiveWorkHours,"h ",A.jsx("span",{className:"text-sm font-normal text-blue-500",children:"/ os."})]})]})]}),A.jsxs("div",{children:[A.jsx("p",{className:`text-5xl lg:text-6xl font-extrabold my-2 ${l}`,children:e.needed>0?`+${e.needed}`:"0"}),e.needed>0?A.jsx("p",{className:"text-text-secondary",children:"dodatkowych pracownikw"}):A.jsx("p",{className:"text-green-600 font-medium",children:"Obsada optymalna"}),s&&A.jsxs("p",{className:"text-green-600 font-semibold text-sm mt-1",children:["(Nadmiar: ",t.currentEmployees-e.total,")"]})]}),A.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600 grid grid-cols-3 gap-2 text-text",children:[A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsx("p",{className:"text-xs text-text-secondary uppercase tracking-wider mb-1",children:"Wymagane"}),A.jsx("p",{className:"text-xl font-bold text-primary",children:e.total})]}),A.jsxs("div",{className:"flex flex-col items-center border-l border-r border-gray-200 dark:border-gray-600",children:[A.jsx("p",{className:"text-xs text-text-secondary uppercase tracking-wider mb-1",children:"Obecnie"}),A.jsx("p",{className:"text-xl font-bold",children:t.currentEmployees})]}),A.jsxs("div",{className:"flex flex-col items-center relative group cursor-help",children:[A.jsx("p",{className:"text-xs text-text-secondary uppercase tracking-wider mb-1 underline decoration-dotted",children:"Narzut"}),A.jsx("p",{className:"text-xl font-bold text-orange-500",children:e.buffer})]})]})]}),A.jsx("div",{className:"h-full",children:A.jsx(bfe,{analysis:n,isLoading:r,onGenerate:i})})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[A.jsx(HT,{title:"Podzia etatu (FTE)",children:A.jsx(vfe,{data:o})}),A.jsx(HT,{title:"Wolumen operacyjny",children:A.jsx(wfe,{data:a})})]})]})},Sfe=({onOpenInfo:e,currentView:t,onNavigate:n,isCloudEnabled:r,isSyncing:i})=>{const o=a=>`flex items-center gap-2 px-3 py-1.5 sm:px-4 sm:py-2 rounded-md text-sm font-medium transition-all ${t===a?"bg-white dark:bg-gray-700 text-primary shadow-sm ring-1 ring-black/5 dark:ring-white/10":"text-text-secondary hover:text-text hover:bg-gray-200/50 dark:hover:bg-gray-700/50"}`;return A.jsx("header",{className:"bg-card shadow-md border-b border-gray-200 dark:border-gray-700 sticky top-0 z-40",children:A.jsxs("div",{className:"container mx-auto px-4 py-3 flex flex-wrap items-center justify-between gap-4",children:[A.jsxs("div",{className:"flex items-center cursor-pointer group",onClick:()=>n("calculator"),children:[A.jsx(W3,{className:"w-8 h-8 text-primary transition-transform group-hover:scale-105"}),A.jsx("h1",{className:"ml-3 text-xl md:text-2xl font-bold text-text hidden sm:block",children:"kalkulator_magazynowy"})]}),A.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg overflow-x-auto",children:[A.jsxs("button",{type:"button",onClick:()=>n("calculator"),className:o("calculator"),children:[A.jsx(fP,{size:18}),A.jsx("span",{children:"Kalkulator"})]}),A.jsxs("button",{type:"button",onClick:()=>n("history"),className:o("history"),children:[A.jsx(D3,{size:18}),A.jsx("span",{children:"Historia"})]}),A.jsxs("button",{type:"button",onClick:()=>n("settings"),className:o("settings"),children:[A.jsx(Tv,{size:18}),A.jsx("span",{className:"hidden sm:inline",children:"Ustawienia"})]})]}),A.jsxs("div",{className:"flex items-center gap-3 ml-auto md:ml-0",children:[A.jsxs("div",{className:`hidden sm:flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium border ${r?"bg-green-50 text-green-700 border-green-200 dark:bg-green-900/20 dark:text-green-400 dark:border-green-800":"bg-gray-50 text-gray-500 border-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700"}`,children:[i?A.jsx(z3,{size:14,className:"animate-spin"}):r?A.jsx(R3,{size:14}):A.jsx(O3,{size:14}),A.jsx("span",{children:r?i?"Sync...":"Online":"Lokalnie"})]}),e&&A.jsxs("button",{type:"button",onClick:e,className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium text-primary bg-primary/10 hover:bg-primary/20 transition-colors",children:[A.jsx($3,{size:18}),A.jsx("span",{className:"hidden md:inline",children:"Pomoc"})]})]})]})})},xfe=({isOpen:e,onClose:t})=>e?A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:A.jsxs("div",{className:"bg-card w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 flex flex-col",children:[A.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[A.jsxs("h2",{className:"text-2xl font-bold text-text flex items-center gap-2",children:[A.jsx(fP,{className:"text-primary"}),"Metodologia Oblicze"]}),A.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 text-text-secondary transition-colors",children:A.jsx(Av,{size:24})})]}),A.jsxs("div",{className:"p-6 space-y-8 text-text",children:[A.jsxs("section",{children:[A.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2 mb-3 text-primary",children:[A.jsx(dP,{size:20}),"1. Efektywny Czas Pracy (Net Available Time)"]}),A.jsx("p",{className:"text-sm text-text-secondary mb-3",children:"Najpierw obliczamy, ile czasu realnie pracownik spdza na procesie, odejmujc przerwy i uwzgldniajc wspczynnik wydajnoci (OEE/zmczenie)."}),A.jsxs("div",{className:"bg-background p-4 rounded-lg font-mono text-sm border border-gray-200 dark:border-gray-700",children:[A.jsxs("div",{className:"mb-2",children:[A.jsx("span",{className:"font-bold text-blue-500",children:"Czas Netto"})," = Czas Zmiany - Czas Przerw"]}),A.jsxs("div",{children:[A.jsx("span",{className:"font-bold text-green-500",children:"Efektywny Czas (h)"})," = Czas Netto  (Wydajno / 100)"]})]}),A.jsxs("p",{className:"text-xs text-text-secondary mt-2",children:["Np. 8h zmiany - 30 min przerwy = 7.5h. Przy wydajnoci 85%, efektywny czas to ",A.jsx("strong",{children:"6.375h"}),"."]})]}),A.jsxs("section",{children:[A.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2 mb-3 text-primary",children:[A.jsx(Gm,{size:20}),"2. Pracochonno (Workload)"]}),A.jsx("p",{className:"text-sm text-text-secondary mb-3",children:"Obliczamy ile roboczogodzin (man-hours) potrzeba na wykonanie zada przy zaoonych normach."}),A.jsxs("div",{className:"bg-background p-4 rounded-lg font-mono text-sm border border-gray-200 dark:border-gray-700",children:[A.jsx("span",{className:"font-bold text-purple-500",children:"Roboczogodziny"})," = Wolumen / Norma na godzin"]})]}),A.jsxs("section",{children:[A.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2 mb-3 text-primary",children:[A.jsx(gP,{size:20}),"3. Zapotrzebowanie (FTE)"]}),A.jsx("p",{className:"text-sm text-text-secondary mb-3",children:"Dzielimy pracochonno przez efektywny czas pracy pojedynczego czowieka. Wynik zaokrglamy w gr (sufit), aby zapewni pokrycie procesu."}),A.jsxs("div",{className:"bg-background p-4 rounded-lg font-mono text-sm border border-gray-200 dark:border-gray-700",children:[A.jsx("span",{className:"font-bold text-orange-500",children:"FTE"})," = Roboczogodziny / Efektywny Czas (h)"]})]}),A.jsxs("section",{children:[A.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2 mb-3 text-primary",children:[A.jsx(L3,{size:20}),"4. Narzut (Buffer)"]}),A.jsx("p",{className:"text-sm text-text-secondary mb-3",children:'Wskanik ten pokazuje, ilu "dodatkowych" pracownikw zatrudniasz tylko dlatego, e ludzie nie s robotami (musz mie przerwy i nie pracuj ze 100% wydajnoci przez ca zmian).'}),A.jsxs("div",{className:"bg-background p-4 rounded-lg font-mono text-sm border border-gray-200 dark:border-gray-700",children:[A.jsx("span",{className:"font-bold text-yellow-600 dark:text-yellow-500",children:"Narzut"})," = FTE (Realne) - FTE (Teoretyczne brutto)"]}),A.jsxs("p",{className:"text-xs text-text-secondary mt-2",children:["Przykad: Jeli potrzebujesz 10 osb realnie, ale matematycznie (bez przerw i przy 100% wydajnoci) wystarczyoby 8 osb, to Twj ",A.jsx("strong",{children:"Narzut wynosi 2"}),'. To koszt "czynnika ludzkiego".']})]}),A.jsxs("section",{children:[A.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2 mb-3 text-primary",children:[A.jsx(T3,{size:20}),"5. Braki (Luka Kadrowa)"]}),A.jsx("p",{className:"text-sm text-text-secondary mb-3",children:"Jest to kluczowy wskanik operacyjny pokazujcy rnic midzy planem a stanem faktycznym."}),A.jsxs("div",{className:"bg-background p-4 rounded-lg font-mono text-sm border border-gray-200 dark:border-gray-700",children:[A.jsx("span",{className:"font-bold text-red-500",children:"Braki"})," = Wymagane FTE - Obecni Pracownicy"]}),A.jsxs("p",{className:"text-xs text-text-secondary mt-2",children:["Jeli wynik jest dodatni (np. +3), oznacza to konieczno dooenia 3 osb (lub nadgodzin).",A.jsx("br",{}),"Jeli wynik jest 0 lub ujemny, obsada jest wystarczajca."]})]})]}),A.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 bg-background/50",children:A.jsx("button",{onClick:t,className:"w-full py-2 px-4 bg-primary text-white rounded-lg font-semibold hover:bg-primary/90 transition-colors",children:"Rozumiem"})})]})}):null,Efe=({history:e,onEdit:t,onDelete:n,onExport:r})=>{const[i,o]=j.useState(""),[a,s]=j.useState(""),[l,u]=j.useState(""),c=j.useMemo(()=>e.filter(g=>{const y=i.toLowerCase(),b=`
                ${g.data.date||""} 
                ${g.data.deliveries} 
                ${g.data.orders} 
                ${g.data.currentEmployees} 
                ${g.result.total}
                ${g.result.receivers}
                ${g.result.pickers}
                ${g.result.packers}
            `.toLowerCase(),v=y===""||b.includes(y);let w=!0;if(a||l){const _=g.data.date||new Date(g.timestamp).toISOString().split("T")[0];a&&_<a&&(w=!1),l&&w&&_>l&&(w=!1)}return v&&w}),[e,i,a,l]),f=()=>{o(""),s(""),u("")},h=g=>{const y=new Date,b=_=>{const E=_.getFullYear(),S=String(_.getMonth()+1).padStart(2,"0"),x=String(_.getDate()).padStart(2,"0");return`${E}-${S}-${x}`};let v=null,w=null;switch(g){case"today":v=y,w=y;break;case"yesterday":v=new Date(y),v.setDate(y.getDate()-1),w=new Date(v);break;case"last7":w=y,v=new Date(y),v.setDate(y.getDate()-6);break;case"last30":w=y,v=new Date(y),v.setDate(y.getDate()-29);break;case"thisMonth":v=new Date(y.getFullYear(),y.getMonth(),1),w=new Date(y.getFullYear(),y.getMonth()+1,0);break;case"lastMonth":v=new Date(y.getFullYear(),y.getMonth()-1,1),w=new Date(y.getFullYear(),y.getMonth(),0);break;case"all":default:s(""),u("");return}v&&w&&(s(b(v)),u(b(w)))},m=i||a||l;return e.length===0?A.jsxs("div",{className:"flex flex-col items-center justify-center h-96 bg-card rounded-xl shadow border border-gray-200 dark:border-gray-700 text-center p-8",children:[A.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-full mb-4",children:A.jsx(W_,{size:48,className:"text-text-secondary"})}),A.jsx("h3",{className:"text-xl font-bold text-text mb-2",children:"Brak zapisanych danych"}),A.jsx("p",{className:"text-text-secondary max-w-md",children:'Uyj kalkulatora i kliknij przycisk "Zapisz", aby zachowa wyniki oblicze i utworzy histori raportw.'})]}):A.jsxs("div",{className:"bg-card rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 flex flex-col h-full overflow-hidden",children:[A.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex flex-col gap-4",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-bold text-text",children:"Historia Oblicze"}),A.jsx("p",{className:"text-text-secondary text-sm",children:"Zarzdzaj zapisanymi raportami i eksportuj dane"})]}),A.jsxs(Yr,{onClick:r,className:"bg-green-600 hover:bg-green-700 text-white flex items-center gap-2 shrink-0",children:[A.jsx(W_,{size:18}),"Eksportuj do Excela (CSV)"]})]}),A.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-center bg-background p-3 rounded-lg border border-gray-200 dark:border-gray-700",children:[A.jsxs("div",{className:"relative w-full md:w-64",children:[A.jsx(V3,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-secondary",size:16}),A.jsx("input",{type:"text",placeholder:"Szukaj (data, ilo...)",value:i,onChange:g=>o(g.target.value),className:"w-full pl-9 pr-3 py-2 bg-card border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:ring-2 focus:ring-primary outline-none text-text"})]}),A.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full md:w-auto",children:[A.jsxs("div",{className:"flex items-center gap-2 px-2 py-2 bg-card border border-gray-300 dark:border-gray-600 rounded-md",children:[A.jsx(P3,{size:16,className:"text-text-secondary"}),A.jsxs("select",{className:"bg-transparent text-sm text-text focus:outline-none cursor-pointer border-none p-0 pr-2",onChange:g=>h(g.target.value),defaultValue:"",children:[A.jsx("option",{value:"",disabled:!0,hidden:!0,children:"Szybki wybr..."}),A.jsx("option",{value:"today",children:"Dzisiaj"}),A.jsx("option",{value:"yesterday",children:"Wczoraj"}),A.jsx("option",{value:"last7",children:"Ostatnie 7 dni"}),A.jsx("option",{value:"last30",children:"Ostatnie 30 dni"}),A.jsx("option",{value:"thisMonth",children:"Ten miesic"}),A.jsx("option",{value:"lastMonth",children:"Poprzedni miesic"}),A.jsx("option",{value:"all",children:"Wszystkie"})]})]}),A.jsxs("div",{className:"flex items-center gap-2 px-2 py-2 bg-card border border-gray-300 dark:border-gray-600 rounded-md",children:[A.jsx(Vm,{size:16,className:"text-text-secondary"}),A.jsx("span",{className:"text-xs text-text-secondary whitespace-nowrap",children:"Od:"}),A.jsx("input",{type:"date",value:a,onChange:g=>s(g.target.value),className:"bg-transparent text-sm text-text focus:outline-none w-32"})]}),A.jsx("span",{className:"text-text-secondary hidden sm:inline",children:"-"}),A.jsxs("div",{className:"flex items-center gap-2 px-2 py-2 bg-card border border-gray-300 dark:border-gray-600 rounded-md",children:[A.jsx(Vm,{size:16,className:"text-text-secondary"}),A.jsx("span",{className:"text-xs text-text-secondary whitespace-nowrap",children:"Do:"}),A.jsx("input",{type:"date",value:l,onChange:g=>u(g.target.value),className:"bg-transparent text-sm text-text focus:outline-none w-32"})]})]}),m&&A.jsxs("button",{onClick:f,className:"flex items-center gap-1 px-3 py-2 text-sm text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors ml-auto md:ml-0",children:[A.jsx(Av,{size:16}),"Wyczy"]})]})]}),A.jsx("div",{className:"overflow-x-auto flex-grow p-4",children:c.length>0?A.jsxs("table",{className:"w-full text-sm text-left text-text-secondary",children:[A.jsx("thead",{className:"text-xs text-text uppercase bg-gray-50 dark:bg-gray-800/50",children:A.jsxs("tr",{children:[A.jsx("th",{scope:"col",className:"px-4 py-3 rounded-l-lg",children:"Data"}),A.jsx("th",{scope:"col",className:"px-4 py-3",children:"Parametry"}),A.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:"Dostawy / Zlecenia"}),A.jsx("th",{scope:"col",className:"px-4 py-3 text-center",children:"Obecna Zaoga"}),A.jsx("th",{scope:"col",className:"px-4 py-3 text-center bg-indigo-50 dark:bg-indigo-900/20 font-bold text-primary",children:"Wymagane FTE"}),A.jsx("th",{scope:"col",className:"px-4 py-3 text-center bg-orange-50 dark:bg-orange-900/20 font-bold text-orange-600",children:"Braki"}),A.jsx("th",{scope:"col",className:"px-4 py-3 rounded-r-lg text-right",children:"Akcje"})]})}),A.jsx("tbody",{children:c.map(g=>A.jsxs("tr",{className:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[A.jsx("td",{className:"px-4 py-4 font-medium text-text whitespace-nowrap",children:g.data.date||new Date(g.timestamp).toLocaleDateString()}),A.jsx("td",{className:"px-4 py-4",children:A.jsxs("div",{className:"flex flex-col text-xs",children:[A.jsxs("span",{children:["Zmiana: ",g.data.workHours,"h"]}),A.jsxs("span",{children:["Przerwa: ",g.data.breakTime,"min"]}),A.jsxs("span",{children:["Wydajno: ",g.data.processEfficiency,"%"]})]})}),A.jsxs("td",{className:"px-4 py-4 text-center font-mono",children:[g.data.deliveries," / ",g.data.orders]}),A.jsx("td",{className:"px-4 py-4 text-center font-bold",children:g.data.currentEmployees}),A.jsxs("td",{className:"px-4 py-4 text-center bg-indigo-50/50 dark:bg-indigo-900/10",children:[A.jsx("span",{className:"text-lg font-bold text-primary",children:g.result.total}),A.jsxs("span",{className:"block text-xs text-text-secondary",children:["(Odb:",g.result.receivers," Kom:",g.result.pickers," Pak:",g.result.packers,")"]})]}),A.jsx("td",{className:"px-4 py-4 text-center bg-orange-50/50 dark:bg-orange-900/10",children:A.jsx("span",{className:`font-bold ${g.result.needed>0?"text-red-500":"text-green-500"}`,children:g.result.needed>0?`+${g.result.needed}`:"OK"})}),A.jsx("td",{className:"px-4 py-4 text-right",children:A.jsxs("div",{className:"flex items-center justify-end gap-2",children:[A.jsx("button",{onClick:()=>t(g),className:"p-2 text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"Edytuj / Wczytaj",children:A.jsx(G3,{size:18})}),A.jsx("button",{onClick:()=>n(g.id),className:"p-2 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Usu",children:A.jsx(q3,{size:18})})]})})]},g.id))})]}):A.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-text-secondary",children:[A.jsx(M3,{size:32,className:"mb-2 opacity-50"}),A.jsx("p",{children:"Nie znaleziono wynikw dla podanych filtrw."}),A.jsx("button",{onClick:f,className:"text-primary text-sm mt-2 hover:underline",children:"Wyczy filtry"})]})})]})},Tfe=({settings:e,onSave:t})=>{const[n,r]=j.useState(e),[i,o]=j.useState(!1);j.useEffect(()=>{r(e)},[e]);const a=u=>{const{name:c,value:f}=u.target;r(h=>({...h,[c]:Number(f)}))},s=()=>{t(n),o(!0),setTimeout(()=>o(!1),3e3)},l=()=>{const u={defaultWorkHours:8,defaultBreakTime:30,defaultEfficiency:85};r(u),t(u),o(!0),setTimeout(()=>o(!1),3e3)};return A.jsx("div",{className:"flex justify-center h-full",children:A.jsxs("div",{className:"w-full max-w-2xl bg-card rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden flex flex-col",children:[A.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50",children:[A.jsxs("h2",{className:"text-2xl font-bold text-text flex items-center gap-3",children:[A.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg text-primary",children:A.jsx(Tv,{size:24})}),"Ustawienia Aplikacji"]}),A.jsx("p",{className:"text-text-secondary mt-1 ml-11",children:"Zdefiniuj domylne wartoci, ktre bd uywane przy kadym nowym obliczeniu."})]}),A.jsxs("div",{className:"p-8 space-y-8 flex-grow",children:[A.jsxs("section",{className:"space-y-4",children:[A.jsx("h3",{className:"text-lg font-semibold text-text border-b border-gray-100 dark:border-gray-700 pb-2",children:"Domylne Parametry Zmiany"}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[A.jsx(Dt,{label:"Domylny czas zmiany (h)",name:"defaultWorkHours",value:n.defaultWorkHours,onChange:a}),A.jsx(Dt,{label:"Domylny czas przerw (min)",name:"defaultBreakTime",value:n.defaultBreakTime,onChange:a})]})]}),A.jsxs("section",{className:"space-y-4",children:[A.jsx("h3",{className:"text-lg font-semibold text-text border-b border-gray-100 dark:border-gray-700 pb-2",children:"Domylne Parametry Wydajnoci"}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:A.jsx(Dt,{label:"Domylna wydajno procesu (%)",name:"defaultEfficiency",value:n.defaultEfficiency,onChange:a})}),A.jsxs("p",{className:"text-sm text-text-secondary bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-100 dark:border-blue-800",children:[A.jsx("strong",{children:"Wskazwka:"}),' Standard logistyczny OEE zakada wydajno na poziomie 85%. Zmieniajc t warto, wpywasz na to, jak agresywnie system wylicza "Efektywny czas pracy".']})]})]}),A.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 flex flex-col sm:flex-row items-center justify-between gap-4",children:[A.jsxs(Yr,{variant:"secondary",onClick:l,className:"text-red-600 hover:bg-red-50 w-full sm:w-auto",children:[A.jsx(H3,{size:18,className:"mr-2"}),"Przywr Domylne"]}),A.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[i&&A.jsxs("span",{className:"text-green-600 font-medium flex items-center gap-1 animate-fade-in",children:[A.jsx(k3,{size:18}),"Zapisano!"]}),A.jsxs(Yr,{onClick:s,className:"w-full sm:w-auto",children:[A.jsx(pP,{size:18,className:"mr-2"}),"Zapisz Ustawienia"]})]})]})]})})},Afe={defaultWorkHours:8,defaultBreakTime:30,defaultEfficiency:85};function Cfe(){const[e,t]=j.useState(()=>{const M=localStorage.getItem("warehouseCalculatorSettings");return M?JSON.parse(M):Afe}),n={deliveries:0,itemsPerDelivery:0,deliveriesPerHour:0,orders:0,itemsPerOrder:0,itemsPickedPerHour:0,ordersPackedPerHour:0,workHours:e.defaultWorkHours,currentEmployees:0,breakTime:e.defaultBreakTime,processEfficiency:e.defaultEfficiency,date:new Date().toISOString().split("T")[0]},[r,i]=j.useState(n),[o,a]=j.useState(null),[s,l]=j.useState(!1),[u,c]=j.useState("calculator"),{history:f,addRecord:h,updateRecord:m,deleteRecord:g,isCloudEnabled:y,isSyncing:b}=S3(),[v,w]=j.useState(null),[_,E]=j.useState(!1);j.useEffect(()=>{localStorage.setItem("warehouseCalculatorSettings",JSON.stringify(e))},[e]);const S=j.useMemo(()=>{if(!r.id)return!1;const M=f.find(L=>L.id===r.id);return M?M.data.date===r.date:!1},[r.id,r.date,f]),x=j.useCallback(()=>{const M=Fh(r);a(M),w(null)},[r]),T=j.useCallback(()=>{const M={deliveries:25,itemsPerDelivery:100,deliveriesPerHour:2,orders:150,itemsPerOrder:5,itemsPickedPerHour:60,ordersPackedPerHour:6,workHours:e.defaultWorkHours,currentEmployees:15,breakTime:e.defaultBreakTime,processEfficiency:e.defaultEfficiency,date:new Date().toISOString().split("T")[0]};i(M);const L=Fh(M);a(L),w(null)},[e]),C=async()=>{if(o){E(!0);try{const M=await qF(r,o);w(M)}catch(M){console.error("Error generating analysis",M)}finally{E(!1)}}},P=async()=>{const M=Fh(r);a(M);let L=r.id,z=!1,N="";if(!L)L=crypto.randomUUID(),z=!0,N="Zapisano nowy raport!";else{const B=f.find(H=>H.id===L);B?B.data.date!==r.date?(L=crypto.randomUUID(),z=!0,N=`Utworzono nowy zapis dla daty ${r.date}!`):(z=!1,N="Zaktualizowano istniejcy zapis."):(L=crypto.randomUUID(),z=!0,N="Zapisano nowy raport!")}const F={id:L,timestamp:Date.now(),data:{...r,id:L},result:M,aiAnalysis:v||void 0};z?await h(F):await m(F),i(B=>({...B,id:L})),alert(N)},I=M=>{i(M.data),a(M.result),M.aiAnalysis?w(M.aiAnalysis):w(null),c("calculator")},R=async M=>{window.confirm("Czy na pewno chcesz usun ten zapis?")&&await g(M)},O=M=>{t(M)},D=()=>{const M=["Data","ID","Dostawy","Art./Dostawa","Norma Dostaw","Zlecenia","Art./Zlecenie","Norma Zbirki","Norma Pakowania","Godziny Pracy","Przerwa (min)","Wydajno (%)","Obecni Pracownicy","Wymagani: Odbir","Wymagani: Kompletacja","Wymagani: Pakowanie","Suma Wymagana","Bufor","Braki","Analiza AI"],L=f.map(H=>[H.data.date,H.id,H.data.deliveries,H.data.itemsPerDelivery,H.data.deliveriesPerHour,H.data.orders,H.data.itemsPerOrder,H.data.itemsPickedPerHour,H.data.ordersPackedPerHour,H.data.workHours,H.data.breakTime,H.data.processEfficiency,H.data.currentEmployees,H.result.receivers,H.result.pickers,H.result.packers,H.result.total,H.result.buffer,H.result.needed,H.aiAnalysis?"Tak":"Nie"]),z=[M.join(";"),...L.map(H=>H.join(";"))].join(`
`),N=new Blob(["\uFEFF"+z],{type:"text/csv;charset=utf-8;"}),F=URL.createObjectURL(N),B=document.createElement("a");B.setAttribute("href",F),B.setAttribute("download",`raport_magazynowy_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(B),B.click(),document.body.removeChild(B)},$=()=>{switch(u){case"calculator":return A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 h-full",children:[A.jsx("div",{className:"lg:col-span-4 h-full",children:A.jsx(J3,{data:r,setData:i,onCalculate:x,onImport:T,onSave:P,isUpdateMode:S})}),A.jsx("div",{className:"lg:col-span-8 h-full",children:A.jsx(_fe,{result:o,inputData:r,aiAnalysis:v,isAiLoading:_,onGenerateAiAnalysis:C})})]});case"history":return A.jsx(Efe,{history:f,onEdit:I,onDelete:R,onExport:D});case"settings":return A.jsx(Tfe,{settings:e,onSave:O})}};return A.jsxs("div",{className:"min-h-screen bg-background text-text font-sans flex flex-col",children:[A.jsx(Sfe,{currentView:u,onNavigate:c,onOpenInfo:()=>l(!0),isCloudEnabled:y,isSyncing:b}),A.jsx("main",{className:"flex-grow container mx-auto px-4 py-8",children:$()}),A.jsx(xfe,{isOpen:s,onClose:()=>l(!1)})]})}class Pfe extends j.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Uncaught error:",t,n)}render(){var t;return this.state.hasError?A.jsxs("div",{style:{padding:"20px",fontFamily:"sans-serif"},children:[A.jsx("h1",{style:{color:"#dc2626"},children:"Wystpi bd krytyczny"}),A.jsx("p",{children:"Aplikacja napotkaa problem podczas adowania."}),A.jsx("pre",{style:{marginTop:"10px",padding:"10px",background:"#f3f4f6",borderRadius:"4px",overflow:"auto",color:"#1f2937"},children:(t=this.state.error)==null?void 0:t.toString()}),A.jsx("button",{style:{marginTop:"20px",padding:"10px 20px",background:"#4f46e5",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},onClick:()=>window.location.reload(),children:"Odwie stron"})]}):this.props.children}}const rR=document.getElementById("root");if(!rR)throw new Error("Could not find root element to mount to");const kfe=Ap.createRoot(rR);kfe.render(A.jsx(k.StrictMode,{children:A.jsx(Pfe,{children:A.jsx(Cfe,{})})}));
